(self.webpackChunk_1919142_ionic_angular=self.webpackChunk_1919142_ionic_angular||[]).push([[179],{2011:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Dh:()=>he,GT:()=>xe,cc:()=>ge,hO:()=>ae,on:()=>K,pX:()=>Ie,xv:()=>_e});var u=O(4650),U=O(127),R=O(5813);Dt=O.hmd(Dt);const me=["ngOnDestroy"],Ie=(B,Pe,Ue,Se={})=>new Proxy(B,{get:(Te,we)=>Ue.runOutsideAngular(()=>{var oe;if(B[we])return!(null===(oe=Se?.spy)||void 0===oe)&&oe.get&&Se.spy.get(we,B[we]),B[we];if(me.indexOf(we)>-1)return()=>{};const z=Pe.toPromise().then(re=>{const de=re&&re[we];return"function"==typeof de?de.bind(re):de&&de.then?de.then(G=>Ue.run(()=>G)):Ue.run(()=>de)});return new Proxy(()=>{},{get:(re,de)=>z[de],apply:(re,de,G)=>z.then(V=>{var W;const Z=V&&V(...G);return!(null===(W=Se?.spy)||void 0===W)&&W.apply&&Se.spy.apply(we,G,Z),Z})})})}),xe=(B,Pe)=>{Pe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Se=>{Object.defineProperty(B.prototype,Se,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Se))})})};class te{constructor(Pe){return Pe}}const he=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function K(B,Pe,Ue){const Te="object"==typeof Ue&&Ue||{};Te.name=Te.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const oe=U.Z.apps.filter(z=>z&&z.name===Te.name)[0]||Pe.runOutsideAngular(()=>U.Z.initializeApp(B,Te));try{JSON.stringify(B)!==JSON.stringify(oe.options)&&Y("error",`${oe.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te(oe)}const Y=(B,...Pe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[B](...Pe)},ee={provide:te,useFactory:K,deps:[he,u.R0b,[new u.FiY,_e]]};let ae=(()=>{class B{constructor(Ue){U.Z.registerVersion("angularfire",R.q4.full,"core"),U.Z.registerVersion("angularfire",R.q4.full,"app-compat"),U.Z.registerVersion("angular",u.q4F.full,Ue.toString())}static initializeApp(Ue,Se){return{ngModule:B,providers:[{provide:he,useValue:Ue},{provide:_e,useValue:Se}]}}}return B.\u0275fac=function(Ue){return new(Ue||B)(u.LFG(u.Lbi))},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({providers:[ee]}),B})();function ge(B,Pe,Ue,Se,Te){const[,we,oe]=globalThis.\u0275AngularfireInstanceCache.find(z=>z[0]===B)||[];if(we)return function fe(B,Pe){try{return B.toString()===Pe.toString()}catch{return B===Pe}}(Te,oe)||(ne("error",`${Pe} was already initialized on the ${Ue} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ne("warn",{is:Te,was:oe})),we;{const z=Se();return globalThis.\u0275AngularfireInstanceCache.push([B,z,Te]),z}}const He=!!Dt.hot,ne=(B,...Pe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[B](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Dt,Ge,O)=>{"use strict";O.d(Ge,{q4:()=>ai,iC:()=>ls,fc:()=>pl,HU:()=>So,vb:()=>ka,JM:()=>ui});var u=O(4650),U=O(5867),R=O(5861),me=O(9681),Ie=O(2090),xe=O(4859),te=O(1877),he=O(8766);const _e="@firebase/installations",K="0.5.16",ee=`w:${K}`,ae="FIS_v2",Pe=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(C){return C instanceof Ie.ZR&&C.code.includes("request-failed")}function Se({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Te(C){return{token:C.token,requestStatus:2,expiresIn:V(C.expiresIn),creationTime:Date.now()}}function we(C,D){return oe.apply(this,arguments)}function oe(){return(oe=(0,R.Z)(function*(C,D){const X=(yield D.json()).error;return Pe.create("request-failed",{requestName:C,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function z({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function re(C,{refreshToken:D}){const M=z(C);return M.append("Authorization",function W(C){return`${ae} ${C}`}(D)),M}function de(C){return G.apply(this,arguments)}function G(){return(G=(0,R.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function V(C){return Number(C.replace("s","000"))}function Z(C,D){return Le.apply(this,arguments)}function Le(){return(Le=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:M}){const X=Se(C),Ee=z(C),Be=D.getImmediate({optional:!0});if(Be){const Lt=yield Be.getHeartbeatsHeader();Lt&&Ee.append("x-firebase-client",Lt)}const mt={method:"POST",headers:Ee,body:JSON.stringify({fid:M,authVersion:ae,appId:C.appId,sdkVersion:ee})},Ce=yield de(()=>fetch(X,mt));if(Ce.ok){const Lt=yield Ce.json();return{fid:Lt.fid||M,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:Te(Lt.authToken)}}throw yield we("Create Installation",Ce)})).apply(this,arguments)}function qe(C){return new Promise(D=>{setTimeout(D,C)})}const $e=/^[cdef][\w-]{21}$/;function ce(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function De(C){return function ut(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return $e.test(M)?M:""}catch{return""}}function ke(C){return`${C.appName}!${C.appId}`}const Ne=new Map;function Ye(C,D){const M=ke(C);ct(M,D),function Jt(C,D){const M=function hn(){return!un&&"BroadcastChannel"in self&&(un=new BroadcastChannel("[Firebase] FID Change"),un.onmessage=C=>{ct(C.data.key,C.data.fid)}),un}();M&&M.postMessage({key:C,fid:D}),function In(){0===Ne.size&&un&&(un.close(),un=null)}()}(M,D)}function ct(C,D){const M=Ne.get(C);if(M)for(const X of M)X(D)}let un=null;const kn="firebase-installations-store";let sr=null;function $r(){return sr||(sr=(0,he.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(kn)}})),sr}function gt(C,D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,R.Z)(function*(C,D){const M=ke(C),Ee=(yield $r()).transaction(kn,"readwrite"),Be=Ee.objectStore(kn),it=yield Be.get(M);return yield Be.put(D,M),yield Ee.done,(!it||it.fid!==D.fid)&&Ye(C,D.fid),D})).apply(this,arguments)}function Dn(C){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(C){const D=ke(C),X=(yield $r()).transaction(kn,"readwrite");yield X.objectStore(kn).delete(D),yield X.done})).apply(this,arguments)}function Tn(C,D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,R.Z)(function*(C,D){const M=ke(C),Ee=(yield $r()).transaction(kn,"readwrite"),Be=Ee.objectStore(kn),it=yield Be.get(M),mt=D(it);return void 0===mt?yield Be.delete(M):yield Be.put(mt,M),yield Ee.done,mt&&(!it||it.fid!==mt.fid)&&Ye(C,mt.fid),mt})).apply(this,arguments)}function Pn(C){return $n.apply(this,arguments)}function $n(){return($n=(0,R.Z)(function*(C){let D;const M=yield Tn(C.appConfig,X=>{const Ee=Nn(X),Be=kt(C,Ee);return D=Be.registrationPromise,Be.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Nn(C){return zt(C||{fid:ce(),registrationStatus:0})}function kt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Pe.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},X=function Pt(C,D){return Gt.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:X}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ar(C)}:{installationEntry:D}}function Gt(){return(Gt=(0,R.Z)(function*(C,D){try{const M=yield Z(C,D);return gt(C.appConfig,M)}catch(M){throw Ue(M)&&409===M.customData.serverCode?yield Dn(C.appConfig):yield gt(C.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function ar(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,R.Z)(function*(C){let D=yield Bn(C.appConfig);for(;1===D.registrationStatus;)yield qe(100),D=yield Bn(C.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:X}=yield Pn(C);return X||M}return D})).apply(this,arguments)}function Bn(C){return Tn(C,D=>{if(!D)throw Pe.create("installation-not-found");return zt(D)})}function zt(C){return function Er(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Xt(C,D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},M){const X=gn(C,M),Ee=re(C,M),Be=D.getImmediate({optional:!0});if(Be){const Lt=yield Be.getHeartbeatsHeader();Lt&&Ee.append("x-firebase-client",Lt)}const mt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:ee,appId:C.appId}})},Ce=yield de(()=>fetch(X,mt));if(Ce.ok)return Te(yield Ce.json());throw yield we("Generate Auth Token",Ce)})).apply(this,arguments)}function gn(C,{fid:D}){return`${Se(C)}/${D}/authTokens:generate`}function ur(C){return Un.apply(this,arguments)}function Un(){return(Un=(0,R.Z)(function*(C,D=!1){let M;const X=yield Tn(C.appConfig,Be=>{if(!fn(Be))throw Pe.create("not-registered");const it=Be.authToken;if(!D&&ie(it))return Be;if(1===it.requestStatus)return M=wt(C,D),Be;{if(!navigator.onLine)throw Pe.create("app-offline");const mt=se(Be);return M=$t(C,mt),mt}});return M?yield M:X.authToken})).apply(this,arguments)}function wt(C,D){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,R.Z)(function*(C,D){let M=yield bt(C.appConfig);for(;1===M.authToken.requestStatus;)yield qe(100),M=yield bt(C.appConfig);const X=M.authToken;return 0===X.requestStatus?ur(C,D):X})).apply(this,arguments)}function bt(C){return Tn(C,D=>{if(!fn(D))throw Pe.create("not-registered");return function q(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function $t(C,D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,R.Z)(function*(C,D){try{const M=yield Xt(C,D),X=Object.assign(Object.assign({},D),{authToken:M});return yield gt(C.appConfig,X),M}catch(M){if(!Ue(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const X=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield gt(C.appConfig,X)}else yield Dn(C.appConfig);throw M}})).apply(this,arguments)}function fn(C){return void 0!==C&&2===C.registrationStatus}function ie(C){return 2===C.requestStatus&&!function J(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function se(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function H(){return(H=(0,R.Z)(function*(C){const D=C,{installationEntry:M,registrationPromise:X}=yield Pn(D);return X?X.catch(console.error):ur(D).catch(console.error),M.fid})).apply(this,arguments)}function nt(){return(nt=(0,R.Z)(function*(C,D=!1){const M=C;return yield Tt(M),(yield ur(M,D)).token})).apply(this,arguments)}function Tt(C){return At.apply(this,arguments)}function At(){return(At=(0,R.Z)(function*(C){const{registrationPromise:D}=yield Pn(C);D&&(yield D)})).apply(this,arguments)}function Hi(C){return Pe.create("missing-app-config-values",{valueName:C})}const Br="installations",Gi=C=>{const D=C.getProvider("app").getImmediate(),M=function jn(C){if(!C||!C.options)throw Hi("App Configuration");if(!C.name)throw Hi("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!C.options[M])throw Hi(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,me._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Di=C=>{const D=C.getProvider("app").getImmediate(),M=(0,me._getProvider)(D,Br).getImmediate();return{getId:()=>function k(C){return H.apply(this,arguments)}(M),getToken:Ee=>function Me(C){return nt.apply(this,arguments)}(M,Ee)}};(function hi(){(0,me._registerComponent)(new xe.wA(Br,Gi,"PUBLIC")),(0,me._registerComponent)(new xe.wA("installations-internal",Di,"PRIVATE"))})(),(0,me.registerVersion)(_e,K),(0,me.registerVersion)(_e,K,"esm2017");const yr="@firebase/remote-config",Zn=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nt{constructor(D,M,X,Ee){this.client=D,this.storage=M,this.storageCache=X,this.logger=Ee}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-M,Ee=X<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Ee}.`),Ee}fetch(D){var M=this;return(0,R.Z)(function*(){const[X,Ee]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Ee&&M.isCachedDataFresh(D.cacheMaxAgeMillis,X))return Ee;D.eTag=Ee&&Ee.eTag;const Be=yield M.client.fetch(D),it=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&it.push(M.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(it),Be})()}}function en(C=navigator){return C.languages&&C.languages[0]||C.language}class Fn{constructor(D,M,X,Ee,Be,it){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=X,this.projectId=Ee,this.apiKey=Be,this.appId=it}fetch(D){var M=this;return(0,R.Z)(function*(){var X,Ee,Be;const[it,mt]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,an={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},lt={sdk_version:M.sdkVersion,app_instance_id:it,app_instance_id_token:mt,app_id:M.appId,language_code:en()},qn={method:"POST",headers:an,body:JSON.stringify(lt)},Ar=fetch(Lt,qn),cs=new Promise((Qs,fs)=>{D.signal.addEventListener(()=>{const vu=new Error("The operation was aborted.");vu.name="AbortError",fs(vu)})});let Xs;try{yield Promise.race([Ar,cs]),Xs=yield Ar}catch(Qs){let fs="fetch-client-network";throw"AbortError"===(null===(X=Qs)||void 0===X?void 0:X.name)&&(fs="fetch-timeout"),Zn.create(fs,{originalErrorMessage:null===(Ee=Qs)||void 0===Ee?void 0:Ee.message})}let hr=Xs.status;const ds=Xs.headers.get("ETag")||void 0;let Ri,hs;if(200===Xs.status){let Qs;try{Qs=yield Xs.json()}catch(fs){throw Zn.create("fetch-client-parse",{originalErrorMessage:null===(Be=fs)||void 0===Be?void 0:Be.message})}Ri=Qs.entries,hs=Qs.state}if("INSTANCE_STATE_UNSPECIFIED"===hs?hr=500:"NO_CHANGE"===hs?hr=304:("NO_TEMPLATE"===hs||"EMPTY_CONFIG"===hs)&&(Ri={}),304!==hr&&200!==hr)throw Zn.create("fetch-status",{httpStatus:hr});return{status:hr,eTag:ds,config:Ri}})()}}class _r{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const X=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,X)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:X}){var Ee=this;return(0,R.Z)(function*(){yield function tr(C,D){return new Promise((M,X)=>{const Ee=Math.max(D-Date.now(),0),Be=setTimeout(M,Ee);C.addEventListener(()=>{clearTimeout(Be),X(Zn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const Be=yield Ee.client.fetch(D);return yield Ee.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function Si(C){if(!(C instanceof Ie.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Be))throw Be;const it={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(X),backoffCount:X+1};return yield Ee.storage.setThrottleMetadata(it),Ee.attemptFetch(D,it)}})()}}class _o{constructor(D,M,X,Ee,Be){this.app=D,this._client=M,this._storageCache=X,this._storage=Ee,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fa(C,D){var M;const X=C.target.error||void 0;return Zn.create(D,{originalErrorMessage:X&&(null===(M=X)||void 0===M?void 0:M.message)})}const Es="app_namespace_store";class nc{constructor(D,M,X,Ee=function up(){return new Promise((C,D)=>{var M;try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=Ee=>{D(fa(Ee,"storage-open"))},X.onsuccess=Ee=>{C(Ee.target.result)},X.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(Es,{keyPath:"compositeKey"})}}catch(X){D(Zn.create("storage-open",{originalErrorMessage:null===(M=X)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=X,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const X=yield M.openDbPromise;return new Promise((Ee,Be)=>{var it;const Ce=X.transaction([Es],"readonly").objectStore(Es),Lt=M.createCompositeKey(D);try{const an=Ce.get(Lt);an.onerror=lt=>{Be(fa(lt,"storage-get"))},an.onsuccess=lt=>{const qn=lt.target.result;Ee(qn?qn.value:void 0)}}catch(an){Be(Zn.create("storage-get",{originalErrorMessage:null===(it=an)||void 0===it?void 0:it.message}))}})})()}set(D,M){var X=this;return(0,R.Z)(function*(){const Ee=yield X.openDbPromise;return new Promise((Be,it)=>{var mt;const Lt=Ee.transaction([Es],"readwrite").objectStore(Es),an=X.createCompositeKey(D);try{const lt=Lt.put({compositeKey:an,value:M});lt.onerror=qn=>{it(fa(qn,"storage-set"))},lt.onsuccess=()=>{Be()}}catch(lt){it(Zn.create("storage-set",{originalErrorMessage:null===(mt=lt)||void 0===mt?void 0:mt.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const X=yield M.openDbPromise;return new Promise((Ee,Be)=>{var it;const Ce=X.transaction([Es],"readwrite").objectStore(Es),Lt=M.createCompositeKey(D);try{const an=Ce.delete(Lt);an.onerror=lt=>{Be(fa(lt,"storage-delete"))},an.onsuccess=()=>{Ee()}}catch(an){Be(Zn.create("storage-delete",{originalErrorMessage:null===(it=an)||void 0===it?void 0:it.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Cs{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),X=D.storage.getLastSuccessfulFetchTimestampMillis(),Ee=D.storage.getActiveConfig(),Be=yield M;Be&&(D.lastFetchStatus=Be);const it=yield X;it&&(D.lastSuccessfulFetchTimestampMillis=it);const mt=yield Ee;mt&&(D.activeConfig=mt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Vm(){return eu.apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function rc(){(0,me._registerComponent)(new xe.wA("remote-config",function C(D,{instanceIdentifier:M}){const X=D.getProvider("app").getImmediate(),Ee=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!(0,Ie.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:Be,apiKey:it,appId:mt}=X.options;if(!Be)throw Zn.create("registration-project-id");if(!it)throw Zn.create("registration-api-key");if(!mt)throw Zn.create("registration-app-id");const Ce=new nc(mt,X.name,M=M||"firebase"),Lt=new Cs(Ce),an=new te.Yd(yr);an.logLevel=te.in.ERROR;const lt=new Fn(Ee,me.SDK_VERSION,M,Be,it,mt),qn=new _r(lt,Ce),Ar=new Nt(qn,Ce,Lt,an),cs=new _o(X,Ar,Lt,Ce,an);return function $(C){const D=(0,Ie.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(cs),cs},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(yr,"0.3.15"),(0,me.registerVersion)(yr,"0.3.15","esm2017")}();const Zr="/firebase-messaging-sw.js",Ts="/firebase-cloud-messaging-push-scope",Vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tu="google.c.a.c_id",Ku="google.c.a.c_l",sc="google.c.a.ts",Ss="google.c.a.e";var Ai=(()=>{return(C=Ai||(Ai={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ai;var C})();function Io(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pi(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(M),Ee=new Uint8Array(X.length);for(let Be=0;Be<X.length;++Be)Ee[Be]=X.charCodeAt(Be);return Ee}const es="fcm_token_details_db",As="fcm_token_object_Store";function lp(C){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(es))return null;let D=null;return(yield(0,he.X3)(es,5,{upgrade:(X=(0,R.Z)(function*(Ee,Be,it,mt){var Ce;if(Be<2||!Ee.objectStoreNames.contains(As))return;const Lt=mt.objectStore(As),an=yield Lt.index("fcmSenderId").get(C);if(yield Lt.clear(),an)if(2===Be){const lt=an;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;D={token:lt.fcmToken,createTime:null!==(Ce=lt.createTime)&&void 0!==Ce?Ce:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Io(lt.vapidKey)}}}else if(3===Be){const lt=an;D={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Io(lt.auth),p256dh:Io(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Io(lt.vapidKey)}}}else if(4===Be){const lt=an;D={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Io(lt.auth),p256dh:Io(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Io(lt.vapidKey)}}}}),function(Be,it,mt,Ce){return X.apply(this,arguments)})})).close(),yield(0,he.Lj)(es),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),cr(D)?D:null;var X}),Xu.apply(this,arguments)}function cr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Yi="firebase-messaging-store";let Ur=null;function nu(){return Ur||(Ur=(0,he.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Yi)}})),Ur}function xs(C){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(C){const D=xi(C),X=yield(yield nu()).transaction(Yi).objectStore(Yi).get(D);if(X)return X;{const Ee=yield lp(C.appConfig.senderId);if(Ee)return yield Mn(C,Ee),Ee}})).apply(this,arguments)}function Mn(C,D){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,R.Z)(function*(C,D){const M=xi(C),Ee=(yield nu()).transaction(Yi,"readwrite");return yield Ee.objectStore(Yi).put(D,M),yield Ee.done,D})).apply(this,arguments)}function Uo(C){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,R.Z)(function*(C){const D=xi(C),X=(yield nu()).transaction(Yi,"readwrite");yield X.objectStore(Yi).delete(D),yield X.done})).apply(this,arguments)}function xi({appConfig:C}){return C.appId}const pr=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sn(C,D){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(C,D){var M;const X=yield va(C),Ee=rt(D),Be={method:"POST",headers:X,body:JSON.stringify(Ee)};let it;try{it=yield(yield fetch(ts(C.appConfig),Be)).json()}catch(mt){throw pr.create("token-subscribe-failed",{errorInfo:null===(M=mt)||void 0===M?void 0:M.toString()})}if(it.error)throw pr.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw pr.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function cp(C,D){return ma.apply(this,arguments)}function ma(){return(ma=(0,R.Z)(function*(C,D){var M;const X=yield va(C),Ee=rt(D.subscriptionOptions),Be={method:"PATCH",headers:X,body:JSON.stringify(Ee)};let it;try{it=yield(yield fetch(`${ts(C.appConfig)}/${D.token}`,Be)).json()}catch(mt){throw pr.create("token-update-failed",{errorInfo:null===(M=mt)||void 0===M?void 0:M.toString()})}if(it.error)throw pr.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw pr.create("token-update-no-token");return it.token})).apply(this,arguments)}function uc(C,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,R.Z)(function*(C,D){var M;const Ee={method:"DELETE",headers:yield va(C)};try{const it=yield(yield fetch(`${ts(C.appConfig)}/${D}`,Ee)).json();if(it.error)throw pr.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(Be){throw pr.create("token-unsubscribe-failed",{errorInfo:null===(M=Be)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function ts({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function va(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*({appConfig:C,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function rt({p256dh:C,auth:D,endpoint:M,vapidKey:X}){const Ee={web:{endpoint:M,auth:D,p256dh:C}};return X!==Vo&&(Ee.web.applicationPubKey=X),Ee}const wn=6048e5;function Ud(C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(C){const D=yield jd(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Io(D.getKey("auth")),p256dh:Io(D.getKey("p256dh"))},X=yield xs(C.firebaseDependencies);if(X){if(dp(X.subscriptionOptions,M))return Date.now()>=X.createTime+wn?ru(C,{token:X.token,createTime:Date.now(),subscriptionOptions:M}):X.token;try{yield uc(C.firebaseDependencies,X.token)}catch(Ee){console.warn(Ee)}return iu(C.firebaseDependencies,M)}return iu(C.firebaseDependencies,M)})).apply(this,arguments)}function Cr(C){return ks.apply(this,arguments)}function ks(){return(ks=(0,R.Z)(function*(C){const D=yield xs(C.firebaseDependencies);D&&(yield uc(C.firebaseDependencies,D.token),yield Uo(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function ru(C,D){return si.apply(this,arguments)}function si(){return(si=(0,R.Z)(function*(C,D){try{const M=yield cp(C.firebaseDependencies,D),X=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Mn(C.firebaseDependencies,X),M}catch(M){throw yield Cr(C),M}})).apply(this,arguments)}function iu(C,D){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(C,D){const X={token:yield sn(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Mn(C,X),X.token})).apply(this,arguments)}function jd(C,D){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pi(D)})})).apply(this,arguments)}function dp(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function ns(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Dr(C,D){if(!D.notification)return;C.notification={};const M=D.notification.title;M&&(C.notification.title=M);const X=D.notification.body;X&&(C.notification.body=X);const Ee=D.notification.image;Ee&&(C.notification.image=Ee);const Be=D.notification.icon;Be&&(C.notification.icon=Be)}(D,C),function uo(C,D){!D.data||(C.data=D.data)}(D,C),function Ia(C,D){var M,X,Ee,Be,it;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const mt=null!==(Ee=null===(X=D.fcmOptions)||void 0===X?void 0:X.link)&&void 0!==Ee?Ee:null===(Be=D.notification)||void 0===Be?void 0:Be.click_action;mt&&(C.fcmOptions.link=mt);const Ce=null===(it=D.fcmOptions)||void 0===it?void 0:it.analytics_label;Ce&&(C.fcmOptions.analyticsLabel=Ce)}(D,C),D}function wa(C){return"object"==typeof C&&!!C&&tu in C}function wo(C,D){const M=[];for(let X=0;X<C.length;X++)M.push(C.charAt(X)),X<D.length&&M.push(D.charAt(X));return M.join("")}function el(C){return pr.create("missing-app-config-values",{valueName:C})}wo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cc{constructor(D,M,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function lc(C){if(!C||!C.options)throw el("App Configuration Object");if(!C.name)throw el("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const X of D)if(!M[X])throw el(X);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Ee,installations:M,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Hd(C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(C){var D;try{C.swRegistration=yield navigator.serviceWorker.register(Zr,{scope:Ts}),C.swRegistration.update().catch(()=>{})}catch(M){throw pr.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function tl(C,D){return ba.apply(this,arguments)}function ba(){return(ba=(0,R.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Hd(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function nl(C,D){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,R.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Vo)})).apply(this,arguments)}function Ns(){return(Ns=(0,R.Z)(function*(C,D){if(!navigator)throw pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pr.create("permission-blocked");return yield nl(C,D?.vapidKey),yield tl(C,D?.serviceWorkerRegistration),Ud(C)})).apply(this,arguments)}function Gd(C,D,M){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,R.Z)(function*(C,D,M){const X=zd(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:M[tu],message_name:M[Ku],message_time:M[sc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zd(C){switch(C){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jo(){return(jo=(0,R.Z)(function*(C,D){const M=D.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===Ai.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ns(M)):C.onMessageHandler.next(ns(M)));const X=M.data;wa(X)&&"1"===X[Ss]&&(yield Gd(C,M.messageType,X))})).apply(this,arguments)}const Ho="@firebase/messaging",nr=C=>{const D=new cc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function hc(C,D){return jo.apply(this,arguments)}(D,M)),D},bo=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:X=>function dc(C,D){return Ns.apply(this,arguments)}(D,X)}};function pc(){return rl.apply(this,arguments)}function rl(){return(rl=(0,R.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function er(){(0,me._registerComponent)(new xe.wA("messaging",nr,"PUBLIC")),(0,me._registerComponent)(new xe.wA("messaging-internal",bo,"PRIVATE")),(0,me.registerVersion)(Ho,"0.11.0"),(0,me.registerVersion)(Ho,"0.11.0","esm2017")}();const $s="analytics",mc="firebase_id",al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yc="https://www.googletagmanager.com/gtag/js",gr=new te.Yd("@firebase/analytics");function su(C){return Promise.all(C.map(D=>D.catch(M=>M)))}function au(C,D){const M=document.createElement("script");M.src=`${yc}?l=${C}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Wd(C,D,M,X,Ee,Be){return lu.apply(this,arguments)}function lu(){return(lu=(0,R.Z)(function*(C,D,M,X,Ee,Be){const it=X[Ee];try{if(it)yield D[it];else{const Ce=(yield su(M)).find(Lt=>Lt.measurementId===Ee);Ce&&(yield D[Ce.appId])}}catch(mt){gr.error(mt)}C("config",Ee,Be)})).apply(this,arguments)}function Eo(C,D,M,X,Ee){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(C,D,M,X,Ee){try{let Be=[];if(Ee&&Ee.send_to){let it=Ee.send_to;Array.isArray(it)||(it=[it]);const mt=yield su(M);for(const Ce of it){const Lt=mt.find(lt=>lt.measurementId===Ce),an=Lt&&D[Lt.appId];if(!an){Be=[];break}Be.push(an)}}0===Be.length&&(Be=Object.values(D)),yield Promise.all(Be),C("event",X,Ee||{})}catch(Be){gr.error(Be)}})).apply(this,arguments)}function vc(C){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(yc)&&M.src.includes(C))return M;return null}const Tr=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Sa=new class ll{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Bs(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Kd(C){return mr.apply(this,arguments)}function mr(){return(mr=(0,R.Z)(function*(C){var D;const{appId:M,apiKey:X}=C,Ee={method:"GET",headers:Bs(X)},Be=al.replace("{app-id}",M),it=yield fetch(Be,Ee);if(200!==it.status&&304!==it.status){let mt="";try{const Ce=yield it.json();null!==(D=Ce.error)&&void 0!==D&&D.message&&(mt=Ce.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:it.status,responseMessage:mt})}return it.json()})).apply(this,arguments)}function _c(C){return gi.apply(this,arguments)}function gi(){return(gi=(0,R.Z)(function*(C,D=Sa,M){const{appId:X,apiKey:Ee,measurementId:Be}=C.options;if(!X)throw Tr.create("no-app-id");if(!Ee){if(Be)return{measurementId:Be,appId:X};throw Tr.create("no-api-key")}const it=D.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mt=new Aa;return setTimeout((0,R.Z)(function*(){mt.abort()}),void 0!==M?M:6e4),Ic({appId:X,apiKey:Ee,measurementId:Be},it,mt,D)})).apply(this,arguments)}function Ic(C,D,M){return Co.apply(this,arguments)}function Co(){return(Co=(0,R.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:M},X,Ee=Sa){var Be,it;const{appId:mt,measurementId:Ce}=C;try{yield cl(X,D)}catch(Lt){if(Ce)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${null===(Be=Lt)||void 0===Be?void 0:Be.message}]`),{appId:mt,measurementId:Ce};throw Lt}try{const Lt=yield Kd(C);return Ee.deleteThrottleMetadata(mt),Lt}catch(Lt){const an=Lt;if(!cu(an)){if(Ee.deleteThrottleMetadata(mt),Ce)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ce} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:mt,measurementId:Ce};throw Lt}const lt=503===Number(null===(it=an?.customData)||void 0===it?void 0:it.httpStatus)?(0,Ie.$s)(M,Ee.intervalMillis,30):(0,Ie.$s)(M,Ee.intervalMillis),qn={throttleEndTimeMillis:Date.now()+lt,backoffCount:M+1};return Ee.setThrottleMetadata(mt,qn),gr.debug(`Calling attemptFetch again in ${lt} millis`),Ic(C,qn,X,Ee)}})).apply(this,arguments)}function cl(C,D){return new Promise((M,X)=>{const Ee=Math.max(D-Date.now(),0),Be=setTimeout(M,Ee);C.addEventListener(()=>{clearTimeout(Be),X(Tr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function cu(C){if(!(C instanceof Ie.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Aa{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let rs,hu;function Vs(){return(Vs=(0,R.Z)(function*(C,D,M,X,Ee){if(Ee&&Ee.global)C("event",M,X);else{const Be=yield D;C("event",M,Object.assign(Object.assign({},X),{send_to:Be}))}})).apply(this,arguments)}function Gs(C){hu=C}function dl(C){rs=C}function zo(){return zs.apply(this,arguments)}function zs(){return(zs=(0,R.Z)(function*(){var C;if(!(0,Ie.hl)())return gr.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(D){return gr.warn(Tr.create("indexeddb-unavailable",{errorInfo:null===(C=D)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function qs(){return(qs=(0,R.Z)(function*(C,D,M,X,Ee,Be,it){var mt;const Ce=_c(C);Ce.then(Ar=>{M[Ar.measurementId]=Ar.appId,C.options.measurementId&&Ar.measurementId!==C.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ar=>gr.error(Ar)),D.push(Ce);const Lt=zo().then(Ar=>{if(Ar)return X.getId()}),[an,lt]=yield Promise.all([Ce,Lt]);vc(Be)||au(Be,an.measurementId),hu&&(Ee("consent","default",hu),Gs(void 0)),Ee("js",new Date);const qn=null!==(mt=it?.config)&&void 0!==mt?mt:{};return qn.origin="firebase",qn.update=!0,null!=lt&&(qn[mc]=lt),Ee("config",an.measurementId,qn),rs&&(Ee("set",rs),dl(void 0)),an.measurementId})).apply(this,arguments)}class fu{constructor(D){this.app=D}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Ws=[];const is={};let os,Ki,Ys="dataLayer",bc=!1;function Jd(C,D,M){!function hp(){const C=[];if((0,Ie.ru)()&&C.push("This is a browser extension environment."),(0,Ie.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((X,Ee)=>`(${Ee+1}) ${X}`).join(" "),M=Tr.create("invalid-analytics-context",{errorInfo:D});gr.warn(M.message)}}();const X=C.options.appId;if(!X)throw Tr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Tr.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[X])throw Tr.create("already-exists",{id:X});if(!bc){!function uu(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(Ys);const{wrappedGtag:Be,gtagCore:it}=function Ta(C,D,M,X,Ee){let Be=function(...it){window[X].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Be=window[Ee]),window[Ee]=function ul(C,D,M,X){function Be(){return(Be=(0,R.Z)(function*(it,mt,Ce){try{"event"===it?yield Eo(C,D,M,mt,Ce):"config"===it?yield Wd(C,D,M,X,mt,Ce):"consent"===it?C("consent","update",Ce):C("set",mt)}catch(Lt){gr.error(Lt)}})).apply(this,arguments)}return function Ee(it,mt,Ce){return Be.apply(this,arguments)}}(Be,C,D,M),{gtagCore:Be,wrappedGtag:window[Ee]}}(ei,Ws,is,Ys,"gtag");Ki=Be,os=it,bc=!0}return ei[X]=function Qd(C,D,M,X,Ee,Be,it){return qs.apply(this,arguments)}(C,Ws,is,D,os,Ys,M),new fu(C)}function jm(){return eh.apply(this,arguments)}function eh(){return(eh=(0,R.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const Ln="@firebase/analytics";!function Qn(){(0,me._registerComponent)(new xe.wA($s,(D,{options:M})=>Jd(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,me._registerComponent)(new xe.wA("analytics-internal",function C(D){try{const M=D.getProvider($s).getImmediate();return{logEvent:(X,Ee,Be)=>function Sr(C,D,M,X){C=(0,Ie.m9)(C),function xa(C,D,M,X,Ee){return Vs.apply(this,arguments)}(Ki,ei[C.app.options.appId],D,M,X).catch(Ee=>gr.error(Ee))}(M,X,Ee,Be)}}catch(M){throw Tr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,me.registerVersion)(Ln,"0.8.4"),(0,me.registerVersion)(Ln,"0.8.4","esm2017")}();var To=O(4408),Xi=O(7565);const Or=new class dr extends Xi.v{}(class ss extends To.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(D,M,X):(D.flush(this),0)}});var tn=O(4986),Zs=O(8505),fl=O(5363),Ec=O(9468);const ai=new u.GfV("7.5.0"),Ra="__angularfire_symbol__analyticsIsSupportedValue",mi="__angularfire_symbol__analyticsIsSupported",ti="__angularfire_symbol__remoteConfigIsSupportedValue",co="__angularfire_symbol__remoteConfigIsSupported",as="__angularfire_symbol__messagingIsSupportedValue",qo="__angularfire_symbol__messagingIsSupported";function ui(C,D,M){if(D){if(1===D.length)return D[0];const Be=D.filter(it=>it.app===M);if(1===Be.length)return Be[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[mi]||(globalThis[mi]=jm().then(C=>globalThis[Ra]=C).catch(()=>globalThis[Ra]=!1)),globalThis[qo]||(globalThis[qo]=pc().then(C=>globalThis[as]=C).catch(()=>globalThis[as]=!1)),globalThis[co]||(globalThis[co]=Vm().then(C=>globalThis[ti]=C).catch(()=>globalThis[ti]=!1));const ka=(C,D)=>{const M=D?[D]:(0,U.C6)(),X=[];return M.forEach(Ee=>{Ee.container.getProvider(C).instances.forEach(it=>{X.includes(it)||X.push(it)})}),X};function Qi(){}class Rn{constructor(D,M=Or){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,X){const Ee=this.zone;return this.delegate.schedule(function(it){Ee.runGuarded(()=>{D.apply(this,[it])})},M,X)}}class Hr{constructor(D){this.zone=D,this.task=null}call(D,M){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),M.pipe((0,Zs.b)({next:X,complete:X,error:X})).subscribe(D).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let So=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Rn(Zone.current)),this.insideAngular=M.run(()=>new Rn(Zone.current,tn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(u.LFG(u.R0b))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function yi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function pl(C){return C.pipe((0,fl.Q)(yi().outsideAngular))}function ls(C){return yi(),function fp(C){return function(M){return(M=M.lift(new Hr(C.ngZone))).pipe((0,Ec.R)(C.outsideAngular),(0,fl.Q)(C.insideAngular))}}(yi())(C)}},8247:(Dt,Ge,O)=>{"use strict";O.d(Ge,{$:()=>ts,A:()=>Y,B:()=>ge,G:()=>Di,H:()=>vr,J:()=>_r,L:()=>ie,M:()=>eu,N:()=>oc,P:()=>tn,Q:()=>tu,R:()=>Hm,T:()=>Ku,U:()=>Vo,V:()=>Ai,W:()=>Io,X:()=>lp,Y:()=>pa,Z:()=>sn,_:()=>cp,a:()=>Go,a0:()=>Ud,a1:()=>Cr,a2:()=>ru,a3:()=>iu,a4:()=>jd,a5:()=>dp,a6:()=>Dr,a7:()=>uo,a8:()=>wa,a9:()=>wo,aA:()=>J,aB:()=>Ce,aC:()=>pl,aD:()=>Ks,aE:()=>Mt,aI:()=>Bs,aL:()=>Ss,aa:()=>Hd,ab:()=>tl,ac:()=>nl,af:()=>Gd,ag:()=>zd,ah:()=>hc,ak:()=>Yi,al:()=>il,an:()=>yc,ao:()=>lu,ap:()=>de,aq:()=>st,ar:()=>Tt,as:()=>Ue,at:()=>vl,au:()=>ds,av:()=>Yt,aw:()=>Se,ax:()=>z,ay:()=>Ar,az:()=>V,b:()=>Tr,c:()=>as,d:()=>mu,e:()=>gu,f:()=>fp,g:()=>X,h:()=>C,i:()=>zs,j:()=>it,k:()=>Ji,l:()=>Ot,m:()=>Xm,n:()=>lh,o:()=>he,r:()=>To,s:()=>Do,u:()=>Or});var u=O(5861),U=O(2090),R=O(9681),me=O(1877),Ie=O(655),xe=O(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ge=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),B=new me.Yd("@firebase/auth");function Pe(_,...g){B.logLevel<=me.in.ERROR&&B.error(`Auth (${R.SDK_VERSION}): ${_}`,...g)}function Ue(_,...g){throw oe(_,...g)}function Se(_,...g){return oe(_,...g)}function Te(_,g,m){const w=Object.assign(Object.assign({},fe()),{[g]:m});return new U.LL("auth","Firebase",w).create(g,{appName:_.name})}function we(_,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ue(_,"argument-error"),Te(_,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oe(_,...g){if("string"!=typeof _){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return He.create(_,...g)}function z(_,g,...m){if(!_)throw oe(g,...m)}function re(_){const g="INTERNAL ASSERTION FAILED: "+_;throw Pe(g),new Error(g)}function de(_,g){_||re(g)}const G=new Map;function V(_){de(_ instanceof Function,"Expected a class definition");let g=G.get(_);return g?(de(g instanceof _,"Instance stored in cache mismatched with class"),g):(g=new _,G.set(_,g),g)}function Le(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function qe(){return"http:"===ut()||"https:"===ut()}function ut(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ce{constructor(g,m){this.shortDelay=g,this.longDelay=m,de(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function $e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(_,g){de(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class ke{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ye=new ce(3e4,6e4);function ht(_,g){return _.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:_.tenantId}):g}function ft(_,g,m,w){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(_,g,m,w,A={}){return Jt(_,A,(0,u.Z)(function*(){let F={},Oe={};w&&("GET"===g?Oe=w:F={body:JSON.stringify(w)});const Je=(0,U.xO)(Object.assign({key:_.config.apiKey},Oe)).slice(1),xt=yield _._getAdditionalHeaders();return xt["Content-Type"]="application/json",_.languageCode&&(xt["X-Firebase-Locale"]=_.languageCode),ke.fetch()(pn(_,_.config.apiHost,m,Je),Object.assign({method:g,headers:xt,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Jt(_,g,m){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(_,g,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ne),g);try{const A=new bn(_),F=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const Oe=yield F.json();if("needConfirmation"in Oe)throw kn(_,"account-exists-with-different-credential",Oe);if(F.ok&&!("errorMessage"in Oe))return Oe;{const Je=F.ok?Oe.errorMessage:Oe.error.message,[xt,Ht]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xt)throw kn(_,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===xt)throw kn(_,"email-already-in-use",Oe);if("USER_DISABLED"===xt)throw kn(_,"user-disabled",Oe);const _n=w[xt]||xt.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw Te(_,_n,Ht);Ue(_,_n)}}catch(A){if(A instanceof U.ZR)throw A;Ue(_,"network-request-failed")}})).apply(this,arguments)}function hn(_,g,m,w){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(_,g,m,w,A={}){const F=yield ft(_,g,m,w,A);return"mfaPendingCredential"in F&&Ue(_,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function pn(_,g,m,w){const A=`${g}${m}?${w}`;return _.config.emulator?De(_.config,A):`${_.config.apiScheme}://${A}`}class bn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(_,g,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=Se(_,g,w);return A.customData._tokenResponse=m,A}function $r(){return($r=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function gt(_,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Dn(_,g){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Tn(_){if(_)try{const g=new Date(Number(_));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function $n(){return($n=(0,u.Z)(function*(_,g=!1){const m=(0,U.m9)(_),w=yield m.getIdToken(g),A=kt(w);z(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const F="object"==typeof A.firebase?A.firebase:void 0,Oe=F?.sign_in_provider;return{claims:A,token:w,authTime:Tn(Nn(A.auth_time)),issuedAtTime:Tn(Nn(A.iat)),expirationTime:Tn(Nn(A.exp)),signInProvider:Oe||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Nn(_){return 1e3*Number(_)}function kt(_){var g;const[m,w,A]=_.split(".");if(void 0===m||void 0===w||void 0===A)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,U.tV)(w);return F?JSON.parse(F):(Pe("Failed to decode base64 JWT payload"),null)}catch(F){return Pe("Caught error parsing JWT payload as JSON",null===(g=F)||void 0===g?void 0:g.toString()),null}}function Gt(_,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(_,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof U.ZR&&Kn(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Kn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Bn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,u.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class zt{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(_){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(_){var g;const m=_.auth,w=yield _.getIdToken(),A=yield Gt(_,Dn(m,{idToken:w}));z(A?.users.length,m,"internal-error");const F=A.users[0];_._notifyReloadListener(F);const Oe=null!==(g=F.providerUserInfo)&&void 0!==g&&g.length?Un(F.providerUserInfo):[],Je=ur(_.providerData,Oe),_n=!!_.isAnonymous&&!(_.email&&F.passwordHash||Je?.length),ir={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Je,metadata:new zt(F.createdAt,F.lastLoginAt),isAnonymous:_n};Object.assign(_,ir)})).apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(_){const g=(0,U.m9)(_);yield Er(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ur(_,g){return[..._.filter(w=>!g.some(A=>A.providerId===w.providerId)),...g]}function Un(_){return _.map(g=>{var{providerId:m}=g,w=(0,Ie._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Xe(){return(Xe=(0,u.Z)(function*(_,g){const m=yield Jt(_,{},(0,u.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:F}=_.config,Oe=pn(_,A,"/v1/token",`key=${F}`),Je=yield _._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(Oe,{method:"POST",headers:Je,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){z(g.idToken,"internal-error"),z(typeof g.idToken<"u","internal-error"),z(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Pt(_){const g=kt(_);return z(g,"internal-error"),z(typeof g.exp<"u","internal-error"),z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,u.Z)(function*(){return z(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:F,expiresIn:Oe}=yield function wt(_,g){return Xe.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(A,F,Number(Oe))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:A,expirationTime:F}=m,Oe=new bt;return w&&(z("string"==typeof w,"internal-error",{appName:g}),Oe.refreshToken=w),A&&(z("string"==typeof A,"internal-error",{appName:g}),Oe.accessToken=A),F&&(z("number"==typeof F,"internal-error",{appName:g}),Oe.expirationTime=F),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new bt,this.toJSON())}_performRefresh(){return re("not implemented")}}function $t(_,g){z("string"==typeof _||typeof _>"u","internal-error",{appName:g})}class Vt{constructor(g){var{uid:m,auth:w,stsTokenManager:A}=g,F=(0,Ie._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new zt(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,u.Z)(function*(){const w=yield Gt(m,m.stsTokenManager.getToken(m.auth,g));return z(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function Pn(_){return $n.apply(this,arguments)}(this,g)}reload(){return function Yr(_){return gn.apply(this,arguments)}(this)}_assign(g){this!==g&&(z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,u.Z)(function*(){let A=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),A=!0),m&&(yield Er(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,u.Z)(function*(){const m=yield g.getIdToken();return yield Gt(g,function sr(_,g){return $r.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,A,F,Oe,Je,xt,Ht,_n;const ir=null!==(w=m.displayName)&&void 0!==w?w:void 0,Wo=null!==(A=m.email)&&void 0!==A?A:void 0,Js=null!==(F=m.phoneNumber)&&void 0!==F?F:void 0,wu=null!==(Oe=m.photoURL)&&void 0!==Oe?Oe:void 0,Ac=null!==(Je=m.tenantId)&&void 0!==Je?Je:void 0,ch=null!==(xt=m._redirectEventId)&&void 0!==xt?xt:void 0,dh=null!==(Ht=m.createdAt)&&void 0!==Ht?Ht:void 0,Il=null!==(_n=m.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:ea,emailVerified:hh,isAnonymous:xc,providerData:wl,stsTokenManager:Mc}=m;z(ea&&Mc,g,"internal-error");const wp=bt.fromJSON(this.name,Mc);z("string"==typeof ea,g,"internal-error"),$t(ir,g.name),$t(Wo,g.name),z("boolean"==typeof hh,g,"internal-error"),z("boolean"==typeof xc,g,"internal-error"),$t(Js,g.name),$t(wu,g.name),$t(Ac,g.name),$t(ch,g.name),$t(dh,g.name),$t(Il,g.name);const fh=new Vt({uid:ea,auth:g,email:Wo,emailVerified:hh,displayName:ir,isAnonymous:xc,photoURL:wu,phoneNumber:Js,tenantId:Ac,stsTokenManager:wp,createdAt:dh,lastLoginAt:Il});return wl&&Array.isArray(wl)&&(fh.providerData=wl.map(Na=>Object.assign({},Na))),ch&&(fh._redirectEventId=ch),fh}static _fromIdTokenResponse(g,m,w=!1){return(0,u.Z)(function*(){const A=new bt;A.updateFromServerResponse(m);const F=new Vt({uid:m.localId,auth:g,stsTokenManager:A,isAnonymous:w});return yield Er(F),F})()}}const ie=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,u.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function J(_,g,m){return`firebase:${_}:${g}:${m}`}class se{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:A,name:F}=this.auth;this.fullUserKey=J(this.userKey,A.apiKey,F),this.fullPersistenceKey=J("persistence",A.apiKey,F),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Vt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,u.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new se(V(ie),g,w);const A=(yield Promise.all(m.map(function(){var Ht=(0,u.Z)(function*(_n){if(yield _n._isAvailable())return _n});return function(_n){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let F=A[0]||V(ie);const Oe=J(w,g.config.apiKey,g.name);let Je=null;for(const Ht of m)try{const _n=yield Ht._get(Oe);if(_n){const ir=Vt._fromJSON(g,_n);Ht!==F&&(Je=ir),F=Ht;break}}catch{}const xt=A.filter(Ht=>Ht._shouldAllowMigration);return F._shouldAllowMigration&&xt.length?(F=xt[0],Je&&(yield F._set(Oe,Je.toJSON())),yield Promise.all(m.map(function(){var Ht=(0,u.Z)(function*(_n){if(_n!==F)try{yield _n._remove(Oe)}catch{}});return function(_n){return Ht.apply(this,arguments)}}())),new se(F,g,w)):new se(F,g,w)})()}}function q(_){const g=_.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(nt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(k(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(At(g))return"Blackberry";if(et(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||Me(g))&&!g.includes("edge/"))return"Chrome";if(Tt(g))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function k(_=(0,U.z$)()){return/firefox\//i.test(_)}function H(_=(0,U.z$)()){const g=_.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Me(_=(0,U.z$)()){return/crios\//i.test(_)}function nt(_=(0,U.z$)()){return/iemobile/i.test(_)}function Tt(_=(0,U.z$)()){return/android/i.test(_)}function At(_=(0,U.z$)()){return/blackberry/i.test(_)}function et(_=(0,U.z$)()){return/webos/i.test(_)}function st(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Yt(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function xn(_=(0,U.z$)()){return st(_)||Tt(_)||et(_)||At(_)||/windows phone/i.test(_)||nt(_)}function jn(_,g=[]){let m;switch(_){case"Browser":m=q((0,U.z$)());break;case"Worker":m=`${q((0,U.z$)())}-${_}`;break;default:m=_}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${w}`}class Hi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=F=>new Promise((Oe,Je)=>{try{Oe(g(F))}catch(xt){Je(xt)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,u.Z)(function*(){var w;if(m.auth.currentUser===g)return;const A=[];try{for(const F of m.queue)yield F(g),F.onAbort&&A.push(F.onAbort)}catch(F){A.reverse();for(const Oe of A)try{Oe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=F)||void 0===w?void 0:w.message})}})()}}class Br{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=V(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,F;if(!w._deleted&&(w.persistenceManager=yield se.create(w,g),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(F=w.currentUser)||void 0===F?void 0:F.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,u.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let F=A,Oe=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Je=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,xt=F?._redirectEventId,Ht=yield m.tryRedirectSignIn(g);(!Je||Je===xt)&&Ht?.user&&(F=Ht.user,Oe=!0)}if(!F)return m.directlySetCurrentUser(null);if(!F._redirectEventId){if(Oe)try{yield m.beforeStateQueue.runMiddleware(F)}catch(Je){F=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Je))}return F?m.reloadAndSetCurrentUserOrClear(F):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===F._redirectEventId?m.directlySetCurrentUser(F):m.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,u.Z)(function*(){var w;try{yield Er(g)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,u.Z)(function*(){const w=g?(0,U.m9)(g):null;return w&&z(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return g&&z(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(V(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,u.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&V(g)||m._popupRedirectResolver;z(w,m,"argument-error"),m.redirectPersistenceManager=yield se.create(m,[V(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,u.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,u.Z)(function*(){if(g===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,A){if(this._deleted)return()=>{};const F="function"==typeof m?m:m.next.bind(m),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return z(Oe,this,"internal-error"),Oe.then(()=>F(this.currentUser)),"function"==typeof m?g.addObserver(m,w,A):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function Mt(_){return(0,U.m9)(_)}class Gi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Di(_,g,m){const w=Mt(_);z(w._canInitEmulator,w,"emulator-config-failed"),z(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,F=hi(g),{host:Oe,port:Je}=function yr(_){const g=hi(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const F=A[1];return{host:F,port:Yn(w.substr(F.length+1))}}{const[F,Oe]=w.split(":");return{host:F,port:Yn(Oe)}}}(g);w.config.emulator={url:`${F}//${Oe}${null===Je?"":`:${Je}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Oe,port:Je,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function lr(){function _(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function hi(_){const g=_.indexOf(":");return g<0?"":_.substr(0,g+1)}function Yn(_){if(!_)return null;const g=Number(_);return isNaN(g)?null:g}class vr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return re("not implemented")}_getIdTokenResponse(g){return re("not implemented")}_linkToIdToken(g,m){return re("not implemented")}_getReauthenticationResolver(g){return re("not implemented")}}function Vr(_,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:resetPassword",ht(_,g))})).apply(this,arguments)}function vo(_,g){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bs(_,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:update",ht(_,g))})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithPassword",ht(_,g))})).apply(this,arguments)}function oi(_,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:sendOobCode",ht(_,g))})).apply(this,arguments)}function P(_,g){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(_,g){return oi(_,g)})).apply(this,arguments)}function ye(_,g){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(_,g){return oi(_,g)})).apply(this,arguments)}function Ve(_,g){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(_,g){return oi(_,g)})).apply(this,arguments)}function pe(_,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(_,g){return oi(_,g)})).apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithEmailLink",ht(_,g))})).apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithEmailLink",ht(_,g))})).apply(this,arguments)}class en extends vr{constructor(g,m,w,A=null){super("password",w),this._email=g,this._password=m,this._tenantId=A}static _fromEmailAndPassword(g,m){return new en(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new en(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ti(_,g){return zi.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ze(_,g){return Qe.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ue(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return vo(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function yt(_,g){return Nt.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:Ue(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Fn(_,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithIdp",ht(_,g))})).apply(this,arguments)}class _r extends vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new _r(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ue("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A}=m,F=(0,Ie._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const Oe=new _r(w,A);return Oe.idToken=F.idToken||void 0,Oe.accessToken=F.accessToken||void 0,Oe.secret=F.secret,Oe.nonce=F.nonce,Oe.pendingToken=F.pendingToken||null,Oe}_getIdTokenResponse(g){return Fn(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Fn(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Fn(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,U.xO)(m)}return g}}function ha(_,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:sendVerificationCode",ht(_,g))})).apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",ht(_,g))})).apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(_,g){const m=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",ht(_,g));if(m.temporaryProof)throw kn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ap={USER_NOT_FOUND:"user-not-found"};function nc(){return(nc=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",ht(_,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ap)})).apply(this,arguments)}class Cs extends vr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Cs({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Cs({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function _o(_,g){return fa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Es(_,g){return tc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function up(_,g){return nc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:F}=g;return w||m||A||F?new Cs({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:F}):null}}class Ds{constructor(g){var m,w,A,F,Oe,Je;const xt=(0,U.zd)((0,U.pd)(g)),Ht=null!==(m=xt.apiKey)&&void 0!==m?m:null,_n=null!==(w=xt.oobCode)&&void 0!==w?w:null,ir=function rc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=xt.mode)&&void 0!==A?A:null);z(Ht&&_n&&ir,"argument-error"),this.apiKey=Ht,this.operation=ir,this.code=_n,this.continueUrl=null!==(F=xt.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(Oe=xt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(Je=xt.tenantId)&&void 0!==Je?Je:null}static parseLink(g){const m=function ic(_){const g=(0,U.zd)((0,U.pd)(_)).link,m=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||m||g||_}(g);try{return new Ds(m)}catch{return null}}}let eu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return en._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Ds.parseLink(w);return z(A,"argument-error"),en._fromEmailAndCode(m,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Zr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ts extends Zr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Vo extends Ts{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return z("providerId"in m&&"signInMethod"in m,"argument-error"),_r._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return z(g.idToken||g.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Vo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Vo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:F,nonce:Oe,providerId:Je}=g;if(!w&&!A&&!m&&!F||!Je)return null;try{return new Vo(Je)._credential({idToken:m,accessToken:w,nonce:Oe,pendingToken:F})}catch{return null}}}let oc=(()=>{class _ extends Ts{constructor(){super("facebook.com")}static credential(m){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),tu=(()=>{class _ extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ku=(()=>{class _ extends Ts{constructor(){super("github.com")}static credential(m){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ss extends vr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Fn(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,Fn(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Fn(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A,pendingToken:F}=m;return w&&A&&F&&w===A?new Ss(w,F):null}static _create(g,m){return new Ss(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ai extends Zr{constructor(g){z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ai.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ai.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Ss.fromJSON(g);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return Ss._create(w,m)}catch{return null}}}let Io=(()=>{class _ extends Ts{constructor(){super("twitter.com")}static credential(m,w){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function pi(_,g){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signUp",ht(_,g))})).apply(this,arguments)}class Wi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,A=!1){return(0,u.Z)(function*(){const F=yield Vt._fromIdTokenResponse(g,w,A),Oe=As(w);return new Wi({user:F,providerId:Oe,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const A=As(w);return new Wi({user:g,providerId:A,_tokenResponse:w,operationType:m})})()}}function As(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function lp(_){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(_){var g;const m=Mt(_);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Wi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield pi(m,{returnSecureToken:!0}),A=yield Wi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class cr extends U.ZR{constructor(g,m,w,A){var F;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,cr.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,A){return new cr(g,m,w,A)}}function ac(_,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?cr._fromErrorAndOperation(_,F,g,w):F})}function Vd(_){return new Set(_.map(({providerId:g})=>g).filter(g=>!!g))}function Yi(_,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(_,g){const m=(0,U.m9)(_);yield ao(!0,m,g);const{providerUserInfo:w}=yield gt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),A=Vd(w||[]);return m.providerData=m.providerData.filter(F=>A.has(F.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function nu(_,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(_,g,m=!1){const w=yield Gt(_,g._linkToIdToken(_.auth,yield _.getIdToken()),m);return Wi._forOperation(_,"link",w)})).apply(this,arguments)}function ao(_,g,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(_,g,m){yield Er(g);const A=!1===_?"provider-already-linked":"no-such-provider";z(Vd(g.providerData).has(m)===_,g.auth,A)})).apply(this,arguments)}function Qu(_,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(_,g,m=!1){var w;const{auth:A}=_,F="reauthenticate";try{const Oe=yield Gt(_,ac(A,F,g,_),m);z(Oe.idToken,A,"internal-error");const Je=kt(Oe.idToken);z(Je,A,"internal-error");const{sub:xt}=Je;return z(_.uid===xt,A,"user-mismatch"),Wi._forOperation(_,F,Oe)}catch(Oe){throw"auth/user-not-found"===(null===(w=Oe)||void 0===w?void 0:w.code)&&Ue(A,"user-mismatch"),Oe}})).apply(this,arguments)}function Ju(_,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(_,g,m=!1){const w="signIn",A=yield ac(_,w,g),F=yield Wi._fromIdTokenResponse(_,w,A);return m||(yield _._updateCurrentUser(F.user)),F})).apply(this,arguments)}function pa(_,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(_,g){return Ju(Mt(_),g)})).apply(this,arguments)}function sn(_,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(_,g){const m=(0,U.m9)(_);return yield ao(!1,m,g.providerId),nu(m,g)})).apply(this,arguments)}function cp(_,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(_,g){return Qu((0,U.m9)(_),g)})).apply(this,arguments)}function uc(_,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(_,g){return hn(_,"POST","/v1/accounts:signInWithCustomToken",ht(_,g))})).apply(this,arguments)}function ts(_,g){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(_,g){const m=Mt(_),w=yield uc(m,{token:g,returnSecureToken:!0}),A=yield Wi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ms{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?rt._fromServerResponse(g,m):Ue(g,"internal-error")}}class rt extends Ms{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new rt(m)}}function wn(_,g,m){var w;z((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,_,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ud(_,g,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_),A={requestType:"PASSWORD_RESET",email:g};m&&wn(w,A,m),yield ye(w,A)})).apply(this,arguments)}function Cr(_,g,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(_,g,m){yield Vr((0,U.m9)(_),{oobCode:g,newPassword:m})})).apply(this,arguments)}function ru(_,g){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(_,g){yield bs((0,U.m9)(_),{oobCode:g})})).apply(this,arguments)}function iu(_,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(_,g){const m=(0,U.m9)(_),w=yield Vr(m,{oobCode:g}),A=w.requestType;switch(z(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(w.mfaInfo,m,"internal-error");default:z(w.email,m,"internal-error")}let F=null;return w.mfaInfo&&(F=Ms._fromServerResponse(Mt(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:F},operation:A}})).apply(this,arguments)}function jd(_,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(_,g){const{data:m}=yield iu((0,U.m9)(_),g);return m.email})).apply(this,arguments)}function dp(_,g,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,g,m){const w=Mt(_),A=yield pi(w,{returnSecureToken:!0,email:g,password:m}),F=yield Wi._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(F.user),F})).apply(this,arguments)}function Dr(_,g,m){return pa((0,U.m9)(_),eu.credential(g,m))}function uo(_,g,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_),A={requestType:"EMAIL_SIGNIN",email:g};z(m.handleCodeInApp,w,"argument-error"),m&&wn(w,A,m),yield Ve(w,A)})).apply(this,arguments)}function wa(_,g){return"EMAIL_SIGNIN"===Ds.parseLink(g)?.operation}function wo(_,g,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_),A=eu.credentialWithLink(g,m||Le());return z(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),pa(w,A)})).apply(this,arguments)}function el(_,g){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:createAuthUri",ht(_,g))})).apply(this,arguments)}function Hd(_,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(_,g){const w={identifier:g,continueUri:qe()?Le():"http://localhost"},{signinMethods:A}=yield el((0,U.m9)(_),w);return A||[]})).apply(this,arguments)}function tl(_,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(_,g){const m=(0,U.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};g&&wn(m.auth,A,g);const{email:F}=yield P(m.auth,A);F!==_.email&&(yield _.reload())})).apply(this,arguments)}function nl(_,g,m){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:g};m&&wn(w.auth,F,m);const{email:Oe}=yield pe(w.auth,F);Oe!==_.email&&(yield _.reload())})).apply(this,arguments)}function dc(_,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(_,g){return ft(_,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Gd(_,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(_,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,U.m9)(_),F={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Oe=yield Gt(w,dc(w.auth,F));w.displayName=Oe.displayName||null,w.photoURL=Oe.photoUrl||null;const Je=w.providerData.find(({providerId:xt})=>"password"===xt);Je&&(Je.displayName=w.displayName,Je.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Oe)})).apply(this,arguments)}function zd(_,g){return jo((0,U.m9)(_),g,null)}function hc(_,g){return jo((0,U.m9)(_),null,g)}function jo(_,g,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(_,g,m){const{auth:w}=_,F={idToken:yield _.getIdToken(),returnSecureToken:!0};g&&(F.email=g),m&&(F.password=m);const Oe=yield Gt(_,vo(w,F));yield _._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class nr{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class bo extends nr{constructor(g,m,w,A){super(g,m,w),this.username=A}}class er extends nr{constructor(g,m){super(g,"facebook.com",m)}}class pc extends bo{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class rl extends nr{constructor(g,m){super(g,"google.com",m)}}class qd extends bo{constructor(g,m,w){super(g,"twitter.com",m,w)}}function il(_){const{user:g,_tokenResponse:m}=_;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function fc(_){var g,m;if(!_)return null;const{providerId:w}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},F=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const Oe=null===(m=null===(g=kt(_.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Oe)return new nr(F,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!w)return null;switch(w){case"facebook.com":return new er(F,A);case"github.com":return new pc(F,A);case"google.com":return new rl(F,A);case"twitter.com":return new qd(F,A,_.screenName||null);case"custom":case"anonymous":return new nr(F,null);default:return new nr(F,w,A)}}(m)}class Mi{constructor(g,m,w){this.type=g,this.credential=m,this.auth=w}static _fromIdtoken(g,m){return new Mi("enroll",g,m)}static _fromMfaPendingCredential(g){return new Mi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Mi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return Mi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class al{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=Mt(g),A=m.customData._serverResponse,F=(A.mfaInfo||[]).map(Je=>Ms._fromServerResponse(w,Je));z(A.mfaPendingCredential,w,"internal-error");const Oe=Mi._fromMfaPendingCredential(A.mfaPendingCredential);return new al(Oe,F,function(){var Je=(0,u.Z)(function*(xt){const Ht=yield xt._process(w,Oe);delete A.mfaInfo,delete A.mfaPendingCredential;const _n=Object.assign(Object.assign({},A),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(m.operationType){case"signIn":const ir=yield Wi._fromIdTokenResponse(w,m.operationType,_n);return yield w._updateCurrentUser(ir.user),ir;case"reauthenticate":return z(m.user,w,"internal-error"),Wi._forOperation(m.user,m.operationType,_n);default:Ue(w,"internal-error")}});return function(xt){return Je.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,u.Z)(function*(){return m.signInResolver(g)})()}}function yc(_,g){var m;const w=(0,U.m9)(_),A=g;return z(g.customData.operationType,w,"argument-error"),z(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),al._fromError(w,A)}function gr(_,g){return ft(_,"POST","/v2/accounts/mfaEnrollment:start",ht(_,g))}class uu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ms._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new uu(g)}getSession(){var g=this;return(0,u.Z)(function*(){return Mi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var w=this;return(0,u.Z)(function*(){const A=g,F=yield w.getSession(),Oe=yield Gt(w.user,A._process(w.user.auth,F,m));return yield w.user._updateTokensIfNecessary(Oe),w.user.reload()})()}unenroll(g){var m=this;return(0,u.Z)(function*(){var w;const A="string"==typeof g?g:g.uid,F=yield m.user.getIdToken(),Oe=yield Gt(m.user,function au(_,g){return ft(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(_,g))}(m.user.auth,{idToken:F,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Je})=>Je!==A),yield m.user._updateTokensIfNecessary(Oe);try{yield m.user.reload()}catch(Je){if("auth/user-token-expired"!==(null===(w=Je)||void 0===w?void 0:w.code))throw Je}})()}}const Wd=new WeakMap;function lu(_){const g=(0,U.m9)(_);return Wd.has(g)||Wd.set(g,uu._fromUser(g)),Wd.get(g)}const Eo="__sak";class Da{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Eo,"1"),this.storage.removeItem(Eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tr=(()=>{class _ extends Da{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ul(){const _=(0,U.z$)();return H(_)||st(_)}()&&function di(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),F=this.localCache[w];A!==F&&m(w,F,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Je,xt,Ht)=>{this.notifyListeners(Je,Ht)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(A);if(m.newValue!==Je)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const F=()=>{const Je=this.storage.getItem(A);!w&&this.localCache[A]===Je||this.notifyListeners(A,Je)},Oe=this.storage.getItem(A);!function Qt(){return(0,U.w1)()&&10===document.documentMode}()||Oe===m.newValue||m.newValue===m.oldValue?F():setTimeout(F,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const F of Array.from(A))F(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,F=this;return(0,u.Z)(function*(){yield A().call(F,m,w),F.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,u.Z)(function*(){const F=yield w().call(A,m);return A.localCache[m]=JSON.stringify(F),F})()}_remove(m){var w=()=>super._remove,A=this;return(0,u.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return _.type="LOCAL",_})(),Go=(()=>{class _ extends Da{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let Sa=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(F=>F.isListeningto(m));if(w)return w;const A=new _(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const A=m,{eventId:F,eventType:Oe,data:Je}=A.data,xt=w.handlersMap[Oe];if(!xt?.size)return;A.ports[0].postMessage({status:"ack",eventId:F,eventType:Oe});const Ht=Array.from(xt).map(function(){var ir=(0,u.Z)(function*(Wo){return Wo(A.origin,Je)});return function(Wo){return ir.apply(this,arguments)}}()),_n=yield function ll(_){return Promise.all(_.map(function(){var g=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(Ht);A.ports[0].postMessage({status:"done",eventId:F,eventType:Oe,response:_n})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Bs(_="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return _+m}class Kd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var A=this;return(0,u.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let Oe,Je;return new Promise((xt,Ht)=>{const _n=Bs("",20);F.port1.start();const ir=setTimeout(()=>{Ht(new Error("unsupported_event"))},w);Je={messageChannel:F,onMessage(Wo){const Js=Wo;if(Js.data.eventId===_n)switch(Js.data.status){case"ack":clearTimeout(ir),Oe=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),xt(Js.data.response);break;default:clearTimeout(ir),clearTimeout(Oe),Ht(new Error("invalid_response"))}}},A.handlers.add(Je),F.port1.addEventListener("message",Je.onMessage),A.target.postMessage({eventType:g,eventId:_n,data:m},[F.port2])}).finally(()=>{Je&&A.removeMessageHandler(Je)})})()}}function mr(){return window}function gi(){return typeof mr().WorkerGlobalScope<"u"&&"function"==typeof mr().importScripts}function Co(){return(Co=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Aa="firebaseLocalStorageDb",xa="firebaseLocalStorage",Vs="fbase_key";class Us{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function js(_,g){return _.transaction([xa],g?"readwrite":"readonly").objectStore(xa)}function du(){const _=indexedDB.open(Aa,1);return new Promise((g,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(xa,{keyPath:Vs})}catch(A){m(A)}}),_.addEventListener("success",(0,u.Z)(function*(){const w=_.result;w.objectStoreNames.contains(xa)?g(w):(w.close(),yield function wc(){const _=indexedDB.deleteDatabase(Aa);return new Us(_).toPromise()}(),g(yield du()))}))})}function Ma(_,g,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,g,m){const w=js(_,!0).put({[Vs]:g,value:m});return new Us(w).toPromise()})).apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(_,g){const m=js(_,!1).get(g),w=yield new Us(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hu(_,g){const m=js(_,!0).delete(g);return new Us(m).toPromise()}const zs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield du()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const F=yield w._openDb();return yield m(F)}catch(F){if(A++>3)throw F;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return gi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Sa._getInstance(function cu(){return gi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(A,F){return{keyProcessed:(yield m._poll()).includes(F.key)}});return function(A,F){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(A,F){return["keyChanged"]});return function(A,F){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function Ic(){return Co.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Kd(m.activeServiceWorker);const F=yield m.sender._send("ping",{},800);!F||(null===(w=F[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=F[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function cl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield du();return yield Ma(m,Eo,"1"),yield hu(m,Eo),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(F=>Ma(F,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const A=yield w._withRetries(F=>function Xd(_,g){return Hs.apply(this,arguments)}(F,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(A=>hu(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(Oe=>{const Je=js(Oe,!1).getAll();return new Us(Je).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],F=new Set;for(const{fbase_key:Oe,value:Je}of w)F.add(Oe),JSON.stringify(m.localCache[Oe])!==JSON.stringify(Je)&&(m.notifyListeners(Oe,Je),A.push(Oe));for(const Oe of Object.keys(m.localCache))m.localCache[Oe]&&!F.has(Oe)&&(m.notifyListeners(Oe,null),A.push(Oe));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const F of Array.from(A))F(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Qd(_,g){return ft(_,"POST","/v2/accounts/mfaSignIn:start",ht(_,g))}function ei(){return(ei=(0,u.Z)(function*(_){return(yield ft(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(_){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=g,w.onerror=A=>{const F=Se("internal-error");F.customData=A,m(F)},w.type="text/javascript",w.charset="UTF-8",function Ws(){var _,g;return null!==(g=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==g?g:document}().appendChild(w)})}function Ys(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ki=1e12;class bc{constructor(g){this.auth=g,this.counter=Ki,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Xn(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||Ki;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ki))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(g||Ki))||void 0===w||w.execute(),""})()}}class Xn{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;z(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hp(_){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jd=Ys("rcb"),G0=new ce(3e4,6e4);class jm{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=mr().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return z(function eh(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mr().grecaptcha):new Promise((w,A)=>{const F=mr().setTimeout(()=>{A(Se(g,"network-request-failed"))},G0.get());mr()[Jd]=()=>{mr().clearTimeout(F),delete mr()[Jd];const Je=mr().grecaptcha;if(!Je)return void A(Se(g,"internal-error"));const xt=Je.render;Je.render=(Ht,_n)=>{const ir=xt(Ht,_n);return this.counter++,ir},this.hostLanguage=m,w(Je)},is(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Jd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(F),A(Se(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=mr().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class z0{load(g){return(0,u.Z)(function*(){return new bc(g)})()}clearedOneInstance(){}}const pu="recaptcha",q0={theme:"light",type:"image"};class Hm{constructor(g,m=Object.assign({},q0),w){this.parameters=m,this.type=pu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(w),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;z(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new z0:new jm,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(F=>{const Oe=Je=>{!Je||(g.tokenChangeListeners.delete(Oe),F(Je))};g.tokenChangeListeners.add(Oe),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=mr()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){z(qe()&&!gi(),g.auth,"internal-error"),yield function jr(){let _=null;return new Promise(g=>{"complete"!==document.readyState?(_=()=>g(),window.addEventListener("load",_)):g()}).catch(g=>{throw _&&window.removeEventListener("load",_),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function fu(_){return ei.apply(this,arguments)}(g.auth);z(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Cs._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Do(_,g,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(_,g,m){const w=Mt(_),A=yield Xi(w,g,(0,U.m9)(m));return new Sr(A,F=>pa(w,F))})).apply(this,arguments)}function Ot(_,g,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_);yield ao(!1,w,"phone");const A=yield Xi(w.auth,g,(0,U.m9)(m));return new Sr(A,F=>sn(w,F))})).apply(this,arguments)}function To(_,g,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_),A=yield Xi(w.auth,g,(0,U.m9)(m));return new Sr(A,F=>cp(w,F))})).apply(this,arguments)}function Xi(_,g,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(_,g,m){var w;const A=yield m.verify();try{let F;if(z("string"==typeof A,_,"argument-error"),z(m.type===pu,_,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const Oe=F.session;if("phoneNumber"in F)return z("enroll"===Oe.type,_,"internal-error"),(yield gr(_,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{z("signin"===Oe.type,_,"internal-error");const Je=(null===(w=F.multiFactorHint)||void 0===w?void 0:w.uid)||F.multiFactorUid;return z(Je,_,"missing-multi-factor-info"),(yield Qd(_,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield ha(_,{phoneNumber:F.phoneNumber,recaptchaToken:A});return Oe}}finally{m._reset()}})).apply(this,arguments)}function Or(_,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(_,g){yield nu((0,U.m9)(_),g)})).apply(this,arguments)}let tn=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Mt(m)}verifyPhoneNumber(m,w){return Xi(this.auth,m,(0,U.m9)(w))}static credential(m,w){return Cs._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Cs._fromTokenResponse(w,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Zs(_,g){return g?V(g):(z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class fl extends vr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Fn(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Fn(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Fn(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Ec(_){return Ju(_.auth,new fl(_),_.bypassAuthState)}function ai(_){const{auth:g,user:m}=_;return z(m,g,"internal-error"),Qu(m,new fl(_),_.bypassAuthState)}function Ra(_){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(_){const{auth:g,user:m}=_;return z(m,g,"internal-error"),nu(m,new fl(_),_.bypassAuthState)})).apply(this,arguments)}class ti{constructor(g,m,w,A,F=!1){this.auth=g,this.resolver=w,this.user=A,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,u.Z)(function*(w,A){g.pendingPromise={resolve:w,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:F,tenantId:Oe,error:Je,type:xt}=g;if(Je)return void m.reject(Je);const Ht={auth:m.auth,requestUri:w,sessionId:A,tenantId:Oe||void 0,postBody:F||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(xt)(Ht))}catch(_n){m.reject(_n)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ec;case"linkViaPopup":case"linkViaRedirect":return Ra;case"reauthViaPopup":case"reauthViaRedirect":return ai;default:Ue(this.auth,"internal-error")}}resolve(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new ce(2e3,1e4);function as(_,g,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(_,g,m){const w=Mt(_);we(_,g,Zr);const A=Zs(w,m);return new ui(w,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function gu(_,g,m){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_);we(w.auth,g,Zr);const A=Zs(w.auth,m);return new ui(w.auth,"reauthViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}function mu(_,g,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_);we(w.auth,g,Zr);const A=Zs(w.auth,m);return new ui(w.auth,"linkViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}let ui=(()=>{class _ extends ti{constructor(m,w,A,F,Oe){super(m,w,F,Oe),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return z(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){de(1===m.filter.length,"Popup operations only handle one event");const w=Bs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,co.get())};m()}}return _.currentPopupAction=null,_})();const Qi=new Map;class Rn extends ti{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=Qi.get(m.auth._key());if(!w){try{const F=(yield function Hr(_,g){return So.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(F)}catch(A){w=()=>Promise.reject(A)}Qi.set(m.auth._key(),w)}return m.bypassAuthState||Qi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const A=yield w.auth._redirectUserForId(g.eventId);if(A)return w.user=A,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,u.Z)(function*(_,g){const m=ls(g),w=us(_);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function yi(_,g){return yu.apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(_,g){return us(_)._set(ls(g),"true")})).apply(this,arguments)}function Ks(){Qi.clear()}function pl(_,g){Qi.set(_._key(),g)}function us(_){return V(_._redirectPersistence)}function ls(_){return J("pendingRedirect",_.config.apiKey,_.name)}function fp(_,g,m){return function Ir(_,g,m){return gl.apply(this,arguments)}(_,g,m)}function gl(){return(gl=(0,u.Z)(function*(_,g,m){const w=Mt(_);we(_,g,Zr);const A=Zs(w,m);return yield yi(A,w),A._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function C(_,g,m){return function D(_,g,m){return M.apply(this,arguments)}(_,g,m)}function M(){return(M=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_);we(w.auth,g,Zr);const A=Zs(w.auth,m);yield yi(A,w.auth);const F=yield an(w);return A._openRedirect(w.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function X(_,g,m){return function Ee(_,g,m){return Be.apply(this,arguments)}(_,g,m)}function Be(){return(Be=(0,u.Z)(function*(_,g,m){const w=(0,U.m9)(_);we(w.auth,g,Zr);const A=Zs(w.auth,m);yield ao(!1,w,g.providerId),yield yi(A,w.auth);const F=yield an(w);return A._openRedirect(w.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function it(_,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_,g){return yield Mt(_)._initializationPromise,Ce(_,g,!1)})).apply(this,arguments)}function Ce(_,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(_,g,m=!1){const w=Mt(_),A=Zs(w,g),Oe=yield new Rn(w,A,m).execute();return Oe&&!m&&(delete Oe.user._redirectEventId,yield w._persistUserIfCurrent(Oe.user),yield w._setRedirectUser(null,g)),Oe})).apply(this,arguments)}function an(_){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(_){const g=Bs(`${_.uid}:::`);return _._redirectEventId=g,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),g})).apply(this,arguments)}class Ar{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function hr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(_);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Xs(g)){const A=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,A))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cs(g))}saveEventToCache(g){this.cachedEventUids.add(cs(g)),this.lastProcessedEventTime=Date.now()}}function cs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(g=>g).join("-")}function Xs({type:_,error:g}){return"unknown"===_&&"auth/no-auth-event"===g?.code}function ds(_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(_,g={}){return ft(_,"GET","/v1/projects",g)})).apply(this,arguments)}const hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;function vu(){return(vu=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:g}=yield ds(_);for(const m of g)try{if(Gm(m))return}catch{}Ue(_,"unauthorized-domain")})).apply(this,arguments)}function Gm(_){const g=Le(),{protocol:m,hostname:w}=new URL(g);if(_.startsWith("chrome-extension://")){const Oe=new URL(_);return""===Oe.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Oe.hostname===w}if(!Qs.test(m))return!1;if(hs.test(_))return w===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const zm=new ce(3e4,6e4);function pp(){const _=mr().___jsl;if(_?.H)for(const g of Object.keys(_.H))if(_.H[g].r=_.H[g].r||[],_.H[g].L=_.H[g].L||[],_.H[g].r=[..._.H[g].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Oa=null;function li(_){return Oa=Oa||function qm(_){return new Promise((g,m)=>{var w,A,F;function Oe(){pp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{pp(),m(Se(_,"network-request-failed"))},timeout:zm.get()})}if(null!==(A=null===(w=mr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(F=mr().gapi)||void 0===F||!F.load){const Je=Ys("iframefcb");return mr()[Je]=()=>{gapi.load?Oe():m(Se(_,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${Je}`).catch(xt=>m(xt))}Oe()}}).catch(g=>{throw Oa=null,g})}(_),Oa}const Dc=new ce(5e3,15e3),ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nh(_){const g=_.config;z(g.authDomain,_,"auth-domain-config-required");const m=g.emulator?De(g,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:_.name,v:R.SDK_VERSION},A=mp.get(_.config.apiHost);A&&(w.eid=A);const F=_._getFrameworks();return F.length&&(w.fw=F.join(",")),`${m}?${(0,U.xO)(w).slice(1)}`}function yl(){return yl=(0,u.Z)(function*(_){const g=yield li(_),m=mr().gapi;return z(m,_,"internal-error"),g.open({where:document.body,url:nh(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ml,dontclear:!0},w=>new Promise(function(){var A=(0,u.Z)(function*(F,Oe){yield w.restyle({setHideOnLeave:!1});const Je=Se(_,"network-request-failed"),xt=mr().setTimeout(()=>{Oe(Je)},Dc.get());function Ht(){mr().clearTimeout(xt),F(w)}w.ping(Ht).then(Ht,()=>{Oe(Je)})});return function(F,Oe){return A.apply(this,arguments)}}()))}),yl.apply(this,arguments)}const W0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vl(_,g,m,w,A,F){z(_.config.authDomain,_,"auth-domain-config-required"),z(_.config.apiKey,_,"invalid-api-key");const Oe={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:R.SDK_VERSION,eventId:A};if(g instanceof Zr){g.setDefaultLanguage(_.languageCode),Oe.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(Oe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[xt,Ht]of Object.entries(F||{}))Oe[xt]=Ht}if(g instanceof Ts){const xt=g.getScopes().filter(Ht=>""!==Ht);xt.length>0&&(Oe.scopes=xt.join(","))}_.tenantId&&(Oe.tid=_.tenantId);const Je=Oe;for(const xt of Object.keys(Je))void 0===Je[xt]&&delete Je[xt];return`${function ih({config:_}){return _.emulator?De(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(Je).slice(1)}`}const _u="webStorageSupport",Ji=class oh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Go,this._completeRedirectFn=Ce,this._overrideRedirectResult=pl}_openPopup(g,m,w,A){var F=this;return(0,u.Z)(function*(){var Oe;de(null===(Oe=F.eventManagers[g._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const Je=vl(g,m,w,Le(),A);return function Zm(_,g,m,w=500,A=600){const F=Math.max((window.screen.availHeight-A)/2,0).toString(),Oe=Math.max((window.screen.availWidth-w)/2,0).toString();let Je="";const xt=Object.assign(Object.assign({},W0),{width:w.toString(),height:A.toString(),top:F,left:Oe}),Ht=(0,U.z$)().toLowerCase();m&&(Je=Me(Ht)?"_blank":m),k(Ht)&&(g=g||"http://localhost",xt.scrollbars="yes");const _n=Object.entries(xt).reduce((Wo,[Js,wu])=>`${Wo}${Js}=${wu},`,"");if(function Sn(_=(0,U.z$)()){var g;return st(_)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ht)&&"_self"!==Je)return function Z0(_,g){const m=document.createElement("a");m.href=_,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Je),new Sc(null);const ir=window.open(g||"",Je,_n);z(ir,_,"popup-blocked");try{ir.focus()}catch{}return new Sc(ir)}(g,Je,Bs())})()}_openRedirect(g,m,w,A){var F=this;return(0,u.Z)(function*(){return yield F._originValidation(g),function _c(_){mr().location.href=_}(vl(g,m,w,Le(),A)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:A,promise:F}=this.eventManagers[m];return A?Promise.resolve(A):(de(F,"If manager is not set, promise should be"),F)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,u.Z)(function*(){const w=yield function Wm(_){return yl.apply(this,arguments)}(g),A=new Ar(g);return w.register("authEvent",F=>(z(F?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:A},m.iframes[g._key()]=w,A})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(_u,{type:_u},A=>{var F;const Oe=null===(F=A?.[0])||void 0===F?void 0:F[_u];void 0!==Oe&&m(!!Oe),Ue(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fs(_){return vu.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return xn()||H()||st()}};class Pa extends class vp{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Pa(g)}_finalizeEnroll(g,m,w){return function su(_,g){return ft(_,"POST","/v2/accounts/mfaEnrollment:finalize",ht(_,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function qs(_,g){return ft(_,"POST","/v2/accounts/mfaSignIn:finalize",ht(_,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xm=(()=>{class _{constructor(){}static assertion(m){return Pa._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var _l="@firebase/auth",Iu="0.20.11";class Qm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var A;g((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uh=(0,U.Pz)("authIdTokenMaxAge")||300;let Ip=null;const vi=_=>function(){var g=(0,u.Z)(function*(m){const w=m&&(yield m.getIdTokenResult()),A=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(A&&A>uh)return;const F=w?.token;Ip!==F&&(Ip=F,yield fetch(_,{method:F?"POST":"DELETE",headers:F?{Authorization:`Bearer ${F}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function lh(_=(0,R.getApp)()){const g=(0,R._getProvider)(_,"auth");if(g.isInitialized())return g.getImmediate();const m=function W(_,g){const m=(0,R._getProvider)(_,"auth");if(m.isInitialized()){const A=m.getImmediate(),F=m.getOptions();if((0,U.vZ)(F,g??{}))return A;Ue(A,"already-initialized")}return m.initialize({options:g})}(_,{popupRedirectResolver:Ji,persistence:[zs,Tr,Go]}),w=(0,U.Pz)("authTokenSyncURL");if(w){const F=vi(w);(function ou(_,g,m){(0,U.m9)(_).beforeAuthStateChanged(g,m)})(m,F,()=>F(m.currentUser)),function sl(_,g,m,w){(0,U.m9)(_).onIdTokenChanged(g,m,w)}(m,Oe=>F(Oe))}const A=(0,U.q4)("auth");return A&&Di(m,`http://${A}`),m}!function _p(_){(0,R._registerComponent)(new xe.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:F,authDomain:Oe}=w.options;return((Je,xt)=>{z(F&&!F.includes(":"),"invalid-api-key",{appName:Je.name}),z(!Oe?.includes(":"),"argument-error",{appName:Je.name});const Ht={apiKey:F,authDomain:Oe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn(_)},_n=new Br(Je,xt,Ht);return function Z(_,g){const m=g?.persistence||[],w=(Array.isArray(m)?m:[m]).map(V);g?.errorMap&&_._updateErrorMap(g.errorMap),_._initializeWithPersistence(w,g?.popupRedirectResolver)}(_n,m),_n})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new xe.wA("auth-internal",g=>{const m=Mt(g.getProvider("auth").getImmediate());return new Qm(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(_l,Iu,function sh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,R.registerVersion)(_l,Iu,"esm2017")}("Browser")},2090:(Dt,Ge,O)=>{"use strict";O.d(Ge,{$s:()=>bt,BH:()=>be,G6:()=>we,L:()=>he,LL:()=>Ne,Pz:()=>$e,Sg:()=>ce,UG:()=>fe,US:()=>xe,ZB:()=>Y,ZR:()=>ke,aH:()=>ut,b$:()=>B,eu:()=>z,hl:()=>oe,jU:()=>He,m9:()=>fn,ne:()=>$n,pd:()=>Jr,q4:()=>Le,r3:()=>bn,ru:()=>ne,tV:()=>_e,uI:()=>ge,vZ:()=>gt,w1:()=>Ue,xO:()=>On,xb:()=>sr,z$:()=>ae,zI:()=>re,zd:()=>Tn});const me=function(ie){const J=[];let se=0;for(let q=0;q<ie.length;q++){let k=ie.charCodeAt(q);k<128?J[se++]=k:k<2048?(J[se++]=k>>6|192,J[se++]=63&k|128):55296==(64512&k)&&q+1<ie.length&&56320==(64512&ie.charCodeAt(q+1))?(k=65536+((1023&k)<<10)+(1023&ie.charCodeAt(++q)),J[se++]=k>>18|240,J[se++]=k>>12&63|128,J[se++]=k>>6&63|128,J[se++]=63&k|128):(J[se++]=k>>12|224,J[se++]=k>>6&63|128,J[se++]=63&k|128)}return J},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,J){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let k=0;k<ie.length;k+=3){const H=ie[k],Me=k+1<ie.length,nt=Me?ie[k+1]:0,Tt=k+2<ie.length,At=Tt?ie[k+2]:0;let Yt=(15&nt)<<2|At>>6,Sn=63&At;Tt||(Sn=64,Me||(Yt=64)),q.push(se[H>>2],se[(3&H)<<4|nt>>4],se[Yt],se[Sn])}return q.join("")},encodeString(ie,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ie):this.encodeByteArray(me(ie),J)},decodeString(ie,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ie):function(ie){const J=[];let se=0,q=0;for(;se<ie.length;){const k=ie[se++];if(k<128)J[q++]=String.fromCharCode(k);else if(k>191&&k<224){const H=ie[se++];J[q++]=String.fromCharCode((31&k)<<6|63&H)}else if(k>239&&k<365){const Tt=((7&k)<<18|(63&ie[se++])<<12|(63&ie[se++])<<6|63&ie[se++])-65536;J[q++]=String.fromCharCode(55296+(Tt>>10)),J[q++]=String.fromCharCode(56320+(1023&Tt))}else{const H=ie[se++],Me=ie[se++];J[q++]=String.fromCharCode((15&k)<<12|(63&H)<<6|63&Me)}}return J.join("")}(this.decodeStringToByteArray(ie,J))},decodeStringToByteArray(ie,J){this.init_();const se=J?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let k=0;k<ie.length;){const H=se[ie.charAt(k++)],nt=k<ie.length?se[ie.charAt(k)]:0;++k;const At=k<ie.length?se[ie.charAt(k)]:64;++k;const st=k<ie.length?se[ie.charAt(k)]:64;if(++k,null==H||null==nt||null==At||null==st)throw Error();q.push(H<<2|nt>>4),64!==At&&(q.push(nt<<4&240|At>>2),64!==st&&q.push(At<<6&192|st))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},he=function(ie){return function(ie){const J=me(ie);return xe.encodeByteArray(J,!0)}(ie).replace(/\./g,"")},_e=function(ie){try{return xe.decodeString(ie,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function Y(ie,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return J}for(const se in J)!J.hasOwnProperty(se)||!ee(se)||(ie[se]=Y(ie[se],J[se]));return ie}function ee(ie){return"__proto__"!==ie}function ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function ne(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function B(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const ie=ae();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function we(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function z(){return new Promise((ie,J)=>{try{let se=!0;const q="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(q);k.onsuccess=()=>{k.result.close(),se||self.indexedDB.deleteDatabase(q),ie(!0)},k.onupgradeneeded=()=>{se=!1},k.onerror=()=>{var H;J((null===(H=k.error)||void 0===H?void 0:H.message)||"")}}catch(se){J(se)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Z=()=>{try{return function de(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ie&&_e(ie[1]);return J&&JSON.parse(J)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},Le=ie=>{var J,se;return null===(se=null===(J=Z())||void 0===J?void 0:J.emulatorHosts)||void 0===se?void 0:se[ie]},ut=()=>{var ie;return null===(ie=Z())||void 0===ie?void 0:ie.config},$e=ie=>{var J;return null===(J=Z())||void 0===J?void 0:J[`_${ie}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,se)=>{this.resolve=J,this.reject=se})}wrapCallback(J){return(se,q)=>{se?this.reject(se):this.resolve(q),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(se):J(se,q))}}}function ce(ie,J){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=J||"demo-project",k=ie.iat||0,H=ie.sub||ie.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:k,exp:k+3600,auth_time:k,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Me)),""].join(".")}class ke extends Error{constructor(J,se,q){super(se),this.code=J,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(J,se,q){this.service=J,this.serviceName=se,this.errors=q}create(J,...se){const q=se[0]||{},k=`${this.service}/${J}`,H=this.errors[J],Me=H?function Ye(ie,J){return ie.replace(ht,(se,q)=>{const k=J[q];return null!=k?String(k):`<${q}?>`})}(H,q):"Error";return new ke(k,`${this.serviceName}: ${Me} (${k}).`,q)}}const ht=/\{\$([^}]+)}/g;function bn(ie,J){return Object.prototype.hasOwnProperty.call(ie,J)}function sr(ie){for(const J in ie)if(Object.prototype.hasOwnProperty.call(ie,J))return!1;return!0}function gt(ie,J){if(ie===J)return!0;const se=Object.keys(ie),q=Object.keys(J);for(const k of se){if(!q.includes(k))return!1;const H=ie[k],Me=J[k];if(Jn(H)&&Jn(Me)){if(!gt(H,Me))return!1}else if(H!==Me)return!1}for(const k of q)if(!se.includes(k))return!1;return!0}function Jn(ie){return null!==ie&&"object"==typeof ie}function On(ie){const J=[];for(const[se,q]of Object.entries(ie))Array.isArray(q)?q.forEach(k=>{J.push(encodeURIComponent(se)+"="+encodeURIComponent(k))}):J.push(encodeURIComponent(se)+"="+encodeURIComponent(q));return J.length?"&"+J.join("&"):""}function Tn(ie){const J={};return ie.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[k,H]=q.split("=");J[decodeURIComponent(k)]=decodeURIComponent(H)}}),J}function Jr(ie){const J=ie.indexOf("?");if(!J)return"";const se=ie.indexOf("#",J);return ie.substring(J,se>0?se:void 0)}function $n(ie,J){const se=new Nn(ie,J);return se.subscribe.bind(se)}class Nn{constructor(J,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{J(this)}).catch(q=>{this.error(q)})}next(J){this.forEachObserver(se=>{se.next(J)})}error(J){this.forEachObserver(se=>{se.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,se,q){let k;if(void 0===J&&void 0===se&&void 0===q)throw new Error("Missing Observer.");k=function Pt(ie,J){if("object"!=typeof ie||null===ie)return!1;for(const se of J)if(se in ie&&"function"==typeof ie[se])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:se,complete:q},void 0===k.next&&(k.next=Gt),void 0===k.error&&(k.error=Gt),void 0===k.complete&&(k.complete=Gt);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),H}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,J)}sendOne(J,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{se(this.observers[J])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gt(){}function bt(ie,J=1e3,se=2){const q=J*Math.pow(se,ie),k=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+k)}function fn(ie){return ie&&ie._delegate?ie._delegate:ie}},8834:(Dt,Ge,O)=>{"use strict";O.d(Ge,{c:()=>He});var u=O(5730),U=O(3457);let R;const Ie=ne=>ne.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xe=ne=>{if(void 0===R){const Pe=void 0!==ne.style.webkitAnimationName;R=void 0===ne.style.animationName&&Pe?"-webkit-":""}return R},te=(ne,B,Pe)=>{const Ue=B.startsWith("animation")?xe(ne):"";ne.style.setProperty(Ue+B,Pe)},he=(ne,B)=>{const Pe=B.startsWith("animation")?xe(ne):"";ne.style.removeProperty(Pe+B)},Y=[],fe=(ne=[],B)=>{if(void 0!==B){const Pe=Array.isArray(B)?B:[B];return[...ne,...Pe]}return ne},He=ne=>{let B,Pe,Ue,Se,Te,we,G,be,ce,De,ke,ft,ct,oe=[],z=[],re=[],de=!1,V={},W=[],Z=[],Le={},qe=0,ut=!1,$e=!1,Ne=!0,Ye=!1,ht=!0,Jt=!1;const un=ne,hn=[],In=[],pn=[],bn=[],kn=[],sr=[],$r=[],gt=[],Jn=[],Dn=[],On="function"==typeof AnimationEffect||void 0!==U.w&&"function"==typeof U.w.AnimationEffect,Tn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&On,Pn=()=>Dn,Gt=(L,pe)=>((pe?.oneTimeCallback?In:hn).push({c:L,o:pe}),ct),Kn=()=>{if(Tn)Dn.forEach(L=>{L.cancel()}),Dn.length=0;else{const L=pn.slice();(0,u.r)(()=>{L.forEach(pe=>{he(pe,"animation-name"),he(pe,"animation-duration"),he(pe,"animation-timing-function"),he(pe,"animation-iteration-count"),he(pe,"animation-delay"),he(pe,"animation-play-state"),he(pe,"animation-fill-mode"),he(pe,"animation-direction")})})}},Bn=()=>{kn.forEach(L=>{L?.parentNode&&L.parentNode.removeChild(L)}),kn.length=0},fn=()=>void 0!==Te?Te:G?G.getFill():"both",ie=()=>void 0!==ce?ce:void 0!==we?we:G?G.getDirection():"normal",J=()=>ut?"linear":void 0!==Ue?Ue:G?G.getEasing():"linear",se=()=>$e?0:void 0!==De?De:void 0!==Pe?Pe:G?G.getDuration():0,q=()=>void 0!==Se?Se:G?G.getIterations():1,k=()=>void 0!==ke?ke:void 0!==B?B:G?G.getDelay():0,Br=()=>{0!==qe&&(qe--,0===qe&&((()=>{fi(),gt.forEach(Qe=>Qe()),Jn.forEach(Qe=>Qe());const L=Ne?1:0,pe=W,Re=Z,ze=Le;pn.forEach(Qe=>{const yt=Qe.classList;pe.forEach(Nt=>yt.add(Nt)),Re.forEach(Nt=>yt.remove(Nt));for(const Nt in ze)ze.hasOwnProperty(Nt)&&te(Qe,Nt,ze[Nt])}),hn.forEach(Qe=>Qe.c(L,ct)),In.forEach(Qe=>Qe.c(L,ct)),In.length=0,ht=!0,Ne&&(Ye=!0),Ne=!0})(),G&&G.animationFinish()))},Mt=(L=!0)=>{Bn();const pe=(ne=>(ne.forEach(B=>{for(const Pe in B)if(B.hasOwnProperty(Pe)){const Ue=B[Pe];if("easing"===Pe)B["animation-timing-function"]=Ue,delete B[Pe];else{const Se=Ie(Pe);Se!==Pe&&(B[Se]=Ue,delete B[Pe])}}}),ne))(oe);pn.forEach(Re=>{if(pe.length>0){const ze=((ne=[])=>ne.map(B=>{const Pe=B.offset,Ue=[];for(const Se in B)B.hasOwnProperty(Se)&&"offset"!==Se&&Ue.push(`${Se}: ${B[Se]};`);return`${100*Pe}% { ${Ue.join(" ")} }`}).join(" "))(pe);ft=void 0!==ne?ne:(ne=>{let B=Y.indexOf(ne);return B<0&&(B=Y.push(ne)-1),`ion-animation-${B}`})(ze);const Qe=((ne,B,Pe)=>{var Ue;const Se=(ne=>{const B=void 0!==ne.getRootNode?ne.getRootNode():ne;return B.head||B})(Pe),Te=xe(Pe),we=Se.querySelector("#"+ne);if(we)return we;const oe=(null!==(Ue=Pe.ownerDocument)&&void 0!==Ue?Ue:document).createElement("style");return oe.id=ne,oe.textContent=`@${Te}keyframes ${ne} { ${B} } @${Te}keyframes ${ne}-alt { ${B} }`,Se.appendChild(oe),oe})(ft,ze,Re);kn.push(Qe),te(Re,"animation-duration",`${se()}ms`),te(Re,"animation-timing-function",J()),te(Re,"animation-delay",`${k()}ms`),te(Re,"animation-fill-mode",fn()),te(Re,"animation-direction",ie());const yt=q()===1/0?"infinite":q().toString();te(Re,"animation-iteration-count",yt),te(Re,"animation-play-state","paused"),L&&te(Re,"animation-name",`${Qe.id}-alt`),(0,u.r)(()=>{te(Re,"animation-name",Qe.id||null)})}})},Di=(L=!0)=>{(()=>{sr.forEach(ze=>ze()),$r.forEach(ze=>ze());const L=z,pe=re,Re=V;pn.forEach(ze=>{const Qe=ze.classList;L.forEach(yt=>Qe.add(yt)),pe.forEach(yt=>Qe.remove(yt));for(const yt in Re)Re.hasOwnProperty(yt)&&te(ze,yt,Re[yt])})})(),oe.length>0&&(Tn?(pn.forEach(L=>{const pe=L.animate(oe,{id:un,delay:k(),duration:se(),easing:J(),iterations:q(),fill:fn(),direction:ie()});pe.pause(),Dn.push(pe)}),Dn.length>0&&(Dn[0].onfinish=()=>{Br()})):Mt(L)),de=!0},hi=L=>{if(L=Math.min(Math.max(L,0),.9999),Tn)Dn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+se()*L,pe.pause()});else{const pe=`-${se()*L}ms`;pn.forEach(Re=>{oe.length>0&&(te(Re,"animation-delay",pe),te(Re,"animation-play-state","paused"))})}},yr=L=>{Dn.forEach(pe=>{pe.effect.updateTiming({delay:k(),duration:se(),easing:J(),iterations:q(),fill:fn(),direction:ie()})}),void 0!==L&&hi(L)},Yn=(L=!0,pe)=>{(0,u.r)(()=>{pn.forEach(Re=>{te(Re,"animation-name",ft||null),te(Re,"animation-duration",`${se()}ms`),te(Re,"animation-timing-function",J()),te(Re,"animation-delay",void 0!==pe?`-${pe*se()}ms`:`${k()}ms`),te(Re,"animation-fill-mode",fn()||null),te(Re,"animation-direction",ie()||null);const ze=q()===1/0?"infinite":q().toString();te(Re,"animation-iteration-count",ze),L&&te(Re,"animation-name",`${ft}-alt`),(0,u.r)(()=>{te(Re,"animation-name",ft||null)})})})},lr=(L=!1,pe=!0,Re)=>(L&&bn.forEach(ze=>{ze.update(L,pe,Re)}),Tn?yr(Re):Yn(pe,Re),ct),vo=()=>{de&&(Tn?Dn.forEach(L=>{L.pause()}):pn.forEach(L=>{te(L,"animation-play-state","paused")}),Jt=!0)},bs=()=>{be=void 0,Br()},fi=()=>{be&&clearTimeout(be)},P=L=>new Promise(pe=>{L?.sync&&($e=!0,Gt(()=>$e=!1,{oneTimeCallback:!0})),de||Di(),Ye&&(Tn?(hi(0),yr()):Yn(),Ye=!1),ht&&(qe=bn.length+1,ht=!1),Gt(()=>pe(),{oneTimeCallback:!0}),bn.forEach(Re=>{Re.play()}),Tn?(Dn.forEach(L=>{L.play()}),(0===oe.length||0===pn.length)&&Br()):(()=>{if(fi(),(0,u.r)(()=>{pn.forEach(L=>{oe.length>0&&te(L,"animation-play-state","running")})}),0===oe.length||0===pn.length)Br();else{const L=k()||0,pe=se()||0,Re=q()||1;isFinite(Re)&&(be=setTimeout(bs,L+pe*Re+100)),((ne,B)=>{let Pe;const Ue={passive:!0},Te=we=>{ne===we.target&&(Pe&&Pe(),fi(),(0,u.r)(()=>{pn.forEach(L=>{he(L,"animation-duration"),he(L,"animation-delay"),he(L,"animation-play-state")}),(0,u.r)(Br)}))};ne&&(ne.addEventListener("webkitAnimationEnd",Te,Ue),ne.addEventListener("animationend",Te,Ue),Pe=()=>{ne.removeEventListener("webkitAnimationEnd",Te,Ue),ne.removeEventListener("animationend",Te,Ue)})})(pn[0])}})(),Jt=!1}),ye=(L,pe)=>{const Re=oe[0];return void 0===Re||void 0!==Re.offset&&0!==Re.offset?oe=[{offset:0,[L]:pe},...oe]:Re[L]=pe,ct};return ct={parentAnimation:G,elements:pn,childAnimations:bn,id:un,animationFinish:Br,from:ye,to:(L,pe)=>{const Re=oe[oe.length-1];return void 0===Re||void 0!==Re.offset&&1!==Re.offset?oe=[...oe,{offset:1,[L]:pe}]:Re[L]=pe,ct},fromTo:(L,pe,Re)=>ye(L,pe).to(L,Re),parent:L=>(G=L,ct),play:P,pause:()=>(bn.forEach(L=>{L.pause()}),vo(),ct),stop:()=>{bn.forEach(L=>{L.stop()}),de&&(Kn(),de=!1),ut=!1,$e=!1,ht=!0,ce=void 0,De=void 0,ke=void 0,qe=0,Ye=!1,Ne=!0,Jt=!1},destroy:L=>(bn.forEach(pe=>{pe.destroy(L)}),(L=>{Kn(),L&&Bn()})(L),pn.length=0,bn.length=0,oe.length=0,hn.length=0,In.length=0,de=!1,ht=!0,ct),keyframes:L=>{const pe=oe!==L;return oe=L,pe&&(L=>{Tn?Pn().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(L);else{const Re=new KeyframeEffect(pe.effect.target,L,pe.effect.getTiming());pe.effect=Re}}):Mt()})(oe),ct},addAnimation:L=>{if(null!=L)if(Array.isArray(L))for(const pe of L)pe.parent(ct),bn.push(pe);else L.parent(ct),bn.push(L);return ct},addElement:L=>{if(null!=L)if(1===L.nodeType)pn.push(L);else if(L.length>=0)for(let pe=0;pe<L.length;pe++)pn.push(L[pe]);else console.error("Invalid addElement value");return ct},update:lr,fill:L=>(Te=L,lr(!0),ct),direction:L=>(we=L,lr(!0),ct),iterations:L=>(Se=L,lr(!0),ct),duration:L=>(!Tn&&0===L&&(L=1),Pe=L,lr(!0),ct),easing:L=>(Ue=L,lr(!0),ct),delay:L=>(B=L,lr(!0),ct),getWebAnimations:Pn,getKeyframes:()=>oe,getFill:fn,getDirection:ie,getDelay:k,getIterations:q,getEasing:J,getDuration:se,afterAddRead:L=>(gt.push(L),ct),afterAddWrite:L=>(Jn.push(L),ct),afterClearStyles:(L=[])=>{for(const pe of L)Le[pe]="";return ct},afterStyles:(L={})=>(Le=L,ct),afterRemoveClass:L=>(Z=fe(Z,L),ct),afterAddClass:L=>(W=fe(W,L),ct),beforeAddRead:L=>(sr.push(L),ct),beforeAddWrite:L=>($r.push(L),ct),beforeClearStyles:(L=[])=>{for(const pe of L)V[pe]="";return ct},beforeStyles:(L={})=>(V=L,ct),beforeRemoveClass:L=>(re=fe(re,L),ct),beforeAddClass:L=>(z=fe(z,L),ct),onFinish:Gt,isRunning:()=>0!==qe&&!Jt,progressStart:(L=!1,pe)=>(bn.forEach(Re=>{Re.progressStart(L,pe)}),vo(),ut=L,de||Di(),lr(!1,!0,pe),ct),progressStep:L=>(bn.forEach(pe=>{pe.progressStep(L)}),hi(L),ct),progressEnd:(L,pe,Re)=>(ut=!1,bn.forEach(ze=>{ze.progressEnd(L,pe,Re)}),void 0!==Re&&(De=Re),Ye=!1,Ne=!0,0===L?(ce="reverse"===ie()?"normal":"reverse","reverse"===ce&&(Ne=!1),Tn?(lr(),hi(1-pe)):(ke=(1-pe)*se()*-1,lr(!1,!1))):1===L&&(Tn?(lr(),hi(pe)):(ke=pe*se()*-1,lr(!1,!1))),void 0!==L&&(Gt(()=>{De=void 0,ce=void 0,ke=void 0},{oneTimeCallback:!0}),G||P()),ct)}}},4349:(Dt,Ge,O)=>{"use strict";O.d(Ge,{G:()=>Ie});class U{constructor(te,he,_e,K,Y){this.id=he,this.name=_e,this.disableScroll=Y,this.priority=1e6*K+he,this.ctrl=te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const te=this.ctrl.capture(this.name,this.id,this.priority);return te&&this.disableScroll&&this.ctrl.disableScroll(this.id),te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class R{constructor(te,he,_e,K){this.id=he,this.disable=_e,this.disableScroll=K,this.ctrl=te}block(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.disableGesture(te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const te of this.disable)this.ctrl.enableGesture(te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const me="backdrop-no-scroll",Ie=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(te){var he;return new U(this,this.newID(),te.name,null!==(he=te.priority)&&void 0!==he?he:0,!!te.disableScroll)}createBlocker(te={}){return new R(this,this.newID(),te.disable,!!te.disableScroll)}start(te,he,_e){return this.canStart(te)?(this.requestedStart.set(he,_e),!0):(this.requestedStart.delete(he),!1)}capture(te,he,_e){if(!this.start(te,he,_e))return!1;const K=this.requestedStart;let Y=-1e4;if(K.forEach(ee=>{Y=Math.max(Y,ee)}),Y===_e){this.capturedId=he,K.clear();const ee=new CustomEvent("ionGestureCaptured",{detail:{gestureName:te}});return document.dispatchEvent(ee),!0}return K.delete(he),!1}release(te){this.requestedStart.delete(te),this.capturedId===te&&(this.capturedId=void 0)}disableGesture(te,he){let _e=this.disabledGestures.get(te);void 0===_e&&(_e=new Set,this.disabledGestures.set(te,_e)),_e.add(he)}enableGesture(te,he){const _e=this.disabledGestures.get(te);void 0!==_e&&_e.delete(he)}disableScroll(te){this.disabledScroll.add(te),1===this.disabledScroll.size&&document.body.classList.add(me)}enableScroll(te){this.disabledScroll.delete(te),0===this.disabledScroll.size&&document.body.classList.remove(me)}canStart(te){return!(void 0!==this.capturedId||this.isDisabled(te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(te){const he=this.disabledGestures.get(te);return!!(he&&he.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Dt,Ge,O)=>{"use strict";O.r(Ge),O.d(Ge,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>me,blockHardwareBackButton:()=>U,startHardwareBackButton:()=>R});var u=O(5861);const U=()=>{document.addEventListener("backbutton",()=>{})},R=()=>{const xe=document;let te=!1;xe.addEventListener("backbutton",()=>{if(te)return;let he=0,_e=[];const K=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ae,ge){_e.push({priority:ae,handler:ge,id:he++})}}});xe.dispatchEvent(K);const Y=function(){var ae=(0,u.Z)(function*(ge){try{if(ge?.handler){const fe=ge.handler(ee);null!=fe&&(yield fe)}}catch(fe){console.error(fe)}});return function(fe){return ae.apply(this,arguments)}}(),ee=()=>{if(_e.length>0){let ae={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};_e.forEach(ge=>{ge.priority>=ae.priority&&(ae=ge)}),te=!0,_e=_e.filter(ge=>ge.id!==ae.id),Y(ae).then(()=>te=!1)}};ee()})},me=100,Ie=99},5730:(Dt,Ge,O)=>{"use strict";O.d(Ge,{a:()=>te,b:()=>he,c:()=>R,d:()=>ge,e:()=>fe,f:()=>ae,g:()=>_e,h:()=>Se,i:()=>xe,j:()=>me,k:()=>ee,l:()=>He,m:()=>Y,n:()=>ne,o:()=>Ue,p:()=>Pe,q:()=>Te,r:()=>K,s:()=>we,t:()=>u,u:()=>B});const u=(oe,z=0)=>new Promise(re=>{U(oe,z,re)}),U=(oe,z=0,re)=>{let de,G;const V={passive:!0},Z=()=>{de&&de()},Le=qe=>{(void 0===qe||oe===qe.target)&&(Z(),re(qe))};return oe&&(oe.addEventListener("webkitTransitionEnd",Le,V),oe.addEventListener("transitionend",Le,V),G=setTimeout(Le,z+500),de=()=>{G&&(clearTimeout(G),G=void 0),oe.removeEventListener("webkitTransitionEnd",Le,V),oe.removeEventListener("transitionend",Le,V)}),Z},R=(oe,z)=>{oe.componentOnReady?oe.componentOnReady().then(re=>z(re)):K(()=>z(oe))},me=(oe,z=[])=>{const re={};return z.forEach(de=>{oe.hasAttribute(de)&&(null!==oe.getAttribute(de)&&(re[de]=oe.getAttribute(de)),oe.removeAttribute(de))}),re},Ie=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],xe=(oe,z)=>{let re=Ie;return z&&z.length>0&&(re=re.filter(de=>!z.includes(de))),me(oe,re)},te=(oe,z,re,de)=>{var G;if(typeof window<"u"){const W=null===(G=window?.Ionic)||void 0===G?void 0:G.config;if(W){const Z=W.get("_ael");if(Z)return Z(oe,z,re,de);if(W._ael)return W._ael(oe,z,re,de)}}return oe.addEventListener(z,re,de)},he=(oe,z,re,de)=>{var G;if(typeof window<"u"){const W=null===(G=window?.Ionic)||void 0===G?void 0:G.config;if(W){const Z=W.get("_rel");if(Z)return Z(oe,z,re,de);if(W._rel)return W._rel(oe,z,re,de)}}return oe.removeEventListener(z,re,de)},_e=(oe,z=oe)=>oe.shadowRoot||z,K=oe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(oe):"function"==typeof requestAnimationFrame?requestAnimationFrame(oe):setTimeout(oe),Y=oe=>!!oe.shadowRoot&&!!oe.attachShadow,ee=oe=>{const z=oe.closest("ion-item");return z?z.querySelector("ion-label"):null},ae=oe=>{if(oe.focus(),oe.classList.contains("ion-focusable")){const z=oe.closest("ion-app");z&&z.setFocus([oe])}},ge=(oe,z)=>{let re;const de=oe.getAttribute("aria-labelledby"),G=oe.id;let V=null!==de&&""!==de.trim()?de:z+"-lbl",W=null!==de&&""!==de.trim()?document.getElementById(de):ee(oe);return W?(null===de&&(W.id=V),re=W.textContent,W.setAttribute("aria-hidden","true")):""!==G.trim()&&(W=document.querySelector(`label[for="${G}"]`),W&&(""!==W.id?V=W.id:W.id=V=`${G}-lbl`,re=W.textContent)),{label:W,labelId:V,labelText:re}},fe=(oe,z,re,de,G)=>{if(oe||Y(z)){let V=z.querySelector("input.aux-input");V||(V=z.ownerDocument.createElement("input"),V.type="hidden",V.classList.add("aux-input"),z.appendChild(V)),V.disabled=G,V.name=re,V.value=de||""}},He=(oe,z,re)=>Math.max(oe,Math.min(z,re)),ne=(oe,z)=>{if(!oe){const re="ASSERT: "+z;throw console.error(re),new Error(re)}},B=oe=>oe.timeStamp||Date.now(),Pe=oe=>{if(oe){const z=oe.changedTouches;if(z&&z.length>0){const re=z[0];return{x:re.clientX,y:re.clientY}}if(void 0!==oe.pageX)return{x:oe.pageX,y:oe.pageY}}return{x:0,y:0}},Ue=oe=>{const z="rtl"===document.dir;switch(oe){case"start":return z;case"end":return!z;default:throw new Error(`"${oe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Se=(oe,z)=>{const re=oe._original||oe;return{_original:oe,emit:Te(re.emit.bind(re),z)}},Te=(oe,z=0)=>{let re;return(...de)=>{clearTimeout(re),re=setTimeout(oe,z,...de)}},we=(oe,z)=>{if(oe??(oe={}),z??(z={}),oe===z)return!0;const re=Object.keys(oe);if(re.length!==Object.keys(z).length)return!1;for(const de of re)if(!(de in z)||oe[de]!==z[de])return!1;return!0}},4292:(Dt,Ge,O)=>{"use strict";O.d(Ge,{m:()=>Y});var u=O(5861),U=O(7593),R=O(5730),me=O(9658),Ie=O(8834);const xe=ee=>(0,Ie.c)().duration(ee?400:300),te=ee=>{let ae,ge;const fe=ee.width+8,He=(0,Ie.c)(),ne=(0,Ie.c)();ee.isEndSide?(ae=fe+"px",ge="0px"):(ae=-fe+"px",ge="0px"),He.addElement(ee.menuInnerEl).fromTo("transform",`translateX(${ae})`,`translateX(${ge})`);const Pe="ios"===(0,me.b)(ee),Ue=Pe?.2:.25;return ne.addElement(ee.backdropEl).fromTo("opacity",.01,Ue),xe(Pe).addAnimation([He,ne])},he=ee=>{let ae,ge;const fe=(0,me.b)(ee),He=ee.width;ee.isEndSide?(ae=-He+"px",ge=He+"px"):(ae=He+"px",ge=-He+"px");const ne=(0,Ie.c)().addElement(ee.menuInnerEl).fromTo("transform",`translateX(${ge})`,"translateX(0px)"),B=(0,Ie.c)().addElement(ee.contentEl).fromTo("transform","translateX(0px)",`translateX(${ae})`),Pe=(0,Ie.c)().addElement(ee.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===fe).addAnimation([ne,B,Pe])},_e=ee=>{const ae=(0,me.b)(ee),ge=ee.width*(ee.isEndSide?-1:1)+"px",fe=(0,Ie.c)().addElement(ee.contentEl).fromTo("transform","translateX(0px)",`translateX(${ge})`);return xe("ios"===ae).addAnimation(fe)},Y=(()=>{const ee=new Map,ae=[],ge=function(){var be=(0,u.Z)(function*(ce){const De=yield Se(ce);return!!De&&De.open()});return function(De){return be.apply(this,arguments)}}(),fe=function(){var be=(0,u.Z)(function*(ce){const De=yield void 0!==ce?Se(ce):Te();return void 0!==De&&De.close()});return function(De){return be.apply(this,arguments)}}(),He=function(){var be=(0,u.Z)(function*(ce){const De=yield Se(ce);return!!De&&De.toggle()});return function(De){return be.apply(this,arguments)}}(),ne=function(){var be=(0,u.Z)(function*(ce,De){const ke=yield Se(De);return ke&&(ke.disabled=!ce),ke});return function(De,ke){return be.apply(this,arguments)}}(),B=function(){var be=(0,u.Z)(function*(ce,De){const ke=yield Se(De);return ke&&(ke.swipeGesture=ce),ke});return function(De,ke){return be.apply(this,arguments)}}(),Pe=function(){var be=(0,u.Z)(function*(ce){if(null!=ce){const De=yield Se(ce);return void 0!==De&&De.isOpen()}return void 0!==(yield Te())});return function(De){return be.apply(this,arguments)}}(),Ue=function(){var be=(0,u.Z)(function*(ce){const De=yield Se(ce);return!!De&&!De.disabled});return function(De){return be.apply(this,arguments)}}(),Se=function(){var be=(0,u.Z)(function*(ce){return yield $e(),"start"===ce||"end"===ce?ut(Ne=>Ne.side===ce&&!Ne.disabled)||ut(Ne=>Ne.side===ce):null!=ce?ut(ke=>ke.menuId===ce):ut(ke=>!ke.disabled)||(ae.length>0?ae[0].el:void 0)});return function(De){return be.apply(this,arguments)}}(),Te=function(){var be=(0,u.Z)(function*(){return yield $e(),Z()});return function(){return be.apply(this,arguments)}}(),we=function(){var be=(0,u.Z)(function*(){return yield $e(),Le()});return function(){return be.apply(this,arguments)}}(),oe=function(){var be=(0,u.Z)(function*(){return yield $e(),qe()});return function(){return be.apply(this,arguments)}}(),z=(be,ce)=>{ee.set(be,ce)},G=be=>{const ce=be.side;ae.filter(De=>De.side===ce&&De!==be).forEach(De=>De.disabled=!0)},V=function(){var be=(0,u.Z)(function*(ce,De,ke){if(qe())return!1;if(De){const Ne=yield Te();Ne&&ce.el!==Ne&&(yield Ne.setOpen(!1,!1))}return ce._setOpen(De,ke)});return function(De,ke,Ne){return be.apply(this,arguments)}}(),Z=()=>ut(be=>be._isOpen),Le=()=>ae.map(be=>be.el),qe=()=>ae.some(be=>be.isAnimating),ut=be=>{const ce=ae.find(be);if(void 0!==ce)return ce.el},$e=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(be=>new Promise(ce=>(0,R.c)(be,ce))));return z("reveal",_e),z("push",he),z("overlay",te),typeof document<"u"&&document.addEventListener("ionBackButton",be=>{const ce=Z();ce&&be.detail.register(U.MENU_BACK_BUTTON_PRIORITY,()=>ce.close())}),{registerAnimation:z,get:Se,getMenus:we,getOpen:Te,isEnabled:Ue,swipeGesture:B,isAnimating:oe,isOpen:Pe,enable:ne,toggle:He,close:fe,open:ge,_getOpenSync:Z,_createAnimation:(be,ce)=>{const De=ee.get(be);if(!De)throw new Error("animation not registered");return De(ce)},_register:be=>{ae.indexOf(be)<0&&(be.disabled||G(be),ae.push(be))},_unregister:be=>{const ce=ae.indexOf(be);ce>-1&&ae.splice(ce,1)},_setOpen:V,_setActiveMenu:G}})()},3457:(Dt,Ge,O)=>{"use strict";O.d(Ge,{w:()=>u});const u=typeof window<"u"?window:void 0},1308:(Dt,Ge,O)=>{"use strict";O.d(Ge,{B:()=>qi,H:()=>pn,a:()=>Ne,b:()=>jn,c:()=>oi,e:()=>ur,f:()=>zi,g:()=>Ye,h:()=>hn,i:()=>gn,j:()=>ie,k:()=>Hi,p:()=>He,r:()=>Gi,s:()=>ge});var u=O(5861);let R,me,Ie,xe=!1,te=!1,he=!1,_e=!1,K=!1;const Y=typeof window<"u"?window:{},ee=Y.document||{head:{}},ae={$flags$:0,$resourcesUrl$:"",jmp:P=>P(),raf:P=>requestAnimationFrame(P),ael:(P,$,ye,ve)=>P.addEventListener($,ye,ve),rel:(P,$,ye,ve)=>P.removeEventListener($,ye,ve),ce:(P,$)=>new CustomEvent(P,$)},ge=P=>{Object.assign(ae,P)},He=P=>Promise.resolve(P),ne=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),B=(P,$,ye,ve)=>{ye&&ye.map(([Ve,L,pe])=>{const Re=Ue(P,Ve),ze=Pe($,pe),Qe=Se(Ve);ae.ael(Re,L,ze,Qe),($.$rmListeners$=$.$rmListeners$||[]).push(()=>ae.rel(Re,L,ze,Qe))})},Pe=(P,$)=>ye=>{try{256&P.$flags$?P.$lazyInstance$[$](ye):(P.$queuedListeners$=P.$queuedListeners$||[]).push([$,ye])}catch(ve){yr(ve)}},Ue=(P,$)=>4&$?ee:8&$?Y:16&$?ee.body:P,Se=P=>0!=(2&P),re="s-id",de="sty-id",G="c-id",W="http://www.w3.org/1999/xlink",qe=new WeakMap,ut=(P,$,ye)=>{let ve=vr.get(P);ne&&ye?(ve=ve||new CSSStyleSheet,"string"==typeof ve?ve=$:ve.replaceSync($)):ve=$,vr.set(P,ve)},$e=(P,$,ye,ve)=>{let Ve=ce($,ye);const L=vr.get(Ve);if(P=11===P.nodeType?P:ee,L)if("string"==typeof L){let Re,pe=qe.get(P=P.head||P);pe||qe.set(P,pe=new Set),pe.has(Ve)||(P.host&&(Re=P.querySelector(`[${de}="${Ve}"]`))?Re.innerHTML=L:(Re=ee.createElement("style"),Re.innerHTML=L,P.insertBefore(Re,P.querySelector("link"))),pe&&pe.add(Ve))}else P.adoptedStyleSheets.includes(L)||(P.adoptedStyleSheets=[...P.adoptedStyleSheets,L]);return Ve},ce=(P,$)=>"sc-"+($&&32&P.$flags$?P.$tagName$+"-"+$:P.$tagName$),De=P=>P.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ne=P=>Vr.push(P),Ye=P=>Mt(P).$modeName$,ht={},un=P=>"object"==(P=typeof P)||"function"===P,hn=(P,$,...ye)=>{let ve=null,Ve=null,L=null,pe=!1,Re=!1;const ze=[],Qe=Nt=>{for(let en=0;en<Nt.length;en++)ve=Nt[en],Array.isArray(ve)?Qe(ve):null!=ve&&"boolean"!=typeof ve&&((pe="function"!=typeof P&&!un(ve))&&(ve=String(ve)),pe&&Re?ze[ze.length-1].$text$+=ve:ze.push(pe?In(null,ve):ve),Re=pe)};if(Qe(ye),$){$.key&&(Ve=$.key),$.name&&(L=$.name);{const Nt=$.className||$.class;Nt&&($.class="object"!=typeof Nt?Nt:Object.keys(Nt).filter(en=>Nt[en]).join(" "))}}if("function"==typeof P)return P(null===$?{}:$,ze,kn);const yt=In(P,null);return yt.$attrs$=$,ze.length>0&&(yt.$children$=ze),yt.$key$=Ve,yt.$name$=L,yt},In=(P,$)=>({$flags$:0,$tag$:P,$text$:$,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pn={},kn={forEach:(P,$)=>P.map(sr).forEach($),map:(P,$)=>P.map(sr).map($).map($r)},sr=P=>({vattrs:P.$attrs$,vchildren:P.$children$,vkey:P.$key$,vname:P.$name$,vtag:P.$tag$,vtext:P.$text$}),$r=P=>{if("function"==typeof P.vtag){const ye=Object.assign({},P.vattrs);return P.vkey&&(ye.key=P.vkey),P.vname&&(ye.name=P.vname),hn(P.vtag,ye,...P.vchildren||[])}const $=In(P.vtag,P.vtext);return $.$attrs$=P.vattrs,$.$children$=P.vchildren,$.$key$=P.vkey,$.$name$=P.vname,$},gt=(P,$,ye,ve,Ve,L)=>{if(ye!==ve){let pe=hi(P,$),Re=$.toLowerCase();if("class"===$){const ze=P.classList,Qe=Dn(ye),yt=Dn(ve);ze.remove(...Qe.filter(Nt=>Nt&&!yt.includes(Nt))),ze.add(...yt.filter(Nt=>Nt&&!Qe.includes(Nt)))}else if("style"===$){for(const ze in ye)(!ve||null==ve[ze])&&(ze.includes("-")?P.style.removeProperty(ze):P.style[ze]="");for(const ze in ve)(!ye||ve[ze]!==ye[ze])&&(ze.includes("-")?P.style.setProperty(ze,ve[ze]):P.style[ze]=ve[ze])}else if("key"!==$)if("ref"===$)ve&&ve(P);else if(pe||"o"!==$[0]||"n"!==$[1]){const ze=un(ve);if((pe||ze&&null!==ve)&&!Ve)try{if(P.tagName.includes("-"))P[$]=ve;else{const yt=ve??"";"list"===$?pe=!1:(null==ye||P[$]!=yt)&&(P[$]=yt)}}catch{}let Qe=!1;Re!==(Re=Re.replace(/^xlink\:?/,""))&&($=Re,Qe=!0),null==ve||!1===ve?(!1!==ve||""===P.getAttribute($))&&(Qe?P.removeAttributeNS(W,$):P.removeAttribute($)):(!pe||4&L||Ve)&&!ze&&(ve=!0===ve?"":ve,Qe?P.setAttributeNS(W,$,ve):P.setAttribute($,ve))}else $="-"===$[2]?$.slice(3):hi(Y,Re)?Re.slice(2):Re[2]+$.slice(3),ye&&ae.rel(P,$,ye,!1),ve&&ae.ael(P,$,ve,!1)}},Jn=/\s/,Dn=P=>P?P.split(Jn):[],On=(P,$,ye,ve)=>{const Ve=11===$.$elm$.nodeType&&$.$elm$.host?$.$elm$.host:$.$elm$,L=P&&P.$attrs$||ht,pe=$.$attrs$||ht;for(ve in L)ve in pe||gt(Ve,ve,L[ve],void 0,ye,$.$flags$);for(ve in pe)gt(Ve,ve,L[ve],pe[ve],ye,$.$flags$)},Tn=(P,$,ye,ve)=>{const Ve=$.$children$[ye];let pe,Re,ze,L=0;if(xe||(he=!0,"slot"===Ve.$tag$&&(R&&ve.classList.add(R+"-s"),Ve.$flags$|=Ve.$children$?2:1)),null!==Ve.$text$)pe=Ve.$elm$=ee.createTextNode(Ve.$text$);else if(1&Ve.$flags$)pe=Ve.$elm$=ee.createTextNode("");else{if(_e||(_e="svg"===Ve.$tag$),pe=Ve.$elm$=ee.createElementNS(_e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ve.$flags$?"slot-fb":Ve.$tag$),_e&&"foreignObject"===Ve.$tag$&&(_e=!1),On(null,Ve,_e),(P=>null!=P)(R)&&pe["s-si"]!==R&&pe.classList.add(pe["s-si"]=R),Ve.$children$)for(L=0;L<Ve.$children$.length;++L)Re=Tn(P,Ve,L,pe),Re&&pe.appendChild(Re);"svg"===Ve.$tag$?_e=!1:"foreignObject"===pe.tagName&&(_e=!0)}return pe["s-hn"]=Ie,3&Ve.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=me,pe["s-sn"]=Ve.$name$||"",ze=P&&P.$children$&&P.$children$[ye],ze&&ze.$tag$===Ve.$tag$&&P.$elm$&&Jr(P.$elm$,!1)),pe},Jr=(P,$)=>{ae.$flags$|=1;const ye=P.childNodes;for(let ve=ye.length-1;ve>=0;ve--){const Ve=ye[ve];Ve["s-hn"]!==Ie&&Ve["s-ol"]&&(Gt(Ve).insertBefore(Ve,Pt(Ve)),Ve["s-ol"].remove(),Ve["s-ol"]=void 0,he=!0),$&&Jr(Ve,$)}ae.$flags$&=-2},Pn=(P,$,ye,ve,Ve,L)=>{let Re,pe=P["s-cr"]&&P["s-cr"].parentNode||P;for(pe.shadowRoot&&pe.tagName===Ie&&(pe=pe.shadowRoot);Ve<=L;++Ve)ve[Ve]&&(Re=Tn(null,ye,Ve,P),Re&&(ve[Ve].$elm$=Re,pe.insertBefore(Re,Pt($))))},$n=(P,$,ye,ve,Ve)=>{for(;$<=ye;++$)(ve=P[$])&&(Ve=ve.$elm$,Xt(ve),te=!0,Ve["s-ol"]?Ve["s-ol"].remove():Jr(Ve,!0),Ve.remove())},kt=(P,$)=>P.$tag$===$.$tag$&&("slot"===P.$tag$?P.$name$===$.$name$:P.$key$===$.$key$),Pt=P=>P&&P["s-ol"]||P,Gt=P=>(P["s-ol"]?P["s-ol"]:P).parentNode,ar=(P,$)=>{const ye=$.$elm$=P.$elm$,ve=P.$children$,Ve=$.$children$,L=$.$tag$,pe=$.$text$;let Re;null===pe?(_e="svg"===L||"foreignObject"!==L&&_e,"slot"===L||On(P,$,_e),null!==ve&&null!==Ve?((P,$,ye,ve)=>{let tr,Si,Ve=0,L=0,pe=0,Re=0,ze=$.length-1,Qe=$[0],yt=$[ze],Nt=ve.length-1,en=ve[0],Fn=ve[Nt];for(;Ve<=ze&&L<=Nt;)if(null==Qe)Qe=$[++Ve];else if(null==yt)yt=$[--ze];else if(null==en)en=ve[++L];else if(null==Fn)Fn=ve[--Nt];else if(kt(Qe,en))ar(Qe,en),Qe=$[++Ve],en=ve[++L];else if(kt(yt,Fn))ar(yt,Fn),yt=$[--ze],Fn=ve[--Nt];else if(kt(Qe,Fn))("slot"===Qe.$tag$||"slot"===Fn.$tag$)&&Jr(Qe.$elm$.parentNode,!1),ar(Qe,Fn),P.insertBefore(Qe.$elm$,yt.$elm$.nextSibling),Qe=$[++Ve],Fn=ve[--Nt];else if(kt(yt,en))("slot"===Qe.$tag$||"slot"===Fn.$tag$)&&Jr(yt.$elm$.parentNode,!1),ar(yt,en),P.insertBefore(yt.$elm$,Qe.$elm$),yt=$[--ze],en=ve[++L];else{for(pe=-1,Re=Ve;Re<=ze;++Re)if($[Re]&&null!==$[Re].$key$&&$[Re].$key$===en.$key$){pe=Re;break}pe>=0?(Si=$[pe],Si.$tag$!==en.$tag$?tr=Tn($&&$[L],ye,pe,P):(ar(Si,en),$[pe]=void 0,tr=Si.$elm$),en=ve[++L]):(tr=Tn($&&$[L],ye,L,P),en=ve[++L]),tr&&Gt(Qe.$elm$).insertBefore(tr,Pt(Qe.$elm$))}Ve>ze?Pn(P,null==ve[Nt+1]?null:ve[Nt+1].$elm$,ye,ve,L,Nt):L>Nt&&$n($,Ve,ze)})(ye,ve,$,Ve):null!==Ve?(null!==P.$text$&&(ye.textContent=""),Pn(ye,null,$,Ve,0,Ve.length-1)):null!==ve&&$n(ve,0,ve.length-1),_e&&"svg"===L&&(_e=!1)):(Re=ye["s-cr"])?Re.parentNode.textContent=pe:P.$text$!==pe&&(ye.data=pe)},Kn=P=>{const $=P.childNodes;let ye,ve,Ve,L,pe,Re;for(ve=0,Ve=$.length;ve<Ve;ve++)if(ye=$[ve],1===ye.nodeType){if(ye["s-sr"])for(pe=ye["s-sn"],ye.hidden=!1,L=0;L<Ve;L++)if(Re=$[L].nodeType,$[L]["s-hn"]!==ye["s-hn"]||""!==pe){if(1===Re&&pe===$[L].getAttribute("slot")){ye.hidden=!0;break}}else if(1===Re||3===Re&&""!==$[L].textContent.trim()){ye.hidden=!0;break}Kn(ye)}},Bn=[],zt=P=>{let $,ye,ve,Ve,L,pe,Re=0;const ze=P.childNodes,Qe=ze.length;for(;Re<Qe;Re++){if($=ze[Re],$["s-sr"]&&(ye=$["s-cr"])&&ye.parentNode)for(ve=ye.parentNode.childNodes,Ve=$["s-sn"],pe=ve.length-1;pe>=0;pe--)ye=ve[pe],!ye["s-cn"]&&!ye["s-nr"]&&ye["s-hn"]!==$["s-hn"]&&(Er(ye,Ve)?(L=Bn.find(yt=>yt.$nodeToRelocate$===ye),te=!0,ye["s-sn"]=ye["s-sn"]||Ve,L?L.$slotRefNode$=$:Bn.push({$slotRefNode$:$,$nodeToRelocate$:ye}),ye["s-sr"]&&Bn.map(yt=>{Er(yt.$nodeToRelocate$,ye["s-sn"])&&(L=Bn.find(Nt=>Nt.$nodeToRelocate$===ye),L&&!yt.$slotRefNode$&&(yt.$slotRefNode$=L.$slotRefNode$))})):Bn.some(yt=>yt.$nodeToRelocate$===ye)||Bn.push({$nodeToRelocate$:ye}));1===$.nodeType&&zt($)}},Er=(P,$)=>1===P.nodeType?null===P.getAttribute("slot")&&""===$||P.getAttribute("slot")===$:P["s-sn"]===$||""===$,Xt=P=>{P.$attrs$&&P.$attrs$.ref&&P.$attrs$.ref(null),P.$children$&&P.$children$.map(Xt)},gn=P=>Mt(P).$hostElement$,ur=(P,$,ye)=>{const ve=gn(P);return{emit:Ve=>Un(ve,$,{bubbles:!!(4&ye),composed:!!(2&ye),cancelable:!!(1&ye),detail:Ve})}},Un=(P,$,ye)=>{const ve=ae.ce($,ye);return P.dispatchEvent(ve),ve},wt=(P,$)=>{$&&!P.$onRenderResolve$&&$["s-p"]&&$["s-p"].push(new Promise(ye=>P.$onRenderResolve$=ye))},Xe=(P,$)=>{if(P.$flags$|=16,!(4&P.$flags$))return wt(P,P.$ancestorComponent$),oi(()=>bt(P,$));P.$flags$|=512},bt=(P,$)=>{const ve=P.$lazyInstance$;let Ve;return $&&(P.$flags$|=256,P.$queuedListeners$&&(P.$queuedListeners$.map(([L,pe])=>se(ve,L,pe)),P.$queuedListeners$=null),Ve=se(ve,"componentWillLoad")),Ve=q(Ve,()=>se(ve,"componentWillRender")),q(Ve,()=>$t(P,ve,$))},$t=function(){var P=(0,u.Z)(function*($,ye,ve){const Ve=$.$hostElement$,pe=Ve["s-rc"];ve&&(P=>{const $=P.$cmpMeta$,ye=P.$hostElement$,ve=$.$flags$,L=$e(ye.shadowRoot?ye.shadowRoot:ye.getRootNode(),$,P.$modeName$);10&ve&&(ye["s-sc"]=L,ye.classList.add(L+"-h"),2&ve&&ye.classList.add(L+"-s"))})($);Vt($,ye),pe&&(pe.map(ze=>ze()),Ve["s-rc"]=void 0);{const ze=Ve["s-p"],Qe=()=>fn($);0===ze.length?Qe():(Promise.all(ze).then(Qe),$.$flags$|=4,ze.length=0)}});return function(ye,ve,Ve){return P.apply(this,arguments)}}(),Vt=(P,$,ye)=>{try{$=$.render&&$.render(),P.$flags$&=-17,P.$flags$|=2,((P,$)=>{const ye=P.$hostElement$,ve=P.$cmpMeta$,Ve=P.$vnode$||In(null,null),L=(P=>P&&P.$tag$===pn)($)?$:hn(null,null,$);if(Ie=ye.tagName,ve.$attrsToReflect$&&(L.$attrs$=L.$attrs$||{},ve.$attrsToReflect$.map(([pe,Re])=>L.$attrs$[Re]=ye[pe])),L.$tag$=null,L.$flags$|=4,P.$vnode$=L,L.$elm$=Ve.$elm$=ye.shadowRoot||ye,R=ye["s-sc"],me=ye["s-cr"],xe=0!=(1&ve.$flags$),te=!1,ar(Ve,L),ae.$flags$|=1,he){zt(L.$elm$);let pe,Re,ze,Qe,yt,Nt,en=0;for(;en<Bn.length;en++)pe=Bn[en],Re=pe.$nodeToRelocate$,Re["s-ol"]||(ze=ee.createTextNode(""),ze["s-nr"]=Re,Re.parentNode.insertBefore(Re["s-ol"]=ze,Re));for(en=0;en<Bn.length;en++)if(pe=Bn[en],Re=pe.$nodeToRelocate$,pe.$slotRefNode$){for(Qe=pe.$slotRefNode$.parentNode,yt=pe.$slotRefNode$.nextSibling,ze=Re["s-ol"];ze=ze.previousSibling;)if(Nt=ze["s-nr"],Nt&&Nt["s-sn"]===Re["s-sn"]&&Qe===Nt.parentNode&&(Nt=Nt.nextSibling,!Nt||!Nt["s-nr"])){yt=Nt;break}(!yt&&Qe!==Re.parentNode||Re.nextSibling!==yt)&&Re!==yt&&(!Re["s-hn"]&&Re["s-ol"]&&(Re["s-hn"]=Re["s-ol"].parentNode.nodeName),Qe.insertBefore(Re,yt))}else 1===Re.nodeType&&(Re.hidden=!0)}te&&Kn(L.$elm$),ae.$flags$&=-2,Bn.length=0})(P,$)}catch(ve){yr(ve,P.$hostElement$)}return null},fn=P=>{const ye=P.$hostElement$,Ve=P.$lazyInstance$,L=P.$ancestorComponent$;se(Ve,"componentDidRender"),64&P.$flags$?se(Ve,"componentDidUpdate"):(P.$flags$|=64,k(ye),se(Ve,"componentDidLoad"),P.$onReadyResolve$(ye),L||J()),P.$onInstanceResolve$(ye),P.$onRenderResolve$&&(P.$onRenderResolve$(),P.$onRenderResolve$=void 0),512&P.$flags$&&Ti(()=>Xe(P,!1)),P.$flags$&=-517},ie=P=>{{const $=Mt(P),ye=$.$hostElement$.isConnected;return ye&&2==(18&$.$flags$)&&Xe($,!1),ye}},J=P=>{k(ee.documentElement),Ti(()=>Un(Y,"appload",{detail:{namespace:"ionic"}}))},se=(P,$,ye)=>{if(P&&P[$])try{return P[$](ye)}catch(ve){yr(ve)}},q=(P,$)=>P&&P.then?P.then($):$(),k=P=>P.classList.add("hydrated"),Me=(P,$,ye,ve,Ve,L,pe)=>{let Re,ze,Qe,yt;if(1===L.nodeType){for(Re=L.getAttribute(G),Re&&(ze=Re.split("."),(ze[0]===pe||"0"===ze[0])&&(Qe={$flags$:0,$hostId$:ze[0],$nodeId$:ze[1],$depth$:ze[2],$index$:ze[3],$tag$:L.tagName.toLowerCase(),$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},$.push(Qe),L.removeAttribute(G),P.$children$||(P.$children$=[]),P.$children$[Qe.$index$]=Qe,P=Qe,ve&&"0"===Qe.$depth$&&(ve[Qe.$index$]=Qe.$elm$))),yt=L.childNodes.length-1;yt>=0;yt--)Me(P,$,ye,ve,Ve,L.childNodes[yt],pe);if(L.shadowRoot)for(yt=L.shadowRoot.childNodes.length-1;yt>=0;yt--)Me(P,$,ye,ve,Ve,L.shadowRoot.childNodes[yt],pe)}else if(8===L.nodeType)ze=L.nodeValue.split("."),(ze[1]===pe||"0"===ze[1])&&(Re=ze[0],Qe={$flags$:0,$hostId$:ze[1],$nodeId$:ze[2],$depth$:ze[3],$index$:ze[4],$elm$:L,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Re?(Qe.$elm$=L.nextSibling,Qe.$elm$&&3===Qe.$elm$.nodeType&&(Qe.$text$=Qe.$elm$.textContent,$.push(Qe),L.remove(),P.$children$||(P.$children$=[]),P.$children$[Qe.$index$]=Qe,ve&&"0"===Qe.$depth$&&(ve[Qe.$index$]=Qe.$elm$))):Qe.$hostId$===pe&&("s"===Re?(Qe.$tag$="slot",L["s-sn"]=ze[5]?Qe.$name$=ze[5]:"",L["s-sr"]=!0,ve&&(Qe.$elm$=ee.createElement(Qe.$tag$),Qe.$name$&&Qe.$elm$.setAttribute("name",Qe.$name$),L.parentNode.insertBefore(Qe.$elm$,L),L.remove(),"0"===Qe.$depth$&&(ve[Qe.$index$]=Qe.$elm$)),ye.push(Qe),P.$children$||(P.$children$=[]),P.$children$[Qe.$index$]=Qe):"r"===Re&&(ve?L.remove():(Ve["s-cr"]=L,L["s-cn"]=!0))));else if(P&&"style"===P.$tag$){const Nt=In(null,L.textContent);Nt.$elm$=L,Nt.$index$="0",P.$children$=[Nt]}},nt=(P,$)=>{if(1===P.nodeType){let ye=0;for(;ye<P.childNodes.length;ye++)nt(P.childNodes[ye],$);if(P.shadowRoot)for(ye=0;ye<P.shadowRoot.childNodes.length;ye++)nt(P.shadowRoot.childNodes[ye],$)}else if(8===P.nodeType){const ye=P.nodeValue.split(".");"o"===ye[0]&&($.set(ye[1]+"."+ye[2],P),P.nodeValue="",P["s-en"]=ye[3])}},st=(P,$,ye)=>{if($.$members$){P.watchers&&($.$watchers$=P.watchers);const ve=Object.entries($.$members$),Ve=P.prototype;if(ve.map(([L,[pe]])=>{31&pe||2&ye&&32&pe?Object.defineProperty(Ve,L,{get(){return((P,$)=>Mt(this).$instanceValues$.get($))(0,L)},set(Re){((P,$,ye,ve)=>{const Ve=Mt(P),L=Ve.$hostElement$,pe=Ve.$instanceValues$.get($),Re=Ve.$flags$,ze=Ve.$lazyInstance$;ye=((P,$)=>null==P||un(P)?P:4&$?"false"!==P&&(""===P||!!P):2&$?parseFloat(P):1&$?String(P):P)(ye,ve.$members$[$][0]);const Qe=Number.isNaN(pe)&&Number.isNaN(ye);if((!(8&Re)||void 0===pe)&&ye!==pe&&!Qe&&(Ve.$instanceValues$.set($,ye),ze)){if(ve.$watchers$&&128&Re){const Nt=ve.$watchers$[$];Nt&&Nt.map(en=>{try{ze[en](ye,pe,$)}catch(Fn){yr(Fn,L)}})}2==(18&Re)&&Xe(Ve,!1)}})(this,L,Re,$)},configurable:!0,enumerable:!0}):1&ye&&64&pe&&Object.defineProperty(Ve,L,{value(...Re){const ze=Mt(this);return ze.$onInstancePromise$.then(()=>ze.$lazyInstance$[L](...Re))}})}),1&ye){const L=new Map;Ve.attributeChangedCallback=function(pe,Re,ze){ae.jmp(()=>{const Qe=L.get(pe);if(this.hasOwnProperty(Qe))ze=this[Qe],delete this[Qe];else if(Ve.hasOwnProperty(Qe)&&"number"==typeof this[Qe]&&this[Qe]==ze)return;this[Qe]=(null!==ze||"boolean"!=typeof this[Qe])&&ze})},P.observedAttributes=ve.filter(([pe,Re])=>15&Re[0]).map(([pe,Re])=>{const ze=Re[1]||pe;return L.set(ze,pe),512&Re[0]&&$.$attrsToReflect$.push([pe,ze]),ze})}}return P},Yt=function(){var P=(0,u.Z)(function*($,ye,ve,Ve,L){if(0==(32&ye.$flags$)){{if(ye.$flags$|=32,(L=lr(ve)).then){const Qe=()=>{};L=yield L,Qe()}L.isProxied||(ve.$watchers$=L.watchers,st(L,ve,2),L.isProxied=!0);const ze=()=>{};ye.$flags$|=8;try{new L(ye)}catch(Qe){yr(Qe)}ye.$flags$&=-9,ye.$flags$|=128,ze(),Sn(ye.$lazyInstance$)}if(L.style){let ze=L.style;"string"!=typeof ze&&(ze=ze[ye.$modeName$=(P=>Vr.map($=>$(P)).find($=>!!$))($)]);const Qe=ce(ve,ye.$modeName$);if(!vr.has(Qe)){const yt=()=>{};ut(Qe,ze,!!(1&ve.$flags$)),yt()}}}const pe=ye.$ancestorComponent$,Re=()=>Xe(ye,!0);pe&&pe["s-rc"]?pe["s-rc"].push(Re):Re()});return function(ye,ve,Ve,L,pe){return P.apply(this,arguments)}}(),Sn=P=>{se(P,"connectedCallback")},xn=P=>{const $=P["s-cr"]=ee.createComment("");$["s-cn"]=!0,P.insertBefore($,P.firstChild)},jn=(P,$={})=>{const ve=[],Ve=$.exclude||[],L=Y.customElements,pe=ee.head,Re=pe.querySelector("meta[charset]"),ze=ee.createElement("style"),Qe=[],yt=ee.querySelectorAll(`[${de}]`);let Nt,en=!0,Fn=0;for(Object.assign(ae,$),ae.$resourcesUrl$=new URL($.resourcesUrl||"./",ee.baseURI).href,ae.$flags$|=2;Fn<yt.length;Fn++)ut(yt[Fn].getAttribute(de),De(yt[Fn].innerHTML),!0);P.map(tr=>{tr[1].map(Si=>{const _r={$flags$:Si[0],$tagName$:Si[1],$members$:Si[2],$listeners$:Si[3]};_r.$members$=Si[2],_r.$listeners$=Si[3],_r.$attrsToReflect$=[],_r.$watchers$={};const ha=_r.$tagName$,Ja=class extends HTMLElement{constructor(_o){super(_o),Di(_o=this,_r),1&_r.$flags$&&_o.attachShadow({mode:"open",delegatesFocus:!!(16&_r.$flags$)})}connectedCallback(){Nt&&(clearTimeout(Nt),Nt=null),en?Qe.push(this):ae.jmp(()=>(P=>{if(0==(1&ae.$flags$)){const $=Mt(P),ye=$.$cmpMeta$,ve=()=>{};if(1&$.$flags$)B(P,$,ye.$listeners$),Sn($.$lazyInstance$);else{let Ve;if($.$flags$|=1,Ve=P.getAttribute(re),Ve){if(1&ye.$flags$){const L=$e(P.shadowRoot,ye,P.getAttribute("s-mode"));P.classList.remove(L+"-h",L+"-s")}((P,$,ye,ve)=>{const L=P.shadowRoot,pe=[],ze=L?[]:null,Qe=ve.$vnode$=In($,null);ae.$orgLocNodes$||nt(ee.body,ae.$orgLocNodes$=new Map),P[re]=ye,P.removeAttribute(re),Me(Qe,pe,[],ze,P,P,ye),pe.map(yt=>{const Nt=yt.$hostId$+"."+yt.$nodeId$,en=ae.$orgLocNodes$.get(Nt),Fn=yt.$elm$;en&&""===en["s-en"]&&en.parentNode.insertBefore(Fn,en.nextSibling),L||(Fn["s-hn"]=$,en&&(Fn["s-ol"]=en,Fn["s-ol"]["s-nr"]=Fn)),ae.$orgLocNodes$.delete(Nt)}),L&&ze.map(yt=>{yt&&L.appendChild(yt)})})(P,ye.$tagName$,Ve,$)}Ve||12&ye.$flags$&&xn(P);{let L=P;for(;L=L.parentNode||L.host;)if(1===L.nodeType&&L.hasAttribute("s-id")&&L["s-p"]||L["s-p"]){wt($,$.$ancestorComponent$=L);break}}ye.$members$&&Object.entries(ye.$members$).map(([L,[pe]])=>{if(31&pe&&P.hasOwnProperty(L)){const Re=P[L];delete P[L],P[L]=Re}}),Ti(()=>Yt(P,$,ye))}ve()}})(this))}disconnectedCallback(){ae.jmp(()=>(P=>{if(0==(1&ae.$flags$)){const $=Mt(this),ye=$.$lazyInstance$;$.$rmListeners$&&($.$rmListeners$.map(ve=>ve()),$.$rmListeners$=void 0),se(ye,"disconnectedCallback")}})())}componentOnReady(){return Mt(this).$onReadyPromise$}};_r.$lazyBundleId$=tr[0],!Ve.includes(ha)&&!L.get(ha)&&(ve.push(ha),L.define(ha,st(Ja,_r,1)))})}),ze.innerHTML=ve+"{visibility:hidden}.hydrated{visibility:inherit}",ze.setAttribute("data-styles",""),pe.insertBefore(ze,Re?Re.nextSibling:pe.firstChild),en=!1,Qe.length?Qe.map(tr=>tr.connectedCallback()):ae.jmp(()=>Nt=setTimeout(J,30))},Hi=P=>{const $=new URL(P,ae.$resourcesUrl$);return $.origin!==Y.location.origin?$.href:$.pathname},Br=new WeakMap,Mt=P=>Br.get(P),Gi=(P,$)=>Br.set($.$lazyInstance$=P,$),Di=(P,$)=>{const ye={$flags$:0,$hostElement$:P,$cmpMeta$:$,$instanceValues$:new Map};return ye.$onInstancePromise$=new Promise(ve=>ye.$onInstanceResolve$=ve),ye.$onReadyPromise$=new Promise(ve=>ye.$onReadyResolve$=ve),P["s-p"]=[],P["s-rc"]=[],B(P,ye,$.$listeners$),Br.set(P,ye)},hi=(P,$)=>$ in P,yr=(P,$)=>(0,console.error)(P,$),Yn=new Map,lr=(P,$,ye)=>{const ve=P.$tagName$.replace(/-/g,"_"),Ve=P.$lazyBundleId$,L=Yn.get(Ve);return L?L[ve]:O(863)(`./${Ve}.entry.js`).then(pe=>(Yn.set(Ve,pe),pe[ve]),yr)},vr=new Map,Vr=[],Zn=[],vo=[],An=(P,$)=>ye=>{P.push(ye),K||(K=!0,$&&4&ae.$flags$?Ti(fi):ae.raf(fi))},bs=P=>{for(let $=0;$<P.length;$++)try{P[$](performance.now())}catch(ye){yr(ye)}P.length=0},fi=()=>{bs(Zn),bs(vo),(K=Zn.length>0)&&ae.raf(fi)},Ti=P=>He().then(P),zi=An(Zn,!1),oi=An(vo,!0),qi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},697:(Dt,Ge,O)=>{"use strict";O.d(Ge,{L:()=>me,a:()=>Ie,b:()=>xe,c:()=>te,d:()=>he,e:()=>z,g:()=>G,l:()=>we,s:()=>re,t:()=>Y});var u=O(5861),U=O(1308),R=O(5730);const me="ionViewWillEnter",Ie="ionViewDidEnter",xe="ionViewWillLeave",te="ionViewDidLeave",he="ionViewWillUnload",Y=V=>new Promise((W,Z)=>{(0,U.c)(()=>{ee(V),ae(V).then(Le=>{Le.animation&&Le.animation.destroy(),ge(V),W(Le)},Le=>{ge(V),Z(Le)})})}),ee=V=>{const W=V.enteringEl,Z=V.leavingEl;de(W,Z,V.direction),V.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),re(W,!1),W.style.setProperty("pointer-events","none"),Z&&(re(Z,!1),Z.style.setProperty("pointer-events","none"))},ae=function(){var V=(0,u.Z)(function*(W){const Z=yield fe(W);return Z&&U.B.isBrowser?He(Z,W):ne(W)});return function(Z){return V.apply(this,arguments)}}(),ge=V=>{const W=V.enteringEl,Z=V.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==Z&&(Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events"))},fe=function(){var V=(0,u.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(O.bind(O,3953))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,3880))).mdTransitionAnimation:void 0});return function(Z){return V.apply(this,arguments)}}(),He=function(){var V=(0,u.Z)(function*(W,Z){yield B(Z,!0);const Le=W(Z.baseEl,Z);Se(Z.enteringEl,Z.leavingEl);const qe=yield Ue(Le,Z);return Z.progressCallback&&Z.progressCallback(void 0),qe&&Te(Z.enteringEl,Z.leavingEl),{hasCompleted:qe,animation:Le}});return function(Z,Le){return V.apply(this,arguments)}}(),ne=function(){var V=(0,u.Z)(function*(W){const Z=W.enteringEl,Le=W.leavingEl;return yield B(W,!1),Se(Z,Le),Te(Z,Le),{hasCompleted:!0}});return function(Z){return V.apply(this,arguments)}}(),B=function(){var V=(0,u.Z)(function*(W,Z){const qe=(void 0!==W.deepWait?W.deepWait:Z)?[z(W.enteringEl),z(W.leavingEl)]:[oe(W.enteringEl),oe(W.leavingEl)];yield Promise.all(qe),yield Pe(W.viewIsReady,W.enteringEl)});return function(Z,Le){return V.apply(this,arguments)}}(),Pe=function(){var V=(0,u.Z)(function*(W,Z){W&&(yield W(Z))});return function(Z,Le){return V.apply(this,arguments)}}(),Ue=(V,W)=>{const Z=W.progressCallback,Le=new Promise(qe=>{V.onFinish(ut=>qe(1===ut))});return Z?(V.progressStart(!0),Z(V)):V.play(),Le},Se=(V,W)=>{we(W,xe),we(V,me)},Te=(V,W)=>{we(V,Ie),we(W,te)},we=(V,W)=>{if(V){const Z=new CustomEvent(W,{bubbles:!1,cancelable:!1});V.dispatchEvent(Z)}},oe=V=>V?new Promise(W=>(0,R.c)(V,W)):Promise.resolve(),z=function(){var V=(0,u.Z)(function*(W){const Z=W;if(Z){if(null!=Z.componentOnReady){if(null!=(yield Z.componentOnReady()))return}else if(null!=Z.__registerHost)return void(yield new Promise(qe=>(0,R.r)(qe)));yield Promise.all(Array.from(Z.children).map(z))}});return function(Z){return V.apply(this,arguments)}}(),re=(V,W)=>{W?(V.setAttribute("aria-hidden","true"),V.classList.add("ion-page-hidden")):(V.hidden=!1,V.removeAttribute("aria-hidden"),V.classList.remove("ion-page-hidden"))},de=(V,W,Z)=>{void 0!==V&&(V.style.zIndex="back"===Z?"99":"101"),void 0!==W&&(W.style.zIndex="100")},G=V=>V.classList.contains("ion-page")?V:V.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||V},1911:(Dt,Ge,O)=>{"use strict";O.r(Ge),O.d(Ge,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>_e});var u=O(4349);const U=(ae,ge,fe,He)=>{const ne=R(ae)?{capture:!!He.capture,passive:!!He.passive}:!!He.capture;let B,Pe;return ae.__zone_symbol__addEventListener?(B="__zone_symbol__addEventListener",Pe="__zone_symbol__removeEventListener"):(B="addEventListener",Pe="removeEventListener"),ae[B](ge,fe,ne),()=>{ae[Pe](ge,fe,ne)}},R=ae=>{if(void 0===me)try{const ge=Object.defineProperty({},"passive",{get:()=>{me=!0}});ae.addEventListener("optsTest",()=>{},ge)}catch{me=!1}return!!me};let me;const te=ae=>ae instanceof Document?ae:ae.ownerDocument,_e=ae=>{let ge=!1,fe=!1,He=!0,ne=!1;const B=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ae),Pe=B.canStart,Ue=B.onWillStart,Se=B.onStart,Te=B.onEnd,we=B.notCaptured,oe=B.onMove,z=B.threshold,re=B.passive,de=B.blurOnStart,G={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},V=((ae,ge,fe)=>{const He=fe*(Math.PI/180),ne="x"===ae,B=Math.cos(He),Pe=ge*ge;let Ue=0,Se=0,Te=!1,we=0;return{start(oe,z){Ue=oe,Se=z,we=0,Te=!0},detect(oe,z){if(!Te)return!1;const re=oe-Ue,de=z-Se,G=re*re+de*de;if(G<Pe)return!1;const V=Math.sqrt(G),W=(ne?re:de)/V;return we=W>B?1:W<-B?-1:0,Te=!1,!0},isGesture:()=>0!==we,getDirection:()=>we}})(B.direction,B.threshold,B.maxAngle),W=u.G.createGesture({name:ae.gestureName,priority:ae.gesturePriority,disableScroll:ae.disableScroll}),qe=()=>{!ge||(ne=!1,oe&&oe(G))},ut=()=>!!W.capture()&&(ge=!0,He=!1,G.startX=G.currentX,G.startY=G.currentY,G.startTime=G.currentTime,Ue?Ue(G).then(be):be(),!0),be=()=>{de&&(()=>{if(typeof document<"u"){const Ye=document.activeElement;Ye?.blur&&Ye.blur()}})(),Se&&Se(G),He=!0},ce=()=>{ge=!1,fe=!1,ne=!1,He=!0,W.release()},De=Ye=>{const ht=ge,ft=He;if(ce(),ft){if(K(G,Ye),ht)return void(Te&&Te(G));we&&we(G)}},ke=((ae,ge,fe,He,ne)=>{let B,Pe,Ue,Se,Te,we,oe,z=0;const re=$e=>{z=Date.now()+2e3,ge($e)&&(!Pe&&fe&&(Pe=U(ae,"touchmove",fe,ne)),Ue||(Ue=U($e.target,"touchend",G,ne)),Se||(Se=U($e.target,"touchcancel",G,ne)))},de=$e=>{z>Date.now()||!ge($e)||(!we&&fe&&(we=U(te(ae),"mousemove",fe,ne)),oe||(oe=U(te(ae),"mouseup",V,ne)))},G=$e=>{W(),He&&He($e)},V=$e=>{Z(),He&&He($e)},W=()=>{Pe&&Pe(),Ue&&Ue(),Se&&Se(),Pe=Ue=Se=void 0},Z=()=>{we&&we(),oe&&oe(),we=oe=void 0},Le=()=>{W(),Z()},qe=($e=!0)=>{$e?(B||(B=U(ae,"touchstart",re,ne)),Te||(Te=U(ae,"mousedown",de,ne))):(B&&B(),Te&&Te(),B=Te=void 0,Le())};return{enable:qe,stop:Le,destroy:()=>{qe(!1),He=fe=ge=void 0}}})(B.el,Ye=>{const ht=ee(Ye);return!(fe||!He||(Y(Ye,G),G.startX=G.currentX,G.startY=G.currentY,G.startTime=G.currentTime=ht,G.velocityX=G.velocityY=G.deltaX=G.deltaY=0,G.event=Ye,Pe&&!1===Pe(G))||(W.release(),!W.start()))&&(fe=!0,0===z?ut():(V.start(G.startX,G.startY),!0))},Ye=>{ge?!ne&&He&&(ne=!0,K(G,Ye),requestAnimationFrame(qe)):(K(G,Ye),V.detect(G.currentX,G.currentY)&&(!V.isGesture()||!ut())&&Ne())},De,{capture:!1,passive:re}),Ne=()=>{ce(),ke.stop(),we&&we(G)};return{enable(Ye=!0){Ye||(ge&&De(void 0),ce()),ke.enable(Ye)},destroy(){W.destroy(),ke.destroy()}}},K=(ae,ge)=>{if(!ge)return;const fe=ae.currentX,He=ae.currentY,ne=ae.currentTime;Y(ge,ae);const B=ae.currentX,Pe=ae.currentY,Se=(ae.currentTime=ee(ge))-ne;if(Se>0&&Se<100){const we=(Pe-He)/Se;ae.velocityX=(B-fe)/Se*.7+.3*ae.velocityX,ae.velocityY=.7*we+.3*ae.velocityY}ae.deltaX=B-ae.startX,ae.deltaY=Pe-ae.startY,ae.event=ge},Y=(ae,ge)=>{let fe=0,He=0;if(ae){const ne=ae.changedTouches;if(ne&&ne.length>0){const B=ne[0];fe=B.clientX,He=B.clientY}else void 0!==ae.pageX&&(fe=ae.pageX,He=ae.pageY)}ge.currentX=fe,ge.currentY=He},ee=ae=>ae.timeStamp||Date.now()},9658:(Dt,Ge,O)=>{"use strict";O.d(Ge,{a:()=>Y,b:()=>qe,c:()=>R,g:()=>K,i:()=>ut});var u=O(1308);class U{constructor(){this.m=new Map}reset(be){this.m=new Map(Object.entries(be))}get(be,ce){const De=this.m.get(be);return void 0!==De?De:ce}getBoolean(be,ce=!1){const De=this.m.get(be);return void 0===De?ce:"string"==typeof De?"true"===De:!!De}getNumber(be,ce){const De=parseFloat(this.m.get(be));return isNaN(De)?void 0!==ce?ce:NaN:De}set(be,ce){this.m.set(be,ce)}}const R=new U,_e="ionic-persist-config",K=$e=>ee($e),Y=($e,be)=>("string"==typeof $e&&(be=$e,$e=void 0),K($e).includes(be)),ee=($e=window)=>{if(typeof $e>"u")return[];$e.Ionic=$e.Ionic||{};let be=$e.Ionic.platforms;return null==be&&(be=$e.Ionic.platforms=ae($e),be.forEach(ce=>$e.document.documentElement.classList.add(`plt-${ce}`))),be},ae=$e=>{const be=R.get("platform");return Object.keys(Z).filter(ce=>{const De=be?.[ce];return"function"==typeof De?De($e):Z[ce]($e)})},fe=$e=>!!(V($e,/iPad/i)||V($e,/Macintosh/i)&&Te($e)),B=$e=>V($e,/android|sink/i),Te=$e=>W($e,"(any-pointer:coarse)"),oe=$e=>z($e)||re($e),z=$e=>!!($e.cordova||$e.phonegap||$e.PhoneGap),re=$e=>!!$e.Capacitor?.isNative,V=($e,be)=>be.test($e.navigator.userAgent),W=($e,be)=>{var ce;return null===(ce=$e.matchMedia)||void 0===ce?void 0:ce.call($e,be).matches},Z={ipad:fe,iphone:$e=>V($e,/iPhone/i),ios:$e=>V($e,/iPhone|iPod/i)||fe($e),android:B,phablet:$e=>{const be=$e.innerWidth,ce=$e.innerHeight,De=Math.min(be,ce),ke=Math.max(be,ce);return De>390&&De<520&&ke>620&&ke<800},tablet:$e=>{const be=$e.innerWidth,ce=$e.innerHeight,De=Math.min(be,ce),ke=Math.max(be,ce);return fe($e)||($e=>B($e)&&!V($e,/mobile/i))($e)||De>460&&De<820&&ke>780&&ke<1400},cordova:z,capacitor:re,electron:$e=>V($e,/electron/i),pwa:$e=>{var be;return!(!(null===(be=$e.matchMedia)||void 0===be?void 0:be.call($e,"(display-mode: standalone)").matches)&&!$e.navigator.standalone)},mobile:Te,mobileweb:$e=>Te($e)&&!oe($e),desktop:$e=>!Te($e),hybrid:oe};let Le;const qe=$e=>$e&&(0,u.g)($e)||Le,ut=($e={})=>{if(typeof window>"u")return;const be=window.document,ce=window,De=ce.Ionic=ce.Ionic||{},ke={};$e._ael&&(ke.ael=$e._ael),$e._rel&&(ke.rel=$e._rel),$e._ce&&(ke.ce=$e._ce),(0,u.s)(ke);const Ne=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},($e=>{try{const be=$e.sessionStorage.getItem(_e);return null!==be?JSON.parse(be):{}}catch{return{}}})(ce)),{persistConfig:!1}),De.config),($e=>{const be={};return $e.location.search.slice(1).split("&").map(ce=>ce.split("=")).map(([ce,De])=>[decodeURIComponent(ce),decodeURIComponent(De)]).filter(([ce])=>(($e,be)=>$e.substr(0,be.length)===be)(ce,"ionic:")).map(([ce,De])=>[ce.slice("ionic:".length),De]).forEach(([ce,De])=>{be[ce]=De}),be})(ce)),$e);R.reset(Ne),R.getBoolean("persistConfig")&&(($e,be)=>{try{$e.sessionStorage.setItem(_e,JSON.stringify(be))}catch{return}})(ce,Ne),ee(ce),De.config=R,De.mode=Le=R.get("mode",be.documentElement.getAttribute("mode")||(Y(ce,"ios")?"ios":"md")),R.set("mode",Le),be.documentElement.setAttribute("mode",Le),be.documentElement.classList.add(Le),R.getBoolean("_testing")&&R.set("animated",!1);const Ye=ft=>{var ct;return null===(ct=ft.tagName)||void 0===ct?void 0:ct.startsWith("ION-")},ht=ft=>["ios","md"].includes(ft);(0,u.a)(ft=>{for(;ft;){const ct=ft.mode||ft.getAttribute("mode");if(ct){if(ht(ct))return ct;Ye(ft)&&console.warn('Invalid ionic mode: "'+ct+'", expected: "ios" or "md"')}ft=ft.parentElement}return Le})}},3953:(Dt,Ge,O)=>{"use strict";O.r(Ge),O.d(Ge,{iosTransitionAnimation:()=>ae,shadow:()=>te});var u=O(8834),U=O(697);O(3457),O(1308);const xe=ge=>document.querySelector(`${ge}.ion-cloned-element`),te=ge=>ge.shadowRoot||ge,he=ge=>{const fe="ION-TABS"===ge.tagName?ge:ge.querySelector("ion-tabs"),He="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=fe){const ne=fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ne?ne.querySelector(He):null}return ge.querySelector(He)},_e=(ge,fe)=>{const He="ION-TABS"===ge.tagName?ge:ge.querySelector("ion-tabs");let ne=[];if(null!=He){const B=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=B&&(ne=B.querySelectorAll("ion-buttons"))}else ne=ge.querySelectorAll("ion-buttons");for(const B of ne){const Pe=B.closest("ion-header"),Ue=Pe&&!Pe.classList.contains("header-collapse-condense-inactive"),Se=B.querySelector("ion-back-button"),Te=B.classList.contains("buttons-collapse"),we="start"===B.slot||""===B.slot;if(null!==Se&&we&&(Te&&Ue&&fe||!Te))return Se}return null},Y=(ge,fe,He,ne,B,Pe)=>{const Ue=fe?`calc(100% - ${Pe.right+4}px)`:Pe.left-4+"px",Se=fe?"7px":"-7px",Te=fe?"-4px":"4px",we=fe?"-4px":"4px",oe=fe?"right":"left",z=fe?"left":"right",G=He?[{offset:0,opacity:1,transform:`translate3d(${Te}, ${Pe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${B.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Se}, ${B.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Te}, ${Pe.top-46}px, 0) scale(1)`}],Z=He?[{offset:0,opacity:1,transform:`translate3d(${we}, ${Pe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${we}, ${Pe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${we}, ${Pe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${we}, ${Pe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${we}, ${Pe.top-46}px, 0) scale(1)`}],Le=(0,u.c)(),qe=(0,u.c)(),ut=xe("ion-back-button"),$e=te(ut).querySelector(".button-text"),be=te(ut).querySelector("ion-icon");ut.text=ne.text,ut.mode=ne.mode,ut.icon=ne.icon,ut.color=ne.color,ut.disabled=ne.disabled,ut.style.setProperty("display","block"),ut.style.setProperty("position","fixed"),qe.addElement(be),Le.addElement($e),Le.beforeStyles({"transform-origin":`${oe} center`}).beforeAddWrite(()=>{ne.style.setProperty("display","none"),ut.style.setProperty(oe,Ue)}).afterAddWrite(()=>{ne.style.setProperty("display",""),ut.style.setProperty("display","none"),ut.style.removeProperty(oe)}).keyframes(G),qe.beforeStyles({"transform-origin":`${z} center`}).keyframes(Z),ge.addAnimation([Le,qe])},ee=(ge,fe,He,ne,B,Pe)=>{const Ue=fe?`calc(100% - ${B.right}px)`:`${B.left}px`,Se=fe?"-18px":"18px",Te=fe?"right":"left",z=He?[{offset:0,opacity:0,transform:`translate3d(${Se}, ${Pe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${B.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${B.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${Pe.top-4}px, 0) scale(0.5)`}],re=xe("ion-title"),de=(0,u.c)();re.innerText=ne.innerText,re.size=ne.size,re.color=ne.color,de.addElement(re),de.beforeStyles({"transform-origin":`${Te} center`,height:"46px",display:"",position:"relative",[Te]:Ue}).beforeAddWrite(()=>{ne.style.setProperty("display","none")}).afterAddWrite(()=>{ne.style.setProperty("display",""),re.style.setProperty("display","none")}).keyframes(z),ge.addAnimation(de)},ae=(ge,fe)=>{var He;try{const ne="cubic-bezier(0.32,0.72,0,1)",B="opacity",Pe="transform",Ue="0%",Te="rtl"===ge.ownerDocument.dir,we=Te?"-99.5%":"99.5%",oe=Te?"33%":"-33%",z=fe.enteringEl,re=fe.leavingEl,de="back"===fe.direction,G=z.querySelector(":scope > ion-content"),V=z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),W=z.querySelectorAll(":scope > ion-header > ion-toolbar"),Z=(0,u.c)(),Le=(0,u.c)();if(Z.addElement(z).duration((null!==(He=fe.duration)&&void 0!==He?He:0)||540).easing(fe.easing||ne).fill("both").beforeRemoveClass("ion-page-invisible"),re&&null!=ge){const be=(0,u.c)();be.addElement(ge),Z.addAnimation(be)}if(G||0!==W.length||0!==V.length?(Le.addElement(G),Le.addElement(V)):Le.addElement(z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Z.addAnimation(Le),de?Le.beforeClearStyles([B]).fromTo("transform",`translateX(${oe})`,`translateX(${Ue})`).fromTo(B,.8,1):Le.beforeClearStyles([B]).fromTo("transform",`translateX(${we})`,`translateX(${Ue})`),G){const be=te(G).querySelector(".transition-effect");if(be){const ce=be.querySelector(".transition-cover"),De=be.querySelector(".transition-shadow"),ke=(0,u.c)(),Ne=(0,u.c)(),Ye=(0,u.c)();ke.addElement(be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ne.addElement(ce).beforeClearStyles([B]).fromTo(B,0,.1),Ye.addElement(De).beforeClearStyles([B]).fromTo(B,.03,.7),ke.addAnimation([Ne,Ye]),Le.addAnimation([ke])}}const qe=z.querySelector("ion-header.header-collapse-condense"),{forward:ut,backward:$e}=((ge,fe,He,ne,B)=>{const Pe=_e(ne,He),Ue=he(B),Se=he(ne),Te=_e(B,He),we=null!==Pe&&null!==Ue&&!He,oe=null!==Se&&null!==Te&&He;if(we){const z=Ue.getBoundingClientRect(),re=Pe.getBoundingClientRect();ee(ge,fe,He,Ue,z,re),Y(ge,fe,He,Pe,z,re)}else if(oe){const z=Se.getBoundingClientRect(),re=Te.getBoundingClientRect();ee(ge,fe,He,Se,z,re),Y(ge,fe,He,Te,z,re)}return{forward:we,backward:oe}})(Z,Te,de,z,re);if(W.forEach(be=>{const ce=(0,u.c)();ce.addElement(be),Z.addAnimation(ce);const De=(0,u.c)();De.addElement(be.querySelector("ion-title"));const ke=(0,u.c)(),Ne=Array.from(be.querySelectorAll("ion-buttons,[menuToggle]")),Ye=be.closest("ion-header"),ht=Ye?.classList.contains("header-collapse-condense-inactive");let ft;ft=Ne.filter(de?In=>{const pn=In.classList.contains("buttons-collapse");return pn&&!ht||!pn}:In=>!In.classList.contains("buttons-collapse")),ke.addElement(ft);const ct=(0,u.c)();ct.addElement(be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Jt=(0,u.c)();Jt.addElement(te(be).querySelector(".toolbar-background"));const un=(0,u.c)(),hn=be.querySelector("ion-back-button");if(hn&&un.addElement(hn),ce.addAnimation([De,ke,ct,Jt,un]),ke.fromTo(B,.01,1),ct.fromTo(B,.01,1),de)ht||De.fromTo("transform",`translateX(${oe})`,`translateX(${Ue})`).fromTo(B,.01,1),ct.fromTo("transform",`translateX(${oe})`,`translateX(${Ue})`),un.fromTo(B,.01,1);else if(qe||De.fromTo("transform",`translateX(${we})`,`translateX(${Ue})`).fromTo(B,.01,1),ct.fromTo("transform",`translateX(${we})`,`translateX(${Ue})`),Jt.beforeClearStyles([B,"transform"]),Ye?.translucent?Jt.fromTo("transform",Te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Jt.fromTo(B,.01,"var(--opacity)"),ut||un.fromTo(B,.01,1),hn&&!ut){const pn=(0,u.c)();pn.addElement(te(hn).querySelector(".button-text")).fromTo("transform",Te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ce.addAnimation(pn)}}),re){const be=(0,u.c)(),ce=re.querySelector(":scope > ion-content"),De=re.querySelectorAll(":scope > ion-header > ion-toolbar"),ke=re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ce||0!==De.length||0!==ke.length?(be.addElement(ce),be.addElement(ke)):be.addElement(re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Z.addAnimation(be),de){be.beforeClearStyles([B]).fromTo("transform",`translateX(${Ue})`,Te?"translateX(-100%)":"translateX(100%)");const Ne=(0,U.g)(re);Z.afterAddWrite(()=>{"normal"===Z.getDirection()&&Ne.style.setProperty("display","none")})}else be.fromTo("transform",`translateX(${Ue})`,`translateX(${oe})`).fromTo(B,1,.8);if(ce){const Ne=te(ce).querySelector(".transition-effect");if(Ne){const Ye=Ne.querySelector(".transition-cover"),ht=Ne.querySelector(".transition-shadow"),ft=(0,u.c)(),ct=(0,u.c)(),Jt=(0,u.c)();ft.addElement(Ne).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(Ye).beforeClearStyles([B]).fromTo(B,.1,0),Jt.addElement(ht).beforeClearStyles([B]).fromTo(B,.7,.03),ft.addAnimation([ct,Jt]),be.addAnimation([ft])}}De.forEach(Ne=>{const Ye=(0,u.c)();Ye.addElement(Ne);const ht=(0,u.c)();ht.addElement(Ne.querySelector("ion-title"));const ft=(0,u.c)(),ct=Ne.querySelectorAll("ion-buttons,[menuToggle]"),Jt=Ne.closest("ion-header"),un=Jt?.classList.contains("header-collapse-condense-inactive"),hn=Array.from(ct).filter($r=>{const gt=$r.classList.contains("buttons-collapse");return gt&&!un||!gt});ft.addElement(hn);const In=(0,u.c)(),pn=Ne.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");pn.length>0&&In.addElement(pn);const bn=(0,u.c)();bn.addElement(te(Ne).querySelector(".toolbar-background"));const kn=(0,u.c)(),sr=Ne.querySelector("ion-back-button");if(sr&&kn.addElement(sr),Ye.addAnimation([ht,ft,In,kn,bn]),Z.addAnimation(Ye),kn.fromTo(B,.99,0),ft.fromTo(B,.99,0),In.fromTo(B,.99,0),de){if(un||ht.fromTo("transform",`translateX(${Ue})`,Te?"translateX(-100%)":"translateX(100%)").fromTo(B,.99,0),In.fromTo("transform",`translateX(${Ue})`,Te?"translateX(-100%)":"translateX(100%)"),bn.beforeClearStyles([B,"transform"]),Jt?.translucent?bn.fromTo("transform","translateX(0px)",Te?"translateX(-100%)":"translateX(100%)"):bn.fromTo(B,"var(--opacity)",0),sr&&!$e){const gt=(0,u.c)();gt.addElement(te(sr).querySelector(".button-text")).fromTo("transform",`translateX(${Ue})`,`translateX(${(Te?-124:124)+"px"})`),Ye.addAnimation(gt)}}else un||ht.fromTo("transform",`translateX(${Ue})`,`translateX(${oe})`).fromTo(B,.99,0).afterClearStyles([Pe,B]),In.fromTo("transform",`translateX(${Ue})`,`translateX(${oe})`).afterClearStyles([Pe,B]),kn.afterClearStyles([B]),ht.afterClearStyles([B]),ft.afterClearStyles([B])})}return Z}catch(ne){throw ne}}},3880:(Dt,Ge,O)=>{"use strict";O.r(Ge),O.d(Ge,{mdTransitionAnimation:()=>Ie});var u=O(8834),U=O(697);O(3457),O(1308);const Ie=(xe,te)=>{var he,_e,K;const ae="back"===te.direction,fe=te.leavingEl,He=(0,U.g)(te.enteringEl),ne=He.querySelector("ion-toolbar"),B=(0,u.c)();if(B.addElement(He).fill("both").beforeRemoveClass("ion-page-invisible"),ae?B.duration((null!==(he=te.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):B.duration((null!==(_e=te.duration)&&void 0!==_e?_e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ne){const Pe=(0,u.c)();Pe.addElement(ne),B.addAnimation(Pe)}if(fe&&ae){B.duration((null!==(K=te.duration)&&void 0!==K?K:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Pe=(0,u.c)();Pe.addElement((0,U.g)(fe)).onFinish(Ue=>{1===Ue&&Pe.elements.length>0&&Pe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),B.addAnimation(Pe)}return B}},4414:(Dt,Ge,O)=>{"use strict";O.d(Ge,{B:()=>ce,a:()=>he,b:()=>_e,c:()=>ae,d:()=>de,e:()=>fe,f:()=>V,g:()=>Le,h:()=>xe,i:()=>ut,j:()=>B,k:()=>z,m:()=>Y,s:()=>be});var u=O(5861),U=O(9658),R=O(7593),me=O(5730);let Ie=0;const xe=new WeakMap,te=De=>({create:ke=>He(De,ke),dismiss:(ke,Ne,Ye)=>we(document,ke,Ne,De,Ye),getTop:()=>(0,u.Z)(function*(){return z(document,De)})()}),he=te("ion-alert"),_e=te("ion-action-sheet"),Y=te("ion-modal"),ae=te("ion-popover"),fe=De=>{typeof document<"u"&&Te(document);const ke=Ie++;De.overlayIndex=ke,De.hasAttribute("id")||(De.id=`ion-overlay-${ke}`)},He=(De,ke)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(De).then(()=>{const Ne=document.createElement(De);return Ne.classList.add("overlay-hidden"),Object.assign(Ne,Object.assign(Object.assign({},ke),{hasController:!0})),W(document).appendChild(Ne),new Promise(Ye=>(0,me.c)(Ne,Ye))}):Promise.resolve(),ne='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',B=(De,ke)=>{let Ne=De.querySelector(ne);const Ye=Ne?.shadowRoot;Ye&&(Ne=Ye.querySelector(ne)||Ne),Ne?(0,me.f)(Ne):ke.focus()},Ue=(De,ke)=>{const Ne=Array.from(De.querySelectorAll(ne));let Ye=Ne.length>0?Ne[Ne.length-1]:null;const ht=Ye?.shadowRoot;ht&&(Ye=ht.querySelector(ne)||Ye),Ye?Ye.focus():ke.focus()},Te=De=>{0===Ie&&(Ie=1,De.addEventListener("focus",ke=>{((De,ke)=>{const Ne=z(ke,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ye=De.target;Ne&&Ye&&!Ne.classList.contains("ion-disable-focus-trap")&&(Ne.shadowRoot?(()=>{if(Ne.contains(Ye))Ne.lastFocus=Ye;else{const ct=Ne.lastFocus;B(Ne,Ne),ct===ke.activeElement&&Ue(Ne,Ne),Ne.lastFocus=ke.activeElement}})():(()=>{if(Ne===Ye)Ne.lastFocus=void 0;else{const ct=(0,me.g)(Ne);if(!ct.contains(Ye))return;const Jt=ct.querySelector(".ion-overlay-wrapper");if(!Jt)return;if(Jt.contains(Ye))Ne.lastFocus=Ye;else{const un=Ne.lastFocus;B(Jt,Ne),un===ke.activeElement&&Ue(Jt,Ne),Ne.lastFocus=ke.activeElement}}})())})(ke,De)},!0),De.addEventListener("ionBackButton",ke=>{const Ne=z(De);Ne?.backdropDismiss&&ke.detail.register(R.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ne.dismiss(void 0,ce))}),De.addEventListener("keyup",ke=>{if("Escape"===ke.key){const Ne=z(De);Ne?.backdropDismiss&&Ne.dismiss(void 0,ce)}}))},we=(De,ke,Ne,Ye,ht)=>{const ft=z(De,Ye,ht);return ft?ft.dismiss(ke,Ne):Promise.reject("overlay does not exist")},z=(De,ke,Ne)=>{const Ye=((De,ke)=>(void 0===ke&&(ke="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(De.querySelectorAll(ke)).filter(Ne=>Ne.overlayIndex>0)))(De,ke).filter(ht=>!(De=>De.classList.contains("overlay-hidden"))(ht));return void 0===Ne?Ye[Ye.length-1]:Ye.find(ht=>ht.id===Ne)},re=(De=!1)=>{const Ne=W(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ne||(De?Ne.setAttribute("aria-hidden","true"):Ne.removeAttribute("aria-hidden"))},de=function(){var De=(0,u.Z)(function*(ke,Ne,Ye,ht,ft){var ct,Jt;if(ke.presented)return;re(!0),ke.presented=!0,ke.willPresent.emit(),null===(ct=ke.willPresentShorthand)||void 0===ct||ct.emit();const un=(0,U.b)(ke),hn=ke.enterAnimation?ke.enterAnimation:U.c.get(Ne,"ios"===un?Ye:ht);(yield Z(ke,hn,ke.el,ft))&&(ke.didPresent.emit(),null===(Jt=ke.didPresentShorthand)||void 0===Jt||Jt.emit()),"ION-TOAST"!==ke.el.tagName&&G(ke.el),ke.keyboardClose&&(null===document.activeElement||!ke.el.contains(document.activeElement))&&ke.el.focus()});return function(Ne,Ye,ht,ft,ct){return De.apply(this,arguments)}}(),G=function(){var De=(0,u.Z)(function*(ke){let Ne=document.activeElement;if(!Ne)return;const Ye=Ne?.shadowRoot;Ye&&(Ne=Ye.querySelector(ne)||Ne),yield ke.onDidDismiss(),Ne.focus()});return function(Ne){return De.apply(this,arguments)}}(),V=function(){var De=(0,u.Z)(function*(ke,Ne,Ye,ht,ft,ct,Jt){var un,hn;if(!ke.presented)return!1;re(!1),ke.presented=!1;try{ke.el.style.setProperty("pointer-events","none"),ke.willDismiss.emit({data:Ne,role:Ye}),null===(un=ke.willDismissShorthand)||void 0===un||un.emit({data:Ne,role:Ye});const In=(0,U.b)(ke),pn=ke.leaveAnimation?ke.leaveAnimation:U.c.get(ht,"ios"===In?ft:ct);"gesture"!==Ye&&(yield Z(ke,pn,ke.el,Jt)),ke.didDismiss.emit({data:Ne,role:Ye}),null===(hn=ke.didDismissShorthand)||void 0===hn||hn.emit({data:Ne,role:Ye}),xe.delete(ke),ke.el.classList.add("overlay-hidden"),ke.el.style.removeProperty("pointer-events")}catch(In){console.error(In)}return ke.el.remove(),!0});return function(Ne,Ye,ht,ft,ct,Jt,un){return De.apply(this,arguments)}}(),W=De=>De.querySelector("ion-app")||De.body,Z=function(){var De=(0,u.Z)(function*(ke,Ne,Ye,ht){Ye.classList.remove("overlay-hidden");const ct=Ne(ke.el,ht);(!ke.animated||!U.c.getBoolean("animated",!0))&&ct.duration(0),ke.keyboardClose&&ct.beforeAddWrite(()=>{const un=Ye.ownerDocument.activeElement;un?.matches("input,ion-input, ion-textarea")&&un.blur()});const Jt=xe.get(ke)||[];return xe.set(ke,[...Jt,ct]),yield ct.play(),!0});return function(Ne,Ye,ht,ft){return De.apply(this,arguments)}}(),Le=(De,ke)=>{let Ne;const Ye=new Promise(ht=>Ne=ht);return qe(De,ke,ht=>{Ne(ht.detail)}),Ye},qe=(De,ke,Ne)=>{const Ye=ht=>{(0,me.b)(De,ke,Ye),Ne(ht)};(0,me.a)(De,ke,Ye)},ut=De=>"cancel"===De||De===ce,$e=De=>De(),be=(De,ke)=>{if("function"==typeof De)return U.c.get("_zoneGate",$e)(()=>{try{return De(ke)}catch(Ye){throw Ye}})},ce="backdrop"},4850:(Dt,Ge,O)=>{"use strict";var u=O(4650);let U=null;function R(){return U}const te=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _e(){return(0,u.LFG)(Y)}()},providedIn:"platform"}),n})();const K=new u.OlP("Location Initialized");let Y=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ae(){return new Y((0,u.LFG)(te))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Pe)},providedIn:"root"}),n})();const B=new u.OlP("appBaseHref");let Pe=(()=>{class n extends ne{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+He(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(B,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ue=(()=>{class n extends ne{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+He(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(B,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=fe(oe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function we(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,oe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=ge,n.stripTrailingSlash=fe,n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Te(){return new Se((0,u.LFG)(ne))}()},providedIn:"root"}),n})();function oe(n){return n.replace(/\/index.html$/,"")}class zi{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new zi(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,d),qi(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{qi(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qi(n,e){n.context.$implicit=e.item}let $=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ve("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ve("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ye{constructor(){this.$implicit=null,this.ngIf=null}}function ve(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Si{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class _r{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ha=new _r,Ja=new Si;let _o=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return ha;if((0,u.F4k)(t))return Ja;throw function tr(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Bd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function As(n){return"server"===n}let ac=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Vd((0,u.LFG)(te),window)}),n})();class Vd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ur(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jo extends class hc extends class xe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ie(n){U||(U=n)}(new jo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fc(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}();return null==t?null:function bo(n){nr=nr||document.createElement("a"),nr.setAttribute("href",n);const e=nr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let nr,Ho=null;const er=new u.OlP("TRANSITION_ID"),rl=[{provide:u.ip1,useFactory:function pc(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[er,te,u.zs3],multi:!0}];let il=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ol=new u.OlP("EventManagerPlugins");let sl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ol),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ou{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Fs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends Fs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gc))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gc(n){R().remove(n)}const $s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mc=/%COMP%/g;function au(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?au(n,i,t):(i=i.replace(mc,n),t.push(i))}return t}function uu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let lu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Eo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new vc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Yd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=au(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sl),u.LFG(Ls),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Eo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($s[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ta(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ta(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=$s[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=$s[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,uu(r)):this.eventManager.addEventListener(e,t,uu(r))}}function Ta(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vc extends Eo{constructor(e,t,r,i){super(e),this.component=r;const l=au(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function gr(n){return"_ngcontent-%COMP%".replace(mc,n)}(i+"-"+r.id),this.hostAttr=function su(n){return"_nghost-%COMP%".replace(mc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Yd extends Eo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=au(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Tr=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Zd=["alt","control","meta","shift"],Go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ll={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sa=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),d="code."),Zd.forEach(b=>{const S=r.indexOf(b);S>-1&&(r.splice(S,1),d+=b+".")}),d+=l,0!=r.length||0===l.length)return null;const v={};return v.domEventName=i,v.fullKey=d,v}static matchEventFullKeyCode(t,r){let i=Go[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Zd.forEach(d=>{d!==i&&(0,ll[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Aa=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ic(){jo.makeCurrent()},multi:!0},{provide:te,useFactory:function cl(){return(0,u.RDi)(document),document},deps:[]}]),rs=new u.OlP(""),xa=[{provide:u.rWj,useClass:class qd{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const p=function(v){d=d||v,l--,0==l&&r(d)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Vs=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Co(){return new u.qLn},deps:[]},{provide:ol,useClass:Tr,multi:!0,deps:[te,u.R0b,u.Lbi]},{provide:ol,useClass:Sa,multi:!0,deps:[te]},{provide:lu,useClass:lu,deps:[sl,Ls,u.AFp]},{provide:u.FYo,useExisting:lu},{provide:Fs,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[te]},{provide:sl,useClass:sl,deps:[ol,u.R0b]},{provide:class xs{},useClass:il,deps:[]},[]];let Us=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:er,useExisting:u.AFp},rl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(rs,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Vs,...xa],imports:[Bd,u.hGG]}),n})(),lo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ma(){return new lo((0,u.LFG)(te))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let os=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(()=>{const e=(0,u.f3M)(te),t=(0,u.f3M)(u.AFp),r=new n;return r.store=function Ki(n,e){const t=n.getElementById(e+"-state");let r={};if(t&&t.textContent)try{r=JSON.parse(function Ys(n){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return n.replace(/&[^;]+;/g,t=>e[t])}(t.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return r}(e,t),r})()},providedIn:"root"}),n})();var Sr=O(7579),Do=O(7669),Ln=O(8996);function Ot(...n){const e=(0,Do.yG)(n);return(0,Ln.D)(n,e)}var Qn=O(9751),To=O(6451),ss=O(5363),Xi=O(8421),dr=O(4482),Or=O(5403);function rr(n,e){return(0,dr.e)((t,r)=>{let i=null,l=0,d=!1;const p=()=>d&&!i&&r.complete();t.subscribe((0,Or.x)(r,v=>{i?.unsubscribe();let b=0;const S=l++;(0,Xi.Xf)(n(v,S)).subscribe(i=(0,Or.x)(r,x=>r.next(e?e(v,x,S,b++):x),()=>{i=null,p()}))},()=>{d=!0,p()}))})}var tn=O(4004),Zs=O(6063);class fl extends Sr.x{constructor(e=1/0,t=1/0,r=Zs.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)p=v;p&&r.splice(0,p+1)}}}var Ec=O(3099);function ai(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Ec.B)({connector:()=>new fl(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const mi=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ti(n,e){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,Or.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var co=O(515);function as(n){return n<=0?()=>co.E:(0,dr.e)((e,t)=>{let r=0;e.subscribe((0,Or.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function qo(n){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gu(n=Cc){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Cc(){return new mi}var mu=O(4671);function ho(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ti((i,l)=>n(i,l,r)):mu.y,as(1),t?qo(e):gu(()=>new mi))}var ui=O(576);function ka(n,e){return(0,ui.m)(e)?rr(()=>n,e):rr(()=>n)}var Qi=O(9468),Rn=O(5813),Hr=O(2011),So=O(5867);class yu{constructor(){return(0,So.C6)()}}var Ce=O(5861),Lt=O(9681),an=O(4859),lt=O(2090),qn=O(1877);const Ar=new Map,cs={activated:!1,tokenObservers:[]},Xs={initialized:!1,enabled:!1};function hr(n){return Ar.get(n)||Object.assign({},cs)}function Ri(){return Xs}class pp{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new lt.BH,yield function qm(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new lt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const li=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function th(n){if(!hr(n).activated)throw li.create("use-before-activation",{appName:n.name})}function mp(n,e){return nh.apply(this,arguments)}function nh(){return(nh=(0,Ce.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const le=yield d.getHeartbeatsHeader();le&&(l["X-Firebase-Client"]=le)}const p={method:"POST",body:JSON.stringify(e),headers:l};let v,b;try{v=yield fetch(n,p)}catch(le){throw li.create("fetch-network-error",{originalErrorMessage:null===(r=le)||void 0===r?void 0:r.message})}if(200!==v.status)throw li.create("fetch-status-error",{httpStatus:v.status});try{b=yield v.json()}catch(le){throw li.create("fetch-parse-error",{originalErrorMessage:null===(i=le)||void 0===i?void 0:i.message})}const S=b.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const x=1e3*Number(S[1]),Q=Date.now();return{token:b.token,expireTimeMillis:Q+x,issuedAtTimeMillis:Q}})).apply(this,arguments)}function W0(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Tc="firebase-app-check-store";let Sc=null;function Zm(){return Sc||(Sc=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(li.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Tc,{keyPath:"compositeKey"})}}catch(r){e(li.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Sc)}function _u(){return(_u=(0,Ce.Z)(function*(n,e){const r=(yield Zm()).transaction(Tc,"readwrite"),l=r.objectStore(Tc).put({compositeKey:n,value:e});return new Promise((d,p)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var b;p(li.create("storage-set",{originalErrorMessage:null===(b=v.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Pa=new qn.Yd("@firebase/app-check");function Iu(n,e){return(0,lt.hl)()?function Km(n,e){return function ih(n,e){return _u.apply(this,arguments)}(function vp(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Pa.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _p(){return Ri().enabled}function ah(){return uh.apply(this,arguments)}function uh(){return(uh=(0,Ce.Z)(function*(){const n=Ri();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vi={error:"UNKNOWN_ERROR"};function lh(n){return lt.US.encodeString(JSON.stringify(n),!1)}function _(n){return g.apply(this,arguments)}function g(){return(g=(0,Ce.Z)(function*(n,e=!1){const t=n.app;th(t);const r=hr(t);let l,i=r.token;if(i&&!Je(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(Je(v)?i=v:yield Iu(t,void 0))}if(!e&&i&&Je(i))return{token:i.token};let p,d=!1;if(_p()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mp(W0(t,yield ah()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const v=yield r.exchangeTokenPromise;return yield Iu(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield hr(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Pa.warn(v.message):Pa.error(v),l=v}return i?l?p=Je(i)?{token:i.token,internalError:l}:xt(l):(p={token:i.token},r.token=i,yield Iu(t,i)):p=xt(l),d&&Oe(t,p),p})).apply(this,arguments)}function w(n,e){const t=hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function A(n){const{app:e}=n,t=hr(e);let r=t.tokenRefresher;r||(r=function F(n){const{app:e}=n;return new pp((0,Ce.Z)(function*(){let r;if(r=hr(e).token?yield _(n,!0):yield _(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Oe(n,e){const t=hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Je(n){return n.expireTimeMillis-Date.now()>0}function xt(n){return{token:lh(vi),error:n}}class Ht{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hr(this.app);for(const t of e)w(this.app,t.next);return Promise.resolve()}}const ty="app-check-internal";!function ny(){(0,Lt._registerComponent)(new an.wA("app-check",n=>function _n(n,e){return new Ht(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ty).initialize()})),(0,Lt._registerComponent)(new an.wA(ty,n=>function ir(n){return{getToken:e=>_(n,e),addTokenListener:e=>function m(n,e,t,r){const{app:i}=n,l=hr(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&Je(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),A(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>A(n))}(n,"INTERNAL",e),removeTokenListener:e=>w(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lt.registerVersion)("@firebase/app-check","0.5.17")}();class gh{constructor(){return(0,Rn.vb)("app-check")}}typeof window<"u"&&window;var mh=O(127);const oy=new u.OlP("angularfire2.auth.use-emulator"),Dp=new u.OlP("angularfire2.auth.settings"),Tp=new u.OlP("angularfire2.auth.tenant-id"),Sp=new u.OlP("angularfire2.auth.langugage-code"),Rc=new u.OlP("angularfire2.auth.use-device-language"),eI=new u.OlP("angularfire.auth.persistence"),sy=(n,e,t,r,i,l,d,p)=>(0,Hr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),d)for(const[b,S]of Object.entries(d))v.settings[b]=S;return p&&v.setPersistence(p),v},[t,r,i,l,d,p]);let Ap=(()=>{class n{constructor(t,r,i,l,d,p,v,b,S,x,Q,le){const Ae=new Sr.x,tt=Ot(void 0).pipe((0,ss.Q)(d.outsideAngular),rr(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,tn.U)(()=>(0,Hr.on)(t,l,r)),(0,tn.U)(Ke=>sy(Ke,l,p,b,S,x,v,Q)),ai({bufferSize:1,refCount:!1}));if(As(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ot(null);else{tt.pipe(ho()).subscribe();const qt=tt.pipe(rr(Bt=>Bt.getRedirectResult().then(rn=>rn,()=>null)),Rn.iC,ai({bufferSize:1,refCount:!1})),Zt=tt.pipe(rr(Bt=>new Qn.y(rn=>({unsubscribe:l.runOutsideAngular(()=>Bt.onAuthStateChanged(mn=>rn.next(mn),mn=>rn.error(mn),()=>rn.complete()))})))),jt=tt.pipe(rr(Bt=>new Qn.y(rn=>({unsubscribe:l.runOutsideAngular(()=>Bt.onIdTokenChanged(mn=>rn.next(mn),mn=>rn.error(mn),()=>rn.complete()))}))));this.authState=qt.pipe(ka(Zt),(0,Qi.R)(d.outsideAngular),(0,ss.Q)(d.insideAngular)),this.user=qt.pipe(ka(jt),(0,Qi.R)(d.outsideAngular),(0,ss.Q)(d.insideAngular)),this.idToken=this.user.pipe(rr(Bt=>Bt?(0,Ln.D)(Bt.getIdToken()):Ot(null))),this.idTokenResult=this.user.pipe(rr(Bt=>Bt?(0,Ln.D)(Bt.getIdTokenResult()):Ot(null))),this.credential=(0,To.T)(qt,Ae,this.authState.pipe(ti(Bt=>!Bt))).pipe((0,tn.U)(Bt=>Bt?.user?Bt:null),(0,Qi.R)(d.outsideAngular),(0,ss.Q)(d.insideAngular))}return(0,Hr.pX)(this,tt,l,{spy:{apply:(Ke,qt,Zt)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&Zt.then(jt=>Ae.next(jt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hr.Dh),u.LFG(Hr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Rn.HU),u.LFG(oy,8),u.LFG(Dp,8),u.LFG(Tp,8),u.LFG(Sp,8),u.LFG(Rc,8),u.LFG(eI,8),u.LFG(gh,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VC=(()=>{class n{constructor(){mh.Z.registerVersion("angularfire",Rn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ap]}),n})(),tI=(()=>{class n{constructor(t){this.aAuth=t,this.aAuth.idToken.subscribe(r=>console.log("jwt",r)),this.aAuth.authState.subscribe(r=>console.log("a",r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ap))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eo extends Sr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:xp}=Array,{getPrototypeOf:ay,prototype:El,keys:UC}=Object;function nI(n){if(1===n.length){const e=n[0];if(xp(e))return{args:e,keys:null};if(function ZM(n){return n&&"object"==typeof n&&ay(n)===El}(e)){const t=UC(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:jC}=Array;function ly(n){return(0,tn.U)(e=>function uy(n,e){return jC(e)?n(...e):n(e)}(n,e))}function cy(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Mp=O(9672);function Rp(...n){const e=(0,Do.yG)(n),t=(0,Do.jO)(n),{args:r,keys:i}=nI(n);if(0===r.length)return(0,Ln.D)([],e);const l=new Qn.y(function rI(n,e,t=mu.y){return r=>{dy(e,()=>{const{length:i}=n,l=new Array(i);let d=i,p=i;for(let v=0;v<i;v++)dy(e,()=>{const b=(0,Ln.D)(n[v],e);let S=!1;b.subscribe((0,Or.x)(r,x=>{l[v]=x,S||(S=!0,p--),p||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>cy(i,d):mu.y));return t?l.pipe(ly(t)):l}function dy(n,e,t){n?(0,Mp.f)(t,n,e):e()}var kc=O(8189);function hy(...n){return function iI(){return(0,kc.J)(1)}()((0,Ln.D)(n,(0,Do.yG)(n)))}function oI(n){return new Qn.y(e=>{(0,Xi.Xf)(n()).subscribe(e)})}var HC=O(9635);function yh(n,e){const t=(0,ui.m)(n)?n:()=>n,r=i=>i.error(t());return new Qn.y(e?i=>e.schedule(r,0,i):r)}var sI=O(727);function ta(){return(0,dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Oc extends Qn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new sI.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=sI.w0.EMPTY)}return e}refCount(){return ta()(this)}}function kp(...n){const e=(0,Do.yG)(n);return(0,dr.e)((t,r)=>{(e?hy(n,t,e):hy(n,t)).subscribe(r)})}var to=O(5577);function Pc(n,e){return(0,ui.m)(e)?(0,to.z)(n,e,1):(0,to.z)(n,1)}var ki=O(8505);function Cl(n){return(0,dr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Or.x)(t,void 0,void 0,d=>{l=(0,Xi.Xf)(n(d,Cl(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function KM(n,e,t,r,i){return(l,d)=>{let p=t,v=e,b=0;l.subscribe((0,Or.x)(d,S=>{const x=b++;v=p?n(v,S,x):(p=!0,S),r&&d.next(v)},i&&(()=>{p&&d.next(v),d.complete()})))}}function Nc(n,e){return(0,dr.e)(KM(n,e,arguments.length>=2,!0))}function fy(n){return n<=0?()=>co.E:(0,dr.e)((e,t)=>{let r=[];e.subscribe((0,Or.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function aI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ti((i,l)=>n(i,l,r)):mu.y,fy(1),t?qo(e):gu(()=>new mi))}function vh(n){return(0,dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ln="primary",Fa=Symbol("RouteTitle");class uI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Dl(n){return new uI(n)}function lI(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],p=n[l];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function La(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!qC(n[i],e[i]))return!1;return!0}function qC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Op(n){return Array.prototype.concat.apply([],n)}function Pp(n){return n.length>0?n[n.length-1]:null}function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $a(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):Ot(n)}const YC={exact:function dI(n,e,t){if(!Sl(n.segments,e.segments)||!Fp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!dI(n.children[r],e.children[r],t))return!1;return!0},subset:hI},cI={exact:function Np(n,e){return La(n,e)},subset:function my(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qC(n[t],e[t]))},ignored:()=>!0};function gy(n,e,t){return YC[t.paths](n.root,e.root,t.matrixParams)&&cI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hI(n,e,t){return Gr(n,e,e.segments,t)}function Gr(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Sl(i,t)||e.hasChildren()||!Fp(i,t,r))}if(n.segments.length===t.length){if(!Sl(n.segments,t)||!Fp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!hI(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Sl(n.segments,i)&&Fp(n.segments,i,r)&&n.children[ln])&&Gr(n.children[ln],e,l,r)}}function Fp(n,e,t){return e.every((r,i)=>cI[t](n[i].parameters,r.parameters))}class Tl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dl(this.queryParams)),this._queryParamMap}toString(){return QM.serialize(this)}}class En{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Oi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _y(this)}}class Fc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Dl(this.parameters)),this._parameterMap}toString(){return wy(this)}}function Sl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new vy},providedIn:"root"}),n})();class vy{parse(e){const t=new Ey(e);return new Tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ba(e.root,!0)}`,r=function JM(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_h(t)}=${_h(i)}`).join("&"):`${_h(t)}=${_h(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fI(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QM=new vy;function _y(n){return n.segments.map(e=>wy(e)).join("/")}function Ba(n,e){if(!n.hasChildren())return _y(n);if(e){const t=n.children[ln]?Ba(n.children[ln],!1):"",r=[];return Oi(n.children,(i,l)=>{l!==ln&&r.push(`${l}:${Ba(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function KC(n,e){let t=[];return Oi(n.children,(r,i)=>{i===ln&&(t=t.concat(e(r,i)))}),Oi(n.children,(r,i)=>{i!==ln&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ln?[Ba(n.children[ln],!1)]:[`${i}:${Ba(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${_y(n)}/${t[0]}`:`${_y(n)}/(${t.join("//")})`}}function Lp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _h(n){return Lp(n).replace(/%3B/gi,";")}function $p(n){return Lp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bp(n){return decodeURIComponent(n)}function Iy(n){return Bp(n.replace(/\+/g,"%20"))}function wy(n){return`${$p(n.path)}${function by(n){return Object.keys(n).map(e=>`;${$p(e)}=${$p(n[e])}`).join("")}(n.parameters)}`}const XC=/^[^\/()?;=#]+/;function Lc(n){const e=n.match(XC);return e?e[0]:""}const pI=/^[^=?&#]+/,Al=/^[^&#]+/;class Ey{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ln]=new En(e,t)),r}parseSegment(){const e=Lc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Fc(Bp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Lc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Lc(this.remaining);i&&(r=i,this.capture(r))}e[Bp(t)]=Bp(r)}parseQueryParam(e){const t=function gI(n){const e=n.match(pI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function QC(n){const e=n.match(Al);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Iy(t),l=Iy(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=ln);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[ln]:new En([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function $c(n){return n.segments.length>0?new En([],{[ln]:n}):n}function Vp(n){const e={};for(const r of Object.keys(n.children)){const l=Vp(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Cy(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new En(n.segments.concat(e.segments),e.children)}return n}(new En(n.segments,e))}function na(n){return n instanceof Tl}function tD(n,e,t,r,i){if(0===t.length)return Vc(e.root,e.root,e.root,r,i);const l=function vI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yI(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Oi(l.outlets,(v,b)=>{p[b]="string"==typeof v?v.split("/"):v}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new yI(t,e,r)}(t);return l.toRoot()?Vc(e.root,e.root,new En([],{}),r,i):function d(v){const b=function _I(n,e,t,r){if(n.isAbsolute)return new bu(e.root,!0,0);if(-1===r)return new bu(t,t===e.root,0);return function II(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new bu(r,!1,i-l)}(t,r+(Bc(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,v),S=b.processChildren?Ih(b.segmentGroup,b.index,l.commands):bI(b.segmentGroup,b.index,l.commands);return Vc(e.root,b.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Bc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ra(n){return"object"==typeof n&&null!=n&&n.outlets}function Vc(n,e,t,r,i){let d,l={};r&&Oi(r,(v,b)=>{l[b]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),d=n===e?t:mI(n,e,t);const p=$c(Vp(d));return new Tl(p,l,i)}function mI(n,e,t){const r={};return Oi(n.children,(i,l)=>{r[l]=i===e?t:mI(i,e,t)}),new En(n.segments,r)}class yI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new u.vHH(4003,!1);const i=r.find(ra);if(i&&i!==Pp(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bI(n,e,t){if(n||(n=new En([],{})),0===n.segments.length&&n.hasChildren())return Ih(n,e,t);const r=function wh(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],p=t[r];if(ra(p))break;const v=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&b&&"object"==typeof b&&void 0===b.outlets){if(!EI(v,b,d))return l;r+=2}else{if(!EI(v,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new En(n.segments.slice(0,r.pathIndex),{});return l.children[ln]=new En(n.segments.slice(r.pathIndex),n.children),Ih(l,0,i)}return r.match&&0===i.length?new En(n.segments,{}):r.match&&!n.hasChildren()?Ty(n,e,t):r.match?Ih(n,0,i):Ty(n,e,t)}function Ih(n,e,t){if(0===t.length)return new En(n.segments,{});{const r=function wI(n){return ra(n[0])?n[0].outlets:{[ln]:n}}(t),i={};return Oi(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=bI(n.children[d],e,l))}),Oi(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new En(n.segments,i)}}function Ty(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(ra(l)){const v=Uc(l.outlets);return new En(r,v)}if(0===i&&Bc(t[0])){r.push(new Fc(n.segments[e].path,jc(t[0]))),i++;continue}const d=ra(l)?l.outlets[ln]:`${l}`,p=i<t.length-1?t[i+1]:null;d&&p&&Bc(p)?(r.push(new Fc(d,jc(p))),i+=2):(r.push(new Fc(d,{})),i++)}return new En(r,{})}function Uc(n){const e={};return Oi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ty(new En([],{}),0,t))}),e}function jc(n){const e={};return Oi(n,(t,r)=>e[r]=`${t}`),e}function EI(n,e,t){return n==t.path&&La(e,t.parameters)}class Eu{constructor(e,t){this.id=e,this.url=t}}class bh extends Eu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xl extends Eu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Up extends Eu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class CI extends Eu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DI extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TI extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sy extends Eu{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ay extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rD extends Eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Eh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Cu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Cu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ps(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ps(e,this._root).map(t=>t.value)}}function Cu(n,e){if(n===e.value)return e;for(const t of e.children){const r=Cu(n,t);if(r)return r}return null}function ps(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ps(n,t);if(r.length)return r.unshift(e),r}return[]}class Ua{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class lD extends AI{constructor(e,t){super(e),this.snapshot=t,jp(this,e)}toString(){return this.snapshot.toString()}}function cD(n,e){const t=function xI(n,e){const d=new Ch([],{},{},"",{},ln,e,null,n.root,-1,{});return new MI("",new Ua(d,[]))}(n,e),r=new eo([new Fc("",{})]),i=new eo({}),l=new eo({}),d=new eo({}),p=new eo(""),v=new Yo(r,i,d,p,l,ln,e,t.root);return v.snapshot=t.root,new lD(new Ua(v,[]),t)}class Yo{constructor(e,t,r,i,l,d,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,tn.U)(b=>b[Fa]))??Ot(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tn.U)(e=>Dl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tn.U)(e=>Dl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function My(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function e1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ch{constructor(e,t,r,i,l,d,p,v,b,S,x,Q){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.[Fa],this.routeConfig=v,this._urlSegment=b,this._lastPathIndex=S,this._correctedLastPathIndex=Q??S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MI extends AI{constructor(e,t){super(t),this.url=e,jp(this,t)}toString(){return RI(this._root)}}function jp(n,e){e.value._routerState=n,e.children.forEach(t=>jp(n,t))}function RI(n){const e=n.children.length>0?` { ${n.children.map(RI).join(", ")} } `:"";return`${n.value}${e}`}function Ry(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,La(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),La(e.params,t.params)||n.params.next(t.params),function XM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!La(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),La(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ao(n,e){const t=La(n.params,e.params)&&function ZC(n,e){return Sl(n,e)&&n.every((t,r)=>La(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ao(n.parent,e.parent))}function Gc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function hD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gc(n,r,i);return Gc(n,r)})}(n,e,t);return new Ua(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>Gc(n,p)),d}}const r=function fD(n){return new Yo(new eo(n.url),new eo(n.params),new eo(n.queryParams),new eo(n.fragment),new eo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Gc(n,l));return new Ua(r,i)}}const ky="ngNavigationCancelingError";function kI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Oy(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Oy(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ky]=!0,r.cancellationCode=e,t&&(r.url=t),r}function OI(n){return PI(n)&&na(n.url)}function PI(n){return n&&n[ky]}class pD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new on,this.attachRef=null}}let on=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pD,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dh=!1;let Hp=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||ln,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Dh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Dh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Dh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Dh);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new NI(t,p,i.injector);if(r&&function gD(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(d);this.activated=i.createComponent(b,i.length,v)}else this.activated=i.createComponent(d,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(on),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class NI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yo?this.route:e===on?this.childContexts:this.parent.get(e,t)}}let Py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Hp],encapsulation:2}),n})();function Ny(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fy(n){const e=n.children&&n.children.map(Fy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=Py),t}function fo(n){return n.outlet||ln}function Gp(n,e){const t=n.filter(r=>fo(r)===e);return t.push(...n.filter(r=>fo(r)!==e)),t}function Th(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class o1{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ry(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Hc(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Oi(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Hc(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Hc(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Hc(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new aD(l.value.snapshot))}),e.children.length&&this.forwardEvent(new oD(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(Ry(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Ry(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=Th(i.snapshot),v=p?.get(u._Vd)??null;d.attachRef=null,d.route=i,d.resolver=v,d.injector=p,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class yD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zp{constructor(e,t){this.component=e,this.route=t}}function BI(n,e,t){const r=n._root;return ia(r,e?e._root:null,t,[r.value])}function zc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function ia(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Hc(e);return n.children.forEach(d=>{(function vD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function VI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Sl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sl(n.url,e.url)||!La(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ao(n,e)||!La(n.queryParams,e.queryParams);default:return!Ao(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new yD(r)):(l.data=d.data,l._resolvedData=d._resolvedData),ia(n,e,l.component?p?p.children:null:t,r,i),v&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new zp(p.outlet.component,d))}else d&&Du(e,p,i),i.canActivateChecks.push(new yD(r)),ia(n,null,l.component?p?p.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Oi(l,(d,p)=>Du(d,t.getContext(p),i)),i}function Du(n,e,t){const r=Hc(n),i=n.value;Oi(r,(l,d)=>{Du(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new zp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sh(n){return"function"==typeof n}function qp(n){return n instanceof mi||"EmptyError"===n?.name}const Ah=Symbol("INITIAL_VALUE");function Tu(){return rr(n=>Rp(n.map(e=>e.pipe(as(1),kp(Ah)))).pipe((0,tn.U)(e=>{for(const t of e)if(!0!==t){if(t===Ah)return Ah;if(!1===t||t instanceof Tl)return t}return!0}),ti(e=>e!==Ah),as(1)))}function $y(n){return(0,HC.z)((0,ki.b)(e=>{if(na(e))throw kI(0,e)}),(0,tn.U)(e=>!0===e))}const xh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(n,e,t,r,i){const l=Mh(n,e,t);return l.matched?function SD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ot(i.map(d=>{const p=zc(d,n);return $a(function ED(n){return n&&Sh(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Tu(),$y()):Ot(!0)}(r=Ny(e,r),e,t).pipe((0,tn.U)(d=>!0===d?l:{...xh})):Ot(l)}function Mh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...xh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lI)(t,n,e);if(!i)return{...xh};const l={};Oi(i.posParams,(p,v)=>{l[v]=p.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Rh(n,e,t,r,i="corrected"){if(t.length>0&&function GI(n,e,t){return t.some(r=>Rl(n,e,r)&&fo(r)!==ln)}(n,t,r)){const d=new En(e,function l1(n,e,t,r){const i={};i[ln]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&fo(l)!==ln){const d=new En([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[fo(l)]=d}return i}(n,e,r,new En(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function c1(n,e,t){return t.some(r=>Rl(n,e,r))}(n,t,r)){const d=new En(n.segments,function By(n,e,t,r,i,l){const d={};for(const p of r)if(Rl(n,t,p)&&!i[fo(p)]){const v=new En([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[fo(p)]=v}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new En(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Rl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kh(n,e,t,r){return!!(fo(n)===r||r!==ln&&Rl(e,t,n))&&("**"===n.path||Mh(e,n,t).matched)}function Yp(n,e,t){return 0===e.length&&!n.children[t]}const Wc=!1;class Yc{constructor(e){this.segmentGroup=e||null}}class AD{constructor(e){this.urlTree=e}}function Oh(n){return yh(new Yc(n))}function zI(n){return yh(new AD(n))}class d1{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=Rh(this.urlTree.root,[],[],this.config).segmentGroup,t=new En(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ln).pipe((0,tn.U)(l=>this.createUrlTree(Vp(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cl(l=>{if(l instanceof AD)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Yc?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ln).pipe((0,tn.U)(i=>this.createUrlTree(Vp(i),e.queryParams,e.fragment))).pipe(Cl(i=>{throw i instanceof Yc?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Wc)}createUrlTree(e,t,r){const i=$c(e);return new Tl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,tn.U)(l=>new En([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Ln.D)(i).pipe(Pc(l=>{const d=r.children[l],p=Gp(t,l);return this.expandSegmentGroup(e,p,d,l).pipe((0,tn.U)(v=>({segment:v,outlet:l})))}),Nc((l,d)=>(l[d.outlet]=d.segment,l),{}),aI())}expandSegment(e,t,r,i,l,d){return(0,Ln.D)(r).pipe(Pc(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,d).pipe(Cl(b=>{if(b instanceof Yc)return Ot(null);throw b}))),ho(p=>!!p),Cl((p,v)=>{if(qp(p))return Yp(t,i,l)?Ot(new En([],{})):Oh(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,d,p){return kh(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Oh(t):Oh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zI(l):this.lineralizeSegments(r,l).pipe((0,to.z)(d=>{const p=new En(d,{});return this.expandSegment(e,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:p,consumedSegments:v,remainingSegments:b,positionalParamSegments:S}=Mh(t,i,l);if(!p)return Oh(t);const x=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?zI(x):this.lineralizeSegments(i,x).pipe((0,to.z)(Q=>this.expandSegment(e,t,r,Q.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=Ny(r,e),r.loadChildren?(r._loadedRoutes?Ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,tn.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new En(i,{})))):Ot(new En(i,{}))):oa(t,r,i,e).pipe(rr(({matched:d,consumedSegments:p,remainingSegments:v})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,to.z)(S=>{const x=S.injector??e,Q=S.routes,{segmentGroup:le,slicedSegments:Ae}=Rh(t,p,v,Q),tt=new En(le.segments,le.children);if(0===Ae.length&&tt.hasChildren())return this.expandChildren(x,Q,tt).pipe((0,tn.U)(jt=>new En(p,jt)));if(0===Q.length&&0===Ae.length)return Ot(new En(p,{}));const Ke=fo(r)===l;return this.expandSegment(x,tt,Q,Ae,Ke?ln:l,!0).pipe((0,tn.U)(Zt=>new En(p.concat(Zt.segments),Zt.children)))})):Oh(t)))}getChildConfig(e,t,r){return t.children?Ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function gs(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ot(!0):Ot(i.map(d=>{const p=zc(d,n);return $a(function _D(n){return n&&Sh(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Tu(),$y())}(e,t,r).pipe((0,to.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ki.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function MD(n){return yh(Oy(Wc,3))}())):Ot({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ot(r);if(i.numberOfChildren>1||!i.children[ln])return yh(new u.vHH(4e3,Wc));i=i.children[ln]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Tl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Oi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Oi(t.children,(p,v)=>{d[v]=this.createSegmentGroup(e,p,r,i)}),new En(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Wc);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class WI{}class Uy{constructor(e,t,r,i,l,d,p,v){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=v}recognize(){const e=Rh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ln).pipe((0,tn.U)(t=>{if(null===t)return null;const r=new Ch([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ua(r,t),l=new MI(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=My(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Ln.D)(Object.keys(r.children)).pipe(Pc(i=>{const l=r.children[i],d=Gp(t,i);return this.processSegmentGroup(e,d,l,i)}),Nc((i,l)=>i&&l?(i.push(...l),i):null),function GC(n,e=!1){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,Or.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),qo(null),aI(),(0,tn.U)(i=>{if(null===i)return null;const l=OD(i);return function h1(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Ln.D)(t).pipe(Pc(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),ho(d=>!!d),Cl(d=>{if(qp(d))return Yp(r,i,l)?Ot([]):Ot(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!kh(t,r,i,l))return Ot(null);let d;if("**"===t.path){const p=i.length>0?Pp(i).parameters:{},v=ND(r)+i.length;d=Ot({snapshot:new Ch(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LD(t),fo(t),t.component??t._loadedComponent??null,t,PD(r),v,$D(t),v),consumedSegments:[],remainingSegments:[]})}else d=oa(r,t,i,e).pipe((0,tn.U)(({matched:p,consumedSegments:v,remainingSegments:b,parameters:S})=>{if(!p)return null;const x=ND(r)+v.length;return{snapshot:new Ch(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LD(t),fo(t),t.component??t._loadedComponent??null,t,PD(r),x,$D(t),x),consumedSegments:v,remainingSegments:b}}));return d.pipe(rr(p=>{if(null===p)return Ot(null);const{snapshot:v,consumedSegments:b,remainingSegments:S}=p;e=t._injector??e;const x=t._loadedInjector??e,Q=function f1(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:le,slicedSegments:Ae}=Rh(r,b,S,Q.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);if(0===Ae.length&&le.hasChildren())return this.processChildren(x,Q,le).pipe((0,tn.U)(Ke=>null===Ke?null:[new Ua(v,Ke)]));if(0===Q.length&&0===Ae.length)return Ot([new Ua(v,[])]);const tt=fo(t)===l;return this.processSegment(x,Q,le,Ae,tt?ln:l).pipe((0,tn.U)(Ke=>null===Ke?null:[new Ua(v,Ke)]))}))}}function p1(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OD(n){const e=[],t=new Set;for(const r of n){if(!p1(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OD(r.children);e.push(new Ua(r.value,i))}return e.filter(r=>!t.has(r))}function PD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ND(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function LD(n){return n.data||{}}function $D(n){return n.resolve||{}}function Zp(n){return"string"==typeof n.title||null===n.title}function Gy(n){return rr(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,tn.U)(()=>e)):Ot(e)})}let ja=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===ln);return r}getResolvedTitleForRoute(t){return t.data[Fa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(zy)},providedIn:"root"}),n})(),zy=(()=>{class n extends ja{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VD{}class UD extends class XI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kl=new u.OlP("",{providedIn:"root",factory:()=>({})}),Ph=new u.OlP("ROUTES");let Au=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=$a(t.loadComponent()).pipe((0,ki.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),vh(()=>{this.componentLoaders.delete(t)})),i=new Oc(r,()=>new Sr.x).pipe(ta());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,tn.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,b,S=!1;Array.isArray(p)?b=p:(v=p.create(t).injector,b=Op(v.get(Ph,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(Fy),injector:v}}),vh(()=>{this.childrenLoaders.delete(r)})),d=new Oc(l,()=>new Sr.x).pipe(ta());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return $a(t()).pipe((0,to.z)(r=>r instanceof u.YKP||Array.isArray(r)?Ot(r):(0,Ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qy{}class Kp{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function QI(n){throw n}function Wy(n,e,t){return e.parse("/")}const Yy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ew(){const n=(0,u.f3M)(yy),e=(0,u.f3M)(on),t=(0,u.f3M)(Se),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),l=(0,u.f3M)(Ph,{optional:!0})??[],d=(0,u.f3M)(kl,{optional:!0})??{},p=(0,u.f3M)(zy),v=(0,u.f3M)(ja,{optional:!0}),b=(0,u.f3M)(qy,{optional:!0}),S=(0,u.f3M)(VD,{optional:!0}),x=new Pr(null,n,e,t,r,i,Op(l));return b&&(x.urlHandlingStrategy=b),S&&(x.routeReuseStrategy=S),x.titleStrategy=v??p,function Zy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),x}let Pr=(()=>{class n{constructor(t,r,i,l,d,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sr.x,this.errorHandler=QI,this.malformedUriErrorHandler=Wy,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ot(void 0),this.urlHandlingStrategy=new Kp,this.routeReuseStrategy=new UD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Au),this.configLoader.onLoadEndListener=Q=>this.triggerEvent(new Eh(Q)),this.configLoader.onLoadStartListener=Q=>this.triggerEvent(new xy(Q)),this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const x=d.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function WC(){return new Tl(new En([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cD(this.currentUrlTree,this.rootComponentType),this.transitions=new eo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ti(i=>0!==i.id),(0,tn.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),rr(i=>{let l=!1,d=!1;return Ot(i).pipe((0,ki.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(p=>{const v=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Ky(p.source)&&(this.browserUrlTree=p.extractedUrl),Ot(p).pipe(rr(x=>{const Q=this.transitions.getValue();return r.next(new bh(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),Q!==this.transitions.getValue()?co.E:Promise.resolve(x)}),function RD(n,e,t,r){return rr(i=>function qI(n,e,t,r,i){return new d1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,tn.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ki.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function Su(n,e,t,r,i,l){return(0,to.z)(d=>function kD(n,e,t,r,i,l,d="emptyOnly",p="legacy"){return new Uy(n,e,t,r,i,d,p,l).recognize().pipe(rr(v=>null===v?function YI(n){return new Qn.y(e=>e.error(n))}(new WI):Ot(v)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,tn.U)(p=>({...d,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ki.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const le=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(le,x)}this.browserUrlTree=x.urlAfterRedirects}const Q=new DI(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(Q)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:le,source:Ae,restoredState:tt,extras:Ke}=p,qt=new bh(Q,this.serializeUrl(le),Ae,tt);r.next(qt);const Zt=cD(le,this.rootComponentType).snapshot;return Ot(i={...p,targetSnapshot:Zt,urlAfterRedirects:le,extras:{...Ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),co.E}),(0,ki.b)(p=>{const v=new TI(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,tn.U)(p=>i={...p,guards:BI(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function a1(n,e){return(0,to.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?Ot({...t,guardsResult:!0}):function Ly(n,e,t,r){return(0,Ln.D)(n).pipe((0,to.z)(i=>function Wp(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Ot(l.map(p=>{const v=Th(e)??i,b=zc(p,v);return $a(function bD(n){return n&&Sh(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):v.runInContext(()=>b(n,e,t,r))).pipe(ho())})).pipe(Tu()):Ot(!0)}(i.component,i.route,t,e,r)),ho(i=>!0!==i,!0))}(d,r,i,n).pipe((0,to.z)(p=>p&&function UI(n){return"boolean"==typeof n}(p)?function TD(n,e,t,r){return(0,Ln.D)(e).pipe(Pc(i=>hy(function qc(n,e){return null!==n&&e&&e(new iD(n)),Ot(!0)}(i.route.parent,r),function u1(n,e){return null!==n&&e&&e(new sD(n)),Ot(!0)}(i.route,r),function HI(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function s1(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>oI(()=>Ot(d.guards.map(v=>{const b=Th(d.node)??t,S=zc(v,b);return $a(function wD(n){return n&&Sh(n.canActivateChild)}(S)?S.canActivateChild(r,n):b.runInContext(()=>S(r,n))).pipe(ho())})).pipe(Tu())));return Ot(l).pipe(Tu())}(n,i.path,t),function jI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ot(!0);const i=r.map(l=>oI(()=>{const d=Th(e)??t,p=zc(l,d);return $a(function ID(n){return n&&Sh(n.canActivate)}(p)?p.canActivate(e,n):d.runInContext(()=>p(e,n))).pipe(ho())}));return Ot(i).pipe(Tu())}(n,i.route,t))),ho(i=>!0!==i,!0))}(r,l,n,e):Ot(p)),(0,tn.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ki.b)(p=>{if(i.guardsResult=p.guardsResult,na(p.guardsResult))throw kI(0,p.guardsResult);const v=new Sy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),ti(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),Gy(p=>{if(p.guards.canActivateChecks.length)return Ot(p).pipe((0,ki.b)(v=>{const b=new Ay(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),rr(v=>{let b=!1;return Ot(v).pipe(function jy(n,e){return(0,to.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ot(t);let l=0;return(0,Ln.D)(i).pipe(Pc(d=>function BD(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!Zp(i)&&(l[Fa]=i.title),function ZI(n,e,t,r){const i=function Hy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ot({});const l={};return(0,Ln.D)(i).pipe((0,to.z)(d=>function KI(n,e,t,r){const i=Th(e)??r,l=zc(n,i);return $a(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(ho(),(0,ki.b)(p=>{l[d]=p}))),fy(1),function zC(n){return(0,tn.U)(()=>n)}(l),Cl(d=>qp(d)?co.E:yh(d)))}(l,n,e,r).pipe((0,tn.U)(d=>(n._resolvedData=d,n.data=My(n,t).resolve,i&&Zp(i)&&(n.data[Fa]=i.title),null)))}(d.route,r,n,e)),(0,ki.b)(()=>l++),fy(1),(0,to.z)(d=>l===i.length?Ot(t):co.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ki.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,ki.b)(v=>{const b=new rD(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}))}),Gy(p=>{const v=b=>{const S=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,ki.b)(x=>{b.component=x}),(0,tn.U)(()=>{})));for(const x of b.children)S.push(...v(x));return S};return Rp(v(p.targetSnapshot.root)).pipe(qo(),as(1))}),Gy(()=>this.afterPreactivation()),(0,tn.U)(p=>{const v=function dD(n,e,t){const r=Gc(n,e._root,t?t._root:void 0);return new lD(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:v}}),(0,ki.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,tn.U)(r=>(new o1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ki.b)({next(){l=!0},complete(){l=!0}}),vh(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Cl(p=>{if(d=!0,PI(p)){OI(p)||(this.navigated=!0,this.restoreHistory(i,!0));const v=new Up(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(v),OI(p)){const b=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ky(i.source)};this.scheduleNavigation(b,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new CI(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(v);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return co.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const p={...l};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Fy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:v}=r,b=i||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),tD(b,this.currentUrlTree,t,x,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=na(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Yy}:!1===r?{...JI}:r,na(t))return gy(this.currentUrlTree,t,i);const l=this.parseUrl(t);return gy(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let p,v,b;d?(p=d.resolve,v=d.reject,b=d.promise):b=new Promise((Q,le)=>{p=Q,v=le});const S=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:S,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:p,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(Q=>Promise.reject(Q))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new Up(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return ew()},providedIn:"root"}),n})();function Ky(n){return"imperative"!==n}let Fh=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Sr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pr),u.Y36(Yo),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),Pl=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Sr.x,this.subscription=t.events.subscribe(l=>{l instanceof xl&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pr),u.Y36(Yo),u.Y36(ne))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class po{}let v1=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ti(t=>t instanceof xl),Pc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,p=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,Ln.D)(i).pipe((0,kc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ot(null);const l=i.pipe((0,to.z)(d=>null===d?Ot(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Ln.D)([l,d]).pipe((0,kc.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Pr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(po),u.LFG(Au))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xy=new u.OlP("");let Xp=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof SI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new SI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Zc(n,e){return{\u0275kind:n,\u0275providers:e}}function Qp(n){return[{provide:Ph,multi:!0,useValue:n}]}function Qy(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Pr),i=n.get(rw);1===n.get(Jy)&&r.initialNavigation(),n.get(ms,null,u.XFs.Optional)?.setUpPreloading(),n.get(Xy,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const rw=new u.OlP("",{factory:()=>new Sr.x}),Jy=new u.OlP("",{providedIn:"root",factory:()=>1});const ms=new u.OlP("");function ev(n){return Zc(0,[{provide:ms,useExisting:v1},{provide:po,useExisting:n}])}const tv=new u.OlP("ROUTER_FORROOT_GUARD"),WD=[Se,{provide:yy,useClass:vy},{provide:Pr,useFactory:ew},on,{provide:Yo,useFactory:function nw(n){return n.routerState.root},deps:[Pr]},Au];function YD(){return new u.PXZ("Router",Pr)}let sw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[WD,[],Qp(t),{provide:tv,useFactory:eg,deps:[[Pr,new u.FiY,new u.tp0]]},{provide:kl,useValue:r||{}},r?.useHash?{provide:ne,useClass:Ue}:{provide:ne,useClass:Pe},{provide:Xy,useFactory:()=>{const n=(0,u.f3M)(Pr),e=(0,u.f3M)(ac),t=(0,u.f3M)(kl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Xp(n,e,t)}},r?.preloadingStrategy?ev(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:YD},r?.initialNavigation?rv(r):[],[{provide:$h,useFactory:Qy},{provide:u.tb,multi:!0,useExisting:$h}]]}}static forChild(t){return{ngModule:n,providers:[Qp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tv,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Py]}),n})();function eg(n){return"guarded"}function rv(n){return["disabled"===n.initialNavigation?Zc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Pr);return()=>{e.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zc(2,[{provide:Jy,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(K,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Pr),p=e.get(rw);(function i(l){e.get(Pr).events.pipe(ti(p=>p instanceof xl||p instanceof Up||p instanceof CI),(0,tn.U)(p=>p instanceof xl||p instanceof Up&&(0===p.code||1===p.code)&&null),ti(p=>null!==p),as(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||p.closed?Ot(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const $h=new u.OlP("");let iv=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),xu=(()=>{class n extends iv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Pi=new u.OlP("NgValueAccessor"),Ha={provide:Pi,useExisting:(0,u.Gpc)(()=>Ga),multi:!0},rg=new u.OlP("CompositionEventMode");let Ga=(()=>{class n extends iv{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ng(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(rg,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([Ha]),u.qOj]}),n})();const Ni=new u.OlP("NgValidators"),Mu=new u.OlP("NgAsyncValidators");function JD(n){return function sa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function og(n){return null}function sg(n){return null!=n}function fw(n){return(0,u.QGY)(n)?(0,Ln.D)(n):n}function pw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function gw(n,e){return e.map(t=>t(n))}function mw(n){return n.map(e=>function eT(n){return!n.validate}(e)?e:t=>e.validate(t))}function Kc(n){return null!=n?function yw(n){if(!n)return null;const e=n.filter(sg);return 0==e.length?null:function(t){return pw(gw(t,e))}}(mw(n)):null}function vw(n){return null!=n?function Ru(n){if(!n)return null;const e=n.filter(sg);return 0==e.length?null:function(t){return function E1(...n){const e=(0,Do.jO)(n),{args:t,keys:r}=nI(n),i=new Qn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const p=new Array(d);let v=d,b=d;for(let S=0;S<d;S++){let x=!1;(0,Xi.Xf)(t[S]).subscribe((0,Or.x)(l,Q=>{x||(x=!0,b--),p[S]=Q},()=>v--,void 0,()=>{(!v||!x)&&(b||l.next(r?cy(r,p):p),l.complete())}))}});return e?i.pipe(ly(e)):i}(gw(t,e).map(fw)).pipe((0,tn.U)(pw))}}(mw(n)):null}function Xc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Vh(n){return n?Array.isArray(n)?n:[n]:[]}function ag(n,e){return Array.isArray(n)?n.includes(e):n===e}function ys(n,e){const t=Vh(e);return Vh(n).forEach(i=>{ag(t,i)||t.push(i)}),t}function Qc(n,e){return Vh(e).filter(t=>!ag(n,t))}class _i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zr extends _i{get formDirective(){return null}get path(){return null}}class Zo extends _i{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xo{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let za=(()=>{class n extends xo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zo,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),qa=(()=>{class n extends xo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Hh="VALID",lg="INVALID",Pu="PENDING",Nl="DISABLED";function uv(n){return(dg(n)?n.validators:n)||null}function Gh(n){return Array.isArray(n)?Kc(n):n||null}function td(n,e){return(dg(e)?e.asyncValidators:n)||null}function cg(n){return Array.isArray(n)?vw(n):n||null}function dg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zh(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function qh(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class nd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Gh(this._rawValidators),this._composedAsyncValidatorFn=cg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hh}get invalid(){return this.status===lg}get pending(){return this.status==Pu}get disabled(){return this.status===Nl}get enabled(){return this.status!==Nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Gh(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=cg(e)}addValidators(e){this.setValidators(ys(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ys(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qc(e,this._rawAsyncValidators))}hasValidator(e){return ag(this._rawValidators,e)}hasAsyncValidator(e){return ag(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hh||this.status===Pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nl:Hh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const t=fw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Nl:this.errors?lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(lg)?lg:Hh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class rd extends nd{constructor(e,t,r){super(uv(t),td(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){qh(this,0,e),Object.keys(e).forEach(r=>{zh(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class lv extends rd{}function Yh(n,e){hg(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Sw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pg(n,e)})}(n,e),function cv(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Aw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Tw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hg(n,e){const t=function _w(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Xc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Iw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Xc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kh(e._rawValidators,i),Kh(e._rawAsyncValidators,i)}function pg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const gT={provide:zr,useExisting:(0,u.Gpc)(()=>Fl)},xr=(()=>Promise.resolve())();let Fl=(()=>{class n extends zr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new rd({},Kc(t),vw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xr.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xr.then(()=>{const r=this._findContainer(t.path),i=new rd({});(function dv(n,e){hg(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xr.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function hT(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ni,10),u.Y36(Mu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([gT]),u.qOj]}),n})();function kw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ow(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const id=class extends nd{constructor(e=null,t,r){super(uv(t),td(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ow(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ow(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},A1={provide:Zo,useExisting:(0,u.Gpc)(()=>Ll)},mv=(()=>Promise.resolve())();let Ll=(()=>{class n extends Zo{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new id,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ga?t=l:function Rw(n){return Object.getPrototypeOf(n.constructor)===xu}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function gg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);mv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Wh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zr,9),u.Y36(Ni,10),u.Y36(Mu,10),u.Y36(Pi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([A1]),u.qOj,u.TTD]}),n})(),Mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const vv=new u.OlP("NgModelWithFormControlWarning");let $l=(()=>{class n{constructor(){this._validator=og}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):og,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const DT={provide:Ni,useExisting:(0,u.Gpc)(()=>ef),multi:!0};let ef=(()=>{class n extends $l{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>JD}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([DT]),u.qOj]}),n})(),Cv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ko]}),n})(),Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Cv]}),n})(),Dv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Cv]}),n})();class Tv extends nd{constructor(e,t,r){super(uv(t),td(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){qh(this,0,e),e.forEach((r,i)=>{zh(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Sv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Bl=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return Sv(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new rd(i,l)}record(t,r=null){const i=this._reduceControls(t);return new lv(i,r)}control(t,r,i){let l={};return this.useNonNullable?(Sv(r)?l=r:(l.validators=r,l.asyncValidators=i),new id(t,{...l,nonNullable:!0})):new id(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new Tv(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof id||t instanceof nd?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Dv}),n})();var vt=O(655),Av=O(1144);const R1=["addListener","removeListener"],eb=["addEventListener","removeEventListener"],tb=["on","off"];function nb(n,e,t,r){if((0,ui.m)(t)&&(r=t,t=void 0),r)return nb(n,e,t).pipe(ly(r));const[i,l]=function $T(n){return(0,ui.m)(n.addEventListener)&&(0,ui.m)(n.removeEventListener)}(n)?eb.map(d=>p=>n[d](e,p,t)):function FT(n){return(0,ui.m)(n.addListener)&&(0,ui.m)(n.removeListener)}(n)?R1.map(Kt(n,e)):function LT(n){return(0,ui.m)(n.on)&&(0,ui.m)(n.off)}(n)?tb.map(Kt(n,e)):[];if(!i&&(0,Av.z)(n))return(0,to.z)(d=>nb(d,e,t))((0,Xi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Qn.y(d=>{const p=(...v)=>d.next(1<v.length?v:v[0]);return i(p),()=>l(p)})}function Kt(n,e){return t=>r=>n[t](e,r)}O(8834),O(3953),O(3880),O(1911);var wr=O(9658),od=(O(5730),O(697)),Rv=(O(4292),O(4414)),kv=(O(3457),O(4349),O(1308));function jT(n,e){return n===e}const Eg=wr.i,Et=["*"],ub=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);let sd=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Vl(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Vl(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Vl(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Zo)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Vl(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(l=>{if(typeof r[l]<"u"){const d=r[l].bind(r);r[l]=(...p)=>{d(...p),Vl(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,hostBindings:function(t,r){1&t&&u.NdJ("ionBlur",function(l){return r._handleBlurEvent(l.target)})}}),n})();const Vl=n=>{ub(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=WT(e);Cg(e,r);const i=e.closest("ion-item");i&&Cg(i,t?[...r,"item-has-value"]:r)})},WT=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&YT(i,"ng-")&&t.push(`ion-${i.substring(3)}`)}return t},Cg=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},YT=(n,e)=>n.substring(0,e.length)===e;let KT=(()=>{class n extends sd{constructor(t,r){super(t,r)}_handleIonChange(t){this.handleChangeEvent(t,t.value)}registerOnChange(t){super.registerOnChange(r=>{t(""===r?null:parseFloat(r))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["ion-input","type","number"]],hostBindings:function(t,r){1&t&&u.NdJ("ionChange",function(l){return r._handleIonChange(l.target)})},features:[u._Bn([{provide:Pi,useExisting:n,multi:!0}]),u.qOj]}),n})(),lb=(()=>{class n extends sd{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&u.NdJ("ionChange",function(l){return r._handleChangeEvent(l.target)})},features:[u._Bn([{provide:Pi,useExisting:n,multi:!0}]),u.qOj]}),n})(),XT=(()=>{class n extends sd{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&u.NdJ("ionChange",function(l){return r._handleInputEvent(l.target)})},features:[u._Bn([{provide:Pi,useExisting:n,multi:!0}]),u.qOj]}),n})();const cb=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},Dg=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Wn=(n,e,t)=>{t.forEach(r=>n[r]=nb(e,r))};function _t(n){return function(t){const{defineCustomElementFn:r,inputs:i,methods:l}=n;return void 0!==r&&r(),i&&cb(t,i),l&&Dg(t,l),t}}let db=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-app"]],ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0})],n),n})(),Ya=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),fb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),ad=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})(),lf=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["mode"]})],n),n})(),cf=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],n),n})(),Pv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})(),df=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],n),n})(),Fv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),ud=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["fixed"]})],n),n})(),gb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),mb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),yb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["alt","src"]})],n),n})(),vb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Tg=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),$v=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Bv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),wb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],n),n})(),Sg=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],n),n})(),jv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],n),n})(),Gv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-ripple-effect"]],inputs:{type:"type"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["type"],methods:["addRipple"]})],n),n})(),Ul=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-row"]],ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0})],n),n})(),Ag=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Wn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),hf=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),qv=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Rb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Et,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,vt.gn)([_t({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class DS{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Wv=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,i){return new TS(t,r,i,this.appRef,this.zone)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class TS{constructor(e,t,r,i,l){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=i,this.zone=l,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,i){return this.zone.run(()=>new Promise(l=>{l(SS(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,r,i))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(t);if(i){i.destroy(),this.elRefMap.delete(t);const l=this.elEventsMap.get(t);l&&(l(),this.elEventsMap.delete(t))}r()}))}}const SS=(n,e,t,r,i,l,d,p,v,b,S)=>{let x;const Q=u.zs3.create({providers:xS(b),parent:t});if(e&&(n=>!!n.resolveComponentFactory)(e)){const Ke=e.resolveComponentFactory(v);x=r?r.createComponent(Ke,r.length,Q):Ke.create(Q)}else{if(!r)return null;x=r.createComponent(v,{index:r.indexOf,injector:Q,environmentInjector:e})}const le=x.instance,Ae=x.location.nativeElement;if(b&&Object.assign(le,b),S)for(const Ke of S)Ae.classList.add(Ke);const tt=Yv(n,le,Ae);return p.appendChild(Ae),r||i.attachView(x.hostView),x.changeDetectorRef.reattach(),l.set(Ae,x),d.set(Ae,tt),Ae},AS=[od.L,od.a,od.b,od.c,od.d],Yv=(n,e,t)=>n.run(()=>{const r=AS.filter(i=>"function"==typeof e[i]).map(i=>{const l=d=>e[i](d.detail);return t.addEventListener(i,l),()=>t.removeEventListener(i,l)});return()=>r.forEach(i=>i())}),kb=new u.OlP("NavParamsToken"),xS=n=>[{provide:kb,useValue:n},{provide:DS,useFactory:MS,deps:[kb]}],MS=n=>new DS(n),PS=new u.OlP("USERCONFIG");let NS=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new Sr.x,this.keyboardDidShow=new Sr.x,this.keyboardDidHide=new Sr.x,this.pause=new Sr.x,this.resume=new Sr.x,this.resize=new Sr.x,r.run(()=>{var i;let l;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(d,p){return this.subscribe(v=>v.register(d,b=>r.run(()=>p(b))))},cd(this.pause,t,"pause"),cd(this.resume,t,"resume"),cd(this.backButton,t,"ionBackButton"),cd(this.resize,this.win,"resize"),cd(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),cd(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(d=>{l=d}),null!==(i=this.win)&&void 0!==i&&i.cordova?t.addEventListener("deviceready",()=>{l("cordova")},{once:!0}):l("dom")})}is(t){return(0,wr.a)(this.win,t)}platforms(){return(0,wr.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return FS(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(te),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FS=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},cd=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let pf=(()=>{class n{constructor(t,r,i,l){this.location=r,this.serializer=i,this.router=l,this.direction=$b,this.animated=Mg,this.guessDirection="forward",this.lastNavId=-1,l&&l.events.subscribe(d=>{if(d instanceof bh){const p=d.restoredState?d.restoredState.navigationId:d.id;this.guessDirection=p<this.lastNavId?"back":"forward",this.guessAnimation=d.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?d.id:p}}),t.backButton.subscribeWithPriority(0,d=>{this.pop(),d()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return(0,vt.mG)(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,i,l){this.direction=t,this.animated=gf(t,r,i),this.animationBuilder=l}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const i=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=$b,this.animated=Mg,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:i}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const i=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(i.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NS),u.LFG(Se),u.LFG(yy),u.LFG(Pr,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gf=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},$b="auto",Mg=void 0;let Rg=(()=>{class n{constructor(t,r,i,l,d){this.locationStrategy=t,this.navCtrl=r,this.elementRef=i,this.router=l,this.routerLink=d,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var t;if(null!==(t=this.routerLink)&&void 0!==t&&t.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ne),u.Y36(pf),u.Y36(u.SBq),u.Y36(Pr),u.Y36(Fh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),n})();class kg{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let US=(()=>{class n extends kg{constructor(){super(Rv.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t_{}let n_=(()=>{class n extends kg{constructor(t,r,i,l){super(Rv.m),this.angularDelegate=t,this.resolver=r,this.injector=i,this.environmentInjector=l}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wv),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(t_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),r_=(()=>{class n extends kg{constructor(t,r,i,l){super(Rv.c),this.angularDelegate=t,this.resolver=r,this.injector=i,this.environmentInjector=l}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wv),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(t_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zb=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:l=>t.run(l)}));const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function HT(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(O.e(6748).then(O.t.bind(O,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(O.e(2214).then(O.t.bind(O,4144,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,kv.p)().then(()=>(Eg(),(0,kv.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ub,jmp:l=>t.runOutsideAngular(l),ael(l,d,p,v){l[i](d,p,v)},rel(l,d,p,v){l.removeEventListener(d,p,v)}}))}};let qb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:PS,useValue:t},{provide:u.ip1,useFactory:zb,multi:!0,deps:[PS,te,u.R0b]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Wv,n_,r_],imports:[[Bd]]}),n})(),zS=(()=>{class n{constructor(t){this.s=t,this.title="1919142-ionic-angular"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:42,vars:0,consts:[["mode","ios"],["contentId","main-content","type","reveal"],[1,"ion-padding"],["routerLink","/articulos"],["href","categoria/celulares"],["href","categoria/laptop"],["href","categoria/pc"],["href","categoria/tablet"],["href","categoria/consola"],["href","register"],["href","login"],["id","main-content",1,"ion-page"],["slot","start"],["id","carrito",1,"derecha"]],template:function(t,r){1&t&&(u.TgZ(0,"ion-app",0)(1,"ion-menu",1)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),u._uU(5," Menu "),u.qZA()()(),u.TgZ(6,"ion-content",2)(7,"ion-list")(8,"ion-item")(9,"a",3),u._uU(10,"Articulos"),u.qZA()(),u.TgZ(11,"ion-item")(12,"a",4),u._uU(13,"Celulares"),u.qZA()(),u.TgZ(14,"ion-item")(15,"a",5),u._uU(16,"Laptops"),u.qZA()(),u.TgZ(17,"ion-item")(18,"a",6),u._uU(19,"Computadoras"),u.qZA()(),u.TgZ(20,"ion-item")(21,"a",7),u._uU(22,"Tabletas"),u.qZA()(),u.TgZ(23,"ion-item")(24,"a",8),u._uU(25,"Consolas videojuegos"),u.qZA()(),u.TgZ(26,"ion-item")(27,"a",9),u._uU(28,"Registrar nueva cuenta"),u.qZA()(),u.TgZ(29,"ion-item")(30,"a",10),u._uU(31,"Mi Cuenta"),u.qZA()()()()(),u.TgZ(32,"div",11)(33,"ion-header")(34,"ion-toolbar")(35,"ion-buttons",12),u._UZ(36,"ion-menu-button"),u.qZA(),u.TgZ(37,"ion-title"),u._uU(38," Mi primera tienda en linea "),u.qZA(),u._UZ(39,"div",13),u.qZA()(),u.TgZ(40,"ion-content",2),u._UZ(41,"router-outlet"),u.qZA()()())},dependencies:[Hp,Pl,db,fb,Fv,gb,Tg,Bv,wb,Sg,qv,Rb,Rg],styles:[".derecha[_ngcontent-%COMP%]{float:right;padding-right:20px;color:#fff;font-size:25px}ion-toolbar[_ngcontent-%COMP%]{--background: #064aa3b6;--color: white}a[_ngcontent-%COMP%]{color:#094a80}p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#fff}ion-menu-button[_ngcontent-%COMP%]{--color: white}*[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}"]}),n})(),i_=(()=>{class n{constructor(){}testService(){console.log("Service used!")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var o_=O(4986);function s_(){return(0,dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Or.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}O(5881);var Ut,Wb=O(3942),no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},go={},a_=a_||{},yn=no||self;function u_(){}function _f(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var l_="closure_uid_"+(1e9*Math.random()>>>0),c_=0;function WS(n,e,t){return n.call.apply(n.bind,arguments)}function Yb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fi(n,e,t){return(Fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WS:Yb).apply(null,arguments)}function Og(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[i].apply(r,d)}}function la(){this.s=this.s,this.o=this.o}la.prototype.s=!1,la.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function If(n){Object.prototype.hasOwnProperty.call(n,l_)&&n[l_]||(n[l_]=++c_)}(this)},la.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Pg(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(_f(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function ro(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ro.prototype.h=function(){this.defaultPrevented=!0};var Kb=function(){if(!yn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yn.addEventListener("test",u_,e),yn.removeEventListener("test",u_,e)}catch{}return n}();function Ng(n){return/^[\s\xa0]*$/.test(n)}var h_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Nu(n,e){return n<e?-1:n>e?1:0}function Fg(){var n=yn.navigator;return n&&(n=n.userAgent)?n:""}function vs(n){return-1!=Fg().indexOf(n)}function wf(n){return wf[" "](n),n}wf[" "]=u_;var Lg,n,YS=vs("Opera"),bf=vs("Trident")||vs("MSIE"),Xb=vs("Edge"),f_=Xb||bf,Qb=vs("Gecko")&&!(-1!=Fg().toLowerCase().indexOf("webkit")&&!vs("Edge"))&&!(vs("Trident")||vs("MSIE"))&&!vs("Edge"),Jb=-1!=Fg().toLowerCase().indexOf("webkit")&&!vs("Edge");function p_(){var n=yn.document;return n?n.documentMode:void 0}e:{var $g="",Bg=(n=Fg(),Qb?/rv:([^\);]+)(\)|;)/.exec(n):Xb?/Edge\/([\d\.]+)/.exec(n):bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jb?/WebKit\/(\S+)/.exec(n):YS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bg&&($g=Bg?Bg[1]:""),bf){var g_=p_();if(null!=g_&&g_>parseFloat($g)){Lg=String(g_);break e}}Lg=$g}var ZS={};var tE=yn.document&&bf&&(p_()||parseInt(Lg,10))||void 0;function fd(n,e){if(ro.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qb){e:{try{wf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fd.X.h.call(this)}}Ii(fd,ro);var nE={2:"touch",3:"pen",4:"mouse"};fd.prototype.h=function(){fd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ef="closure_listenable_"+(1e6*Math.random()|0),KS=0;function z1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++KS,this.ba=this.ea=!1}function Cf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function rE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XS(n){const e={};for(const t in n)e[t]=n[t];return e}const QS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JS(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<QS.length;l++)t=QS[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function v_(n){this.src=n,this.g={},this.h=0}function iE(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=d_(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Cf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function oE(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}v_.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=oE(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new z1(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var sE="closure_lm_"+(1e6*Math.random()|0),pd={};function eA(n,e,t,r,i){if(r&&r.once)return I_(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)eA(n,e[l],t,r,i);return null}return t=lE(t),n&&n[Ef]?n.N(e,t,dd(r)?!!r.capture:!!r,i):__(n,e,t,!1,r,i)}function __(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=dd(i)?!!i.capture:!!i,p=b_(n);if(p||(n[sE]=p=new v_(n)),(t=p.add(e,t,r,d,l)).proxy)return t;if(r=function Vg(){const e=uE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Kb||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ug(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function I_(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)I_(n,e[l],t,r,i);return null}return t=lE(t),n&&n[Ef]?n.O(e,t,dd(r)?!!r.capture:!!r,i):__(n,e,t,!0,r,i)}function w_(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)w_(n,e[l],t,r,i);else r=dd(r)?!!r.capture:!!r,t=lE(t),n&&n[Ef]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=oE(l=n.g[e],t,r,i))&&(Cf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=b_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=oE(e,t,r,i)),(t=-1<n?e[n]:null)&&aE(t))}function aE(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ef])iE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ug(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=b_(e))?(iE(t,n),0==t.h&&(t.src=null,e[sE]=null)):Cf(n)}}}function Ug(n){return n in pd?pd[n]:pd[n]="on"+n}function uE(n,e){if(n.ba)n=!0;else{e=new fd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&aE(n),n=t.call(r,e)}return n}function b_(n){return(n=n[sE])instanceof v_?n:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function lE(n){return"function"==typeof n?n:(n[jg]||(n[jg]=function(e){return n.handleEvent(e)}),n[jg])}function wi(){la.call(this),this.i=new v_(this),this.P=this,this.I=null}function bi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ro(e,n);else if(e instanceof ro)e.target=e.target||n;else{var i=e;JS(e=new ro(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Hg(d,r,!0,e)&&i}if(i=Hg(d=e.g=n,r,!0,e)&&i,i=Hg(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Hg(d=e.g=t[l],r,!1,e)&&i}function Hg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var p=d.listener,v=d.ha||d.src;d.ea&&iE(n.i,d),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}Ii(wi,la),wi.prototype[Ef]=!0,wi.prototype.removeEventListener=function(n,e,t,r){w_(this,n,e,t,r)},wi.prototype.M=function(){if(wi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cf(t[r]);delete n.g[e],n.h--}}this.I=null},wi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var gd=yn.JSON.stringify;function tA(){var n=D_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var E_,nA=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new W1,n=>n.reset());class W1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rA(n){yn.setTimeout(()=>{throw n},0)}function cE(n,e){E_||function Y1(){var n=yn.Promise.resolve(void 0);E_=function(){n.then(dE)}}(),C_||(E_(),C_=!0),D_.add(n,e)}var C_=!1,D_=new class q1{constructor(){this.h=this.g=null}add(e,t){const r=nA.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function dE(){for(var n;n=tA();){try{n.h.call(n.g)}catch(t){rA(t)}var e=nA;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}C_=!1}function T_(n,e){wi.call(this),this.h=n||1,this.g=e||yn,this.j=Fi(this.lb,this),this.l=Date.now()}function ko(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function S_(n,e,t){if("function"==typeof n)t&&(n=Fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:yn.setTimeout(n,e||0)}function Gg(n){n.g=S_(()=>{n.g=null,n.i&&(n.i=!1,Gg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(T_,wi),(Ut=T_.prototype).ca=!1,Ut.R=null,Ut.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),bi(this,"tick"),this.ca&&(ko(this),this.start()))}},Ut.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ut.M=function(){T_.X.M.call(this),ko(this),delete this.g};class iA extends la{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gg(this)}M(){super.M(),this.g&&(yn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(n){la.call(this),this.h=n,this.g={}}Ii(Li,la);var hE=[];function zg(n,e,t,r){Array.isArray(t)||(t&&(hE[0]=t.toString()),t=hE);for(var i=0;i<t.length;i++){var l=eA(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function fE(n){rE(n.g,function(e,t){this.g.hasOwnProperty(t)&&aE(e)},n),n.g={}}function qg(){this.g=!0}function jl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return gd(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Li.prototype.M=function(){Li.X.M.call(this),fE(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qg.prototype.Aa=function(){this.g=!1},qg.prototype.info=function(){};var Fu={},mE=null;function Df(){return mE=mE||new wi}function yE(n){ro.call(this,Fu.Pa,n)}function Hl(n){const e=Df();bi(e,new yE(e))}function Za(n,e){ro.call(this,Fu.STAT_EVENT,n),this.stat=e}function $i(n){const e=Df();bi(e,new Za(e,n))}function Wg(n,e){ro.call(this,Fu.Qa,n),this.size=e}function Oo(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yn.setTimeout(function(){n()},e)}Fu.Pa="serverreachability",Ii(yE,ro),Fu.STAT_EVENT="statevent",Ii(Za,ro),Fu.Qa="timingevent",Ii(Wg,ro);var Yg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function x_(){}function _E(){}x_.prototype.h=null;var Kg,Tf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zg(){ro.call(this,"d")}function IE(){ro.call(this,"c")}function Xg(){}function md(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Li(this),this.O=M_,this.T=new T_(n=f_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new aA}function aA(){this.i=null,this.g="",this.h=!1}Ii(Zg,ro),Ii(IE,ro),Ii(Xg,x_),Xg.prototype.g=function(){return new XMLHttpRequest},Xg.prototype.i=function(){return{}},Kg=new Xg;var M_=45e3,Qg={},Sf={};function Jg(n,e,t){n.K=1,n.v=tm(Lu(e)),n.s=t,n.P=!0,R_(n,null)}function R_(n,e){n.F=Date.now(),yd(n),n.A=Lu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),dA(t.i,"t",r),n.C=0,t=n.l.H,n.h=new aA,n.g=nn(n.l,t?e:null,!n.s),0<n.N&&(n.L=new iA(Fi(n.La,n,n.g),n.N)),zg(n.S,n.g,"readystatechange",n.ib),e=n.H?XS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Hl(),function A_(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),v=0;v<p.length;v++){var b=p[v].split("=");if(1<b.length){var S=b[0];b=b[1];var x=S.split("_");d=2<=x.length&&"type"==x[1]?d+(S+"=")+b+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function k_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Af(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=em(n,t),i==Sf){4==e&&(n.o=4,$i(14),r=!1),jl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Qg){n.o=4,$i(15),jl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jl(n.j,n.m,i,null),O_(n,i)}k_(n)&&i!=Sf&&i!=Qg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ue(e),e.K=!0,$i(11))):(jl(n.j,n.m,t,"[Invalid Chunked Response]"),Gl(n),vd(n))}function em(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sf:(t=Number(e.substring(t,r)),isNaN(t)?Qg:(r+=1)+t>e.length?Sf:(e=e.substr(r,t),n.C=r+t,e))}function yd(n){n.V=Date.now()+n.O,wE(n,n.O)}function wE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Oo(Fi(n.gb,n),e)}function xf(n){n.B&&(yn.clearTimeout(n.B),n.B=null)}function vd(n){0==n.l.G||n.I||pt(n.l,n)}function Gl(n){xf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ko(n.T),fE(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function O_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||U_(t.h,n)))if(!n.J&&U_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ze(t),c(t)}j(t),$i(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Oo(Fi(t.cb,t),6e3));if(1>=DE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Rt(t,11)}else if((n.J||t.g==n)&&Ze(t),!Ng(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const S=b[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const x=b[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const Q=b[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.J=r=1.5*Q,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const le=n.g;if(le){const Ae=le.g?le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ae){var l=r.h;l.g||-1==Ae.indexOf("spdy")&&-1==Ae.indexOf("quic")&&-1==Ae.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(rm(l,l.h),l.h=null))}if(r.D){const tt=le.g?le.g.getResponseHeader("X-HTTP-Session-Id"):null;tt&&(r.za=tt,Mr(r.F,r.D,tt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=ot(r,r.H?r.ka:null,r.V),d.J){j_(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(xf(p),yd(p)),r.g=d}else N(r);0<t.i.length&&f(t)}else"stop"!=b[0]&&"close"!=b[0]||Rt(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Rt(t,7):a(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}Hl()}catch{}}function P_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_f(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function K1(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(_f(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Z1(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(_f(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(Ut=md.prototype).setTimeout=function(n){this.O=n},Ut.ib=function(n){n=n.target;const e=this.L;e&&3==Bu(n)?e.l():this.La(n)},Ut.La=function(n){try{if(n==this.g)e:{const S=Bu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||f_||this.g&&(this.h.h||this.g.fa()||vA(this.g)))){this.I||4!=S||7==e||Hl(),xf(this);var t=this.g.aa();this.Y=t;t:if(k_(this)){var r=vA(this.g);n="";var i=r.length,l=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gl(this),vd(this);var d="";break t}this.h.i=new yn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function pE(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ng(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,$i(12),Gl(this),vd(this);break e}jl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,O_(this,t)}this.P?(Af(this,S,d),f_&&this.i&&3==S&&(zg(this.S,this.T,"tick",this.hb),this.T.start())):(jl(this.j,this.m,d,null),O_(this,d)),4==S&&Gl(this),this.i&&!this.I&&(4==S?pt(this.l,this):(this.i=!1,yd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),Gl(this),vd(this)}}}catch{}},Ut.hb=function(){if(this.g){var n=Bu(this.g),e=this.g.fa();this.C<e.length&&(xf(this),Af(this,n,e),this.i&&4!=n&&yd(this))}},Ut.cancel=function(){this.I=!0,Gl(this)},Ut.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function oA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hl(),$i(17)),Gl(this),this.o=2,vd(this)):wE(this,this.V-n)};var bE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zl){this.h=void 0!==e?e:n.h,N_(this,n.j),this.s=n.s,this.g=n.g,F_(this,n.m),this.l=n.l,e=n.i;var t=new Rf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lA(this,t),this.o=n.o}else n&&(t=String(n).match(bE))?(this.h=!!e,N_(this,t[1]||"",!0),this.s=$u(t[2]||""),this.g=$u(t[3]||"",!0),F_(this,t[4]),this.l=$u(t[5]||"",!0),lA(this,t[6]||"",!0),this.o=$u(t[7]||"")):(this.h=!!e,this.i=new Rf(null,this.h))}function Lu(n){return new zl(n)}function N_(n,e,t){n.j=t?$u(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function F_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lA(n,e,t){e instanceof Rf?(n.i=e,function X1(n,e){e&&!n.j&&(ca(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nm(this,r),dA(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Mf(e,$_)),n.i=new Rf(e,n.h))}function Mr(n,e,t){n.i.set(e,t)}function tm(n){return Mr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $u(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Mf(e,L_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Mf(e,L_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Mf(t,"/"==t.charAt(0)?EE:ql,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Mf(t,B_)),n.join("")};var L_=/[#\/\?@]/g,ql=/[#\?:]/g,EE=/[#\?]/g,$_=/[#\?@]/g,B_=/#/g;function Rf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ca(n){n.g||(n.g=new Map,n.h=0,n.i&&function uA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nm(n,e){ca(n),e=Of(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kf(n,e){return ca(n),e=Of(n,e),n.g.has(e)}function dA(n,e,t){nm(n,e),0<t.length&&(n.i=null,n.g.set(Of(n,e),hd(t)),n.h+=t.length)}function Of(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function V_(n){this.l=n||hA,n=yn.PerformanceNavigationTiming?0<(n=yn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yn.g&&yn.g.Ga&&yn.g.Ga()&&yn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ut=Rf.prototype).add=function(n,e){ca(this),this.i=null,n=Of(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ut.forEach=function(n,e){ca(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ut.oa=function(){ca(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},Ut.W=function(n){ca(this);let e=[];if("string"==typeof n)kf(this,n)&&(e=e.concat(this.g.get(Of(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ut.set=function(n,e){return ca(this),this.i=null,kf(this,n=Of(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ut.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var hA=10;function CE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DE(n){return n.h?1:n.g?n.g.size:0}function U_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rm(n,e){n.g?n.g.add(e):n.h=e}function j_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function H_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return hd(n.i)}function G_(){}function fA(){this.g=new G_}function TE(n,e,t){const r=t||"";try{P_(n,function(i,l){let d=i;dd(i)&&(d=gd(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function q_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _d(n){this.l=n.ac||null,this.j=n.jb||!1}function Id(n,e){wi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=W_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V_.prototype.cancel=function(){if(this.i=H_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},G_.prototype.stringify=function(n){return yn.JSON.stringify(n,void 0)},G_.prototype.parse=function(n){return yn.JSON.parse(n,void 0)},Ii(_d,x_),_d.prototype.g=function(){return new Id(this.l,this.j)},_d.prototype.i=function(n){return function(){return n}}({}),Ii(Id,wi);var W_=0;function SE(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function im(n){n.readyState=4,n.l=null,n.j=null,n.A=null,om(n)}function om(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ut=Id.prototype).open=function(n,e){if(this.readyState!=W_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,om(this)},Ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,im(this)),this.readyState=W_},Ut.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,om(this)),this.g&&(this.readyState=3,om(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof yn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SE(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ut.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?im(this):om(this),3==this.readyState&&SE(this)}},Ut.Va=function(n){this.g&&(this.response=this.responseText=n,im(this))},Ut.Ua=function(n){this.g&&(this.response=n,im(this))},Ut.ga=function(){this.g&&im(this)},Ut.setRequestHeader=function(n,e){this.v.append(n,e)},Ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Id.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pA=yn.JSON.parse;function Nr(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=AE,this.K=this.L=!1}Ii(Nr,wi);var AE="",J1=/^https?$/i,eR=["POST","PUT"];function gA(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mA(n),Y_(n)}function mA(n){n.D||(n.D=!0,bi(n,"complete"),bi(n,"error"))}function xE(n){if(n.h&&typeof a_<"u"&&(!n.C[1]||4!=Bu(n)||2!=n.aa()))if(n.v&&4==Bu(n))S_(n.Ha,0,n);else if(bi(n,"readystatechange"),4==Bu(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(bE)[1]||null;if(!i&&yn.self&&yn.self.location){var l=yn.self.location.protocol;i=l.substr(0,l.length-1)}r=!J1.test(i?i.toLowerCase():"")}t=r}if(t)bi(n,"complete"),bi(n,"success");else{n.m=6;try{var d=2<Bu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",mA(n)}}finally{Y_(n)}}}function Y_(n,e){if(n.g){yA(n);const t=n.g,r=n.C[0]?u_:null;n.g=null,n.C=null,e||bi(n,"ready");try{t.onreadystatechange=r}catch{}}}function yA(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yn.clearTimeout(n.A),n.A=null)}function Bu(n){return n.g?n.g.readyState:0}function vA(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case AE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _A(n){let e="";return rE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ME(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_A(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mr(n,e,t))}function o(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function s(n){this.Ca=0,this.i=[],this.j=new qg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=o("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=o("baseRetryDelayMs",5e3,n),this.bb=o("retryDelaySeedMs",1e4,n),this.$a=o("forwardChannelMaxRetries",2,n),this.ta=o("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new V_(n&&n.concurrentRequestLimit),this.Fa=new fA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function a(n){if(h(n),3==n.G){var e=n.U++,t=Lu(n.F);Mr(t,"SID",n.I),Mr(t,"RID",e),Mr(t,"TYPE","terminate"),E(n,t),(e=new md(n,n.j,e,void 0)).K=2,e.v=tm(Lu(t)),t=!1,yn.navigator&&yn.navigator.sendBeacon&&(t=yn.navigator.sendBeacon(e.v.toString(),"")),!t&&yn.Image&&((new Image).src=e.v,t=!0),t||(e.g=nn(e.l,null),e.g.da(e.v)),e.F=Date.now(),yd(e)}Wt(n)}function c(n){n.g&&(ue(n),n.g.cancel(),n.g=null)}function h(n){c(n),n.u&&(yn.clearTimeout(n.u),n.u=null),Ze(n),n.h.cancel(),n.m&&("number"==typeof n.m&&yn.clearTimeout(n.m),n.m=null)}function f(n){CE(n.h)||n.m||(n.m=!0,cE(n.Ja,n),n.C=0)}function I(n,e){var t;t=e?e.m:n.U++;const r=Lu(n.F);Mr(r,"SID",n.I),Mr(r,"RID",t),Mr(r,"AID",n.T),E(n,r),n.o&&n.s&&ME(r,n.o,n.s),t=new md(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=T(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),rm(n.h,t),Jg(t,r,e)}function E(n,e){n.ia&&rE(n.ia,function(t,r){Mr(e,r,t)}),n.l&&P_({},function(t,r){Mr(e,r,t)})}function T(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Fi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let v=0;v<t;v++){let b=i[v].h;const S=i[v].g;if(b-=l,0>b)l=Math.max(0,i[v].h-100),p=!1;else try{TE(S,d,"req"+b+"_")}catch{r&&r(S)}}if(p){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function N(n){n.g||n.u||(n.Z=1,cE(n.Ia,n),n.A=0)}function j(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Oo(Fi(n.Ia,n),It(n,n.A)),n.A++,0))}function ue(n){null!=n.B&&(yn.clearTimeout(n.B),n.B=null)}function Fe(n){n.g=new md(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Lu(n.sa);Mr(e,"RID","rpc"),Mr(e,"SID",n.I),Mr(e,"CI",n.L?"0":"1"),Mr(e,"AID",n.T),Mr(e,"TYPE","xmlhttp"),E(n,e),n.o&&n.s&&ME(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=tm(Lu(e)),t.s=null,t.P=!0,R_(t,n)}function Ze(n){null!=n.v&&(yn.clearTimeout(n.v),n.v=null)}function pt(n,e){var t=null;if(n.g==e){Ze(n),ue(n),n.g=null;var r=2}else{if(!U_(n.h,e))return;t=e.D,j_(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;bi(r=Df(),new Wg(r,t)),f(n)}else N(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function y(n,e){return!(DE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Oo(Fi(n.Ja,n,e),It(n,n.C)),n.C++,0)))}(n,e)||2==r&&j(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Rt(n,5);break;case 4:Rt(n,10);break;case 3:Rt(n,6);break;default:Rt(n,2)}}function It(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Rt(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Fi(n.kb,n);t||(t=new zl("//www.google.com/images/cleardot.gif"),yn.location&&"http"==yn.location.protocol||N_(t,"https"),tm(t)),function z_(n,e){const t=new qg;if(yn.Image){const r=new Image;r.onload=Og(q_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Og(q_,t,r,"TestLoadImage: error",!1,e),r.onabort=Og(q_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Og(q_,t,r,"TestLoadImage: timeout",!1,e),yn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $i(2);n.G=0,n.l&&n.l.va(e),Wt(n),h(n)}function Wt(n){if(n.G=0,n.la=[],n.l){const e=H_(n.h);(0!=e.length||0!=n.i.length)&&(Pg(n.la,e),Pg(n.la,n.i),n.h.i.length=0,hd(n.i),n.i.length=0),n.l.ua()}}function ot(n,e,t){var r=t instanceof zl?Lu(t):new zl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),F_(r,r.m);else{var i=yn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new zl(null,void 0);r&&N_(l,r),e&&(l.g=e),i&&F_(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Mr(r,t,e),Mr(r,"VER",n.ma),E(n,r),r}function nn(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t&&n.Da&&!n.ra?new _d({jb:!0}):n.ra)).Ka(n.H),e}function Hn(){}function or(){if(bf&&!(10<=Number(tE)))throw Error("Environmental error: no available transport.")}function ni(n,e){wi.call(this),this.g=new s(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ng(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ng(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vu(this)}function sm(n){Zg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function am(){IE.call(this),this.status=1}function Vu(n){this.g=n}(Ut=Nr.prototype).Ka=function(n){this.L=n},Ut.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kg.g(),this.C=function vE(n){return n.h||(n.h=n.i())}(this.u?this.u:Kg),this.g.onreadystatechange=Fi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void gA(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=yn.FormData&&n instanceof yn.FormData,!(0<=d_(eR,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yA(this),0<this.B&&((this.K=function tR(n){return bf&&function eE(){return function G1(n){var e=ZS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=h_(String(Lg)).split("."),t=h_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Nu(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Nu(0==i[2].length,0==l[2].length)||Nu(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.qa,this)):this.A=S_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){gA(this,l)}},Ut.qa=function(){typeof a_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bi(this,"timeout"),this.abort(8))},Ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bi(this,"complete"),bi(this,"abort"),Y_(this))},Ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Y_(this,!0)),Nr.X.M.call(this)},Ut.Ha=function(){this.s||(this.F||this.v||this.l?xE(this):this.fb())},Ut.fb=function(){xE(this)},Ut.aa=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},Ut.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ut.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pA(e)}},Ut.Ea=function(){return this.m},Ut.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ut=s.prototype).ma=8,Ut.G=1,Ut.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new md(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=XS(l),JS(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=T(this,i,e),Mr(t=Lu(this.F),"RID",n),Mr(t,"CVER",22),this.D&&Mr(t,"X-HTTP-Session-Id",this.D),E(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(_A(l)))+"&"+e:this.o&&ME(t,this.o,l)),rm(this.h,i),this.Ya&&Mr(t,"TYPE","init"),this.O?(Mr(t,"$req",e),Mr(t,"SID","null"),i.Z=!0,Jg(i,t,null)):Jg(i,t,e),this.G=2}}else 3==this.G&&(n?I(this,n):0==this.i.length||CE(this.h)||I(this))},Ut.Ia=function(){if(this.u=null,Fe(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Oo(Fi(this.eb,this),n)}},Ut.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$i(10),c(this),Fe(this))},Ut.cb=function(){null!=this.v&&(this.v=null,c(this),j(this),$i(19))},Ut.kb=function(n){n?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},(Ut=Hn.prototype).xa=function(){},Ut.wa=function(){},Ut.va=function(){},Ut.ua=function(){},Ut.Ra=function(){},or.prototype.g=function(n,e){return new ni(n,e)},Ii(ni,wi),ni.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;$i(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ot(n,null,n.V),f(n)},ni.prototype.close=function(){a(this.g)},ni.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=gd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&f(e)},ni.prototype.M=function(){this.g.l=null,delete this.j,a(this.g),delete this.g,ni.X.M.call(this)},Ii(sm,Zg),Ii(am,IE),Ii(Vu,Hn),Vu.prototype.xa=function(){bi(this.g,"a")},Vu.prototype.wa=function(n){bi(this.g,new sm(n))},Vu.prototype.va=function(n){bi(this.g,new am)},Vu.prototype.ua=function(){bi(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,Yg.NO_ERROR=0,Yg.TIMEOUT=8,Yg.HTTP_ERROR=6,sA.COMPLETE="complete",_E.EventType=Tf,Tf.OPEN="a",Tf.CLOSE="b",Tf.ERROR="c",Tf.MESSAGE="d",wi.prototype.listen=wi.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.Oa,Nr.prototype.getLastErrorCode=Nr.prototype.Ea,Nr.prototype.getStatus=Nr.prototype.aa,Nr.prototype.getResponseJson=Nr.prototype.Sa,Nr.prototype.getResponseText=Nr.prototype.fa,Nr.prototype.send=Nr.prototype.da,Nr.prototype.setWithCredentials=Nr.prototype.Ka;var Z_=go.createWebChannelTransport=function(){return new or},K_=go.getStatEventTarget=function(){return Df()},Pf=go.ErrorCode=Yg,X_=go.EventType=sA,Q_=go.Event=Fu,um=go.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gN=go.FetchXmlHttpFactory=_d,RE=go.WebChannel=_E,mN=go.XhrIo=Nr;const nR="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let lm="9.14.0";const wd=new qn.Yd("@firebase/firestore");function IA(){return wd.logLevel}function dt(n,...e){if(wd.logLevel<=qn.in.DEBUG){const t=e.map(wA);wd.debug(`Firestore (${lm}): ${n}`,...t)}}function ri(n,...e){if(wd.logLevel<=qn.in.ERROR){const t=e.map(wA);wd.error(`Firestore (${lm}): ${n}`,...t)}}function Nf(n,...e){if(wd.logLevel<=qn.in.WARN){const t=e.map(wA);wd.warn(`Firestore (${lm}): ${n}`,...t)}}function wA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const e=`FIRESTORE (${lm}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function cn(n,e){n||Ft()}function St(n,e){return n}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends lt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class IN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wN{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let d=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ei,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const b=d;e.enqueueRetryable((0,Ce.Z)(function*(){yield b.promise,yield l(r.currentUser)}))},v=b=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>v(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?v(b):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ei)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn("string"==typeof r.accessToken),new rR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return cn(null===e||"string"==typeof e),new Bi(e)}}class bN{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(cn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class EN{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new bN(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CN{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(cn("string"==typeof t.token),this.A=t.token,new iR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DN(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function vn(n,e){return n<e?-1:n>e?1:0}function cm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function sR(n){return n+"\0"}class Fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new at(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new Fr(0,0))}static max(){return new dn(new Fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J_{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ft(),void 0===r?r=e.length-t:r>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===J_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gn extends J_{construct(e,t,r){return new Gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gn(t)}static emptyPath(){return new Gn([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends J_{construct(e,t,r){return new Kr(e,t,r)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new at(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new at(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new at(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(r+=p,i++):(l(),i++)}if(l(),d)throw new at(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Gn.fromString(e))}static fromName(e){return new Ct(Gn.fromString(e).popFirst(5))}static empty(){return new Ct(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Gn(e.slice()))}}class kE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function bA(n){return n.fields.find(e=>2===e.kind)}function Ff(n){return n.fields.filter(e=>2!==e.kind)}kE.UNKNOWN_ID=-1;class OE{constructor(e,t){this.fieldPath=e,this.kind=t}}class e0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new e0(0,_s.min())}}function aR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=dn.fromTimestamp(1e9===r?new Fr(t+1,0):new Fr(t,r));return new _s(i,Ct.empty(),e)}function uR(n){return new _s(n.readTime,n.key,-1)}class _s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _s(dn.min(),Ct.empty(),-1)}static max(){return new _s(dn.max(),Ct.empty(),-1)}}function EA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(n.documentKey,e.documentKey),0!==t?t:vn(n.largestBatchId,e.largestBatchId))}const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bd(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Ce.Z)(function*(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==lR)throw n;dt("LocalStore","Unexpectedly lost primary lease")}),CA.apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(t){return je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):je.reject(t)}static resolve(e){return new je((t,r)=>{t(e)})}static reject(e){return new je((t,r)=>{r(e)})}static waitFor(e){return new je((t,r)=>{let i=0,l=0,d=!1;e.forEach(p=>{++i,p.next(()=>{++l,d&&l===i&&t()},v=>r(v))}),d=!0,l===i&&t()})}static or(e){let t=je.resolve(!1);for(const r of e)t=t.next(i=>i?je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new je((r,i)=>{const l=e.length,d=new Array(l);let p=0;for(let v=0;v<l;v++){const b=v;t(e[b]).next(S=>{d[b]=S,++p,p===l&&r(d)},S=>i(S))}})}static doWhile(e,t){return new je((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class PE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ei,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new t0(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=DA(r.target.error);this.P.reject(new t0(e,i))}}static open(e,t,r,i){try{return new PE(t,e.transaction(i,r))}catch(l){throw new t0(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new MN(t)}}class Ka{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ka.D((0,lt.z$)())&&ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return dt("SimpleDb","Removing database:",e),Lf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,lt.hl)())return!1;if(Ka.N())return!0;const e=(0,lt.z$)(),t=Ka.D(e),r=0<t&&t<10,i=Ka.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new t0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new at(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new at(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new t0(e,p))},l.onupgradeneeded=d=>{dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ce.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.F(e);const v=PE.open(l.db,e,d?"readonly":"readwrite",r),b=i(v).next(S=>(v.V(),S)).catch(S=>(v.abort(S),je.reject(S))).toPromise();return b.catch(()=>{}),yield v.v,b}catch(v){const b=v,S="FirebaseError"!==b.name&&p<3;if(dt("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),l.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xN{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Lf(this.U.delete())}}class t0 extends at{constructor(e,t){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ed(n){return"IndexedDbTransactionError"===n.name}class MN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(dt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Lf(r)}add(e){return dt("SimpleDb","ADD",this.store.name,e,e),Lf(this.store.add(e))}get(e){return Lf(this.store.get(e)).next(t=>(void 0===t&&(t=null),dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return dt("SimpleDb","DELETE",this.store.name,e),Lf(this.store.delete(e))}count(){return dt("SimpleDb","COUNT",this.store.name),Lf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new je((l,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new je((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){dt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new je((r,i)=>{t.onerror=l=>{const d=DA(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}H(e,t){const r=[];return new je((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const v=new xN(p),b=t(p.primaryKey,p.value,v);if(b instanceof je){const S=b.catch(x=>(v.done(),je.reject(x)));r.push(S)}v.isDone?i():null===v.G?p.continue():p.continue(v.G)}}).next(()=>je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lf(n){return new je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=DA(r.target.error);t(i)}})}let dR=!1;function DA(n){const e=Ka.D((0,lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dR||(dR=!0,setTimeout(()=>{throw r},0)),r}}return n}class RN{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{dt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ed(r)?dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield bd(r)}yield t.nt(6e4)}))}}class kN{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return je.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return dt("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(p=>{i-=p,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(p=>(dt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=uR(l);EA(d,r)>0&&(r=d)}),new _s(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function hR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $f(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Xo.at=-1;class Xr{constructor(e,t){this.comparator=e,this.root=t||io.EMPTY}insert(e,t){return new Xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,io.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,io.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new NE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new NE(this.root,e,this.comparator,!1)}getReverseIterator(){return new NE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new NE(this.root,e,this.comparator,!0)}}class NE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class io{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??io.RED,this.left=i??io.EMPTY,this.right=l??io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new io(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return io.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new io(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pR(this.data.getIterator())}getIteratorFrom(e){return new pR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class pR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dm(n){return n.hasNext()?n.getNext():void 0}class Is{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Is([])}unionWith(e){let t=new fr(Kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cd(n){if(cn(!!n),"string"==typeof n){let e=0;const t=PN.exec(n);if(cn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bf(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function TA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gR(n){const e=n.mapValue.fields.__previous_value__;return TA(e)?gR(e):e}function n0(n){const e=Cd(n.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}class NN{constructor(e,t,r,i,l,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Dd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}function r0(n){return null==n}function o0(n){return 0===n&&1/n==-1/0}function mR(n){return"number"==typeof n&&Number.isInteger(n)&&!o0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FE={nullValue:"NULL_VALUE"};function Vf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TA(n)?4:IR(n)?9007199254740991:10:Ft()}function Uu(n,e){if(n===e)return!0;const t=Vf(n);if(t!==Vf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return n0(n).isEqual(n0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Cd(r.timestampValue),d=Cd(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Bf(n.bytesValue).isEqual(Bf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Qr(r.geoPointValue.latitude)===Qr(i.geoPointValue.latitude)&&Qr(r.geoPointValue.longitude)===Qr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qr(r.integerValue)===Qr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Qr(r.doubleValue),d=Qr(i.doubleValue);return l===d?o0(l)===o0(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return cm(n.arrayValue.values||[],e.arrayValue.values||[],Uu);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(hR(l)!==hR(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!Uu(l[p],d[p])))return!1;return!0}(n,e);default:return Ft()}var i}function s0(n,e){return void 0!==(n.values||[]).find(t=>Uu(t,e))}function Sd(n,e){if(n===e)return 0;const t=Vf(n),r=Vf(e);if(t!==r)return vn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return vn(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Qr(i.integerValue||i.doubleValue),p=Qr(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return yR(n.timestampValue,e.timestampValue);case 4:return yR(n0(n),n0(e));case 5:return vn(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Bf(i),p=Bf(l);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),p=l.split("/");for(let v=0;v<d.length&&v<p.length;v++){const b=vn(d[v],p[v]);if(0!==b)return b}return vn(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=vn(Qr(i.latitude),Qr(l.latitude));return 0!==d?d:vn(Qr(i.longitude),Qr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],p=l.values||[];for(let v=0;v<d.length&&v<p.length;++v){const b=Sd(d[v],p[v]);if(b)return b}return vn(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Td.mapValue&&l===Td.mapValue)return 0;if(i===Td.mapValue)return 1;if(l===Td.mapValue)return-1;const d=i.fields||{},p=Object.keys(d),v=l.fields||{},b=Object.keys(v);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const x=vn(p[S],b[S]);if(0!==x)return x;const Q=Sd(d[p[S]],v[b[S]]);if(0!==Q)return Q}return vn(p.length,b.length)}(n.mapValue,e.mapValue);default:throw Ft()}}function yR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return vn(n,e);const t=Cd(n),r=Cd(e),i=vn(t.seconds,r.seconds);return 0!==i?i:vn(t.nanos,r.nanos)}function hm(n){return SA(n)}function SA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Cd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bf(n.bytesValue).toBase64():"referenceValue"in n?Ct.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=SA(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const p of i)d?d=!1:l+=",",l+=`${p}:${SA(r.fields[p])}`;return l+"}"}(n.mapValue):Ft();var e}function Uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function AA(n){return!!n&&"integerValue"in n}function a0(n){return!!n&&"arrayValue"in n}function vR(n){return!!n&&"nullValue"in n}function _R(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function LE(n){return!!n&&"mapValue"in n}function u0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $f(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=u0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=u0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function FN(n){return"nullValue"in n?FE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uf(Dd.empty(),Ct.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ft()}function LN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uf(Dd.empty(),Ct.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Td:Ft()}function wR(n,e){const t=Sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function bR(n,e){const t=Sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!LE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=u0(t)}setAll(e){let t=Kr.emptyPath(),r={},i=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}d?r[p.lastSegment()]=u0(d):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());LE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];LE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$f(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new oo(u0(this.value))}}function ER(n){const e=[];return $f(n.fields,(t,r)=>{const i=new Kr([t]);if(LE(r)){const l=ER(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new Is(e)}class br{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new br(e,0,dn.min(),dn.min(),oo.empty(),0)}static newFoundDocument(e,t,r){return new br(e,1,t,dn.min(),r,0)}static newNoDocument(e,t){return new br(e,2,t,dn.min(),oo.empty(),0)}static newUnknownDocument(e,t){return new br(e,3,t,dn.min(),oo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $N{constructor(e,t=null,r=[],i=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=p,this.ht=null}}function CR(n,e=null,t=[],r=[],i=null,l=null,d=null){return new $N(n,e,t,r,i,l,d)}function jf(n){const e=St(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+hm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),r0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hm(r)).join(",")),e.ht=t}return e.ht}function l0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!WN(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Uu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xR(n.startAt,e.startAt)&&xR(n.endAt,e.endAt)}function $E(n){return Ct.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function BE(n,e){return n.filters.filter(t=>t instanceof so&&t.field.isEqual(e))}function DR(n,e,t){let r=FE,i=!0;for(const l of BE(n,e)){let d=FE,p=!0;switch(l.op){case"<":case"<=":d=FN(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=FE}wR({value:r,inclusive:i},{value:d,inclusive:p})<0&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];wR({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function TR(n,e,t){let r=Td,i=!0;for(const l of BE(n,e)){let d=Td,p=!0;switch(l.op){case">=":case">":d=LN(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=Td}bR({value:r,inclusive:i},{value:d,inclusive:p})>0&&(r=d,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];bR({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class so extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new VN(e,t,r):"array-contains"===t?new HN(e,r):"in"===t?new GN(e,r):"not-in"===t?new zN(e,r):"array-contains-any"===t?new qN(e,r):new so(e,t,r)}static lt(e,t,r){return"in"===t?new UN(e,r):new jN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Sd(t,this.value)):null!==t&&Vf(this.value)===Vf(t)&&this.ft(Sd(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class VN extends so{constructor(e,t,r){super(e,t,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.ft(t)}}class UN extends so{constructor(e,t){super(e,"in",t),this.keys=SR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jN extends so{constructor(e,t){super(e,"not-in",t),this.keys=SR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function SR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ct.fromName(r.referenceValue))}class HN extends so{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return a0(t)&&s0(t.arrayValue,this.value)}}class GN extends so{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s0(this.value.arrayValue,t)}}class zN extends so{constructor(e,t){super(e,"not-in",t)}matches(e){if(s0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s0(this.value.arrayValue,t)}}class qN extends so{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!a0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>s0(this.value.arrayValue,r))}}class Ad{constructor(e,t){this.position=e,this.inclusive=t}}class fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function WN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function AR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?Ct.comparator(Ct.fromName(d.referenceValue),t.key):Sd(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function xR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uu(n.position[t],e.position[t]))return!1;return!0}class Wl{constructor(e,t=null,r=[],i=[],l=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=v,this._t=null,this.wt=null}}function MR(n,e,t,r,i,l,d,p){return new Wl(n,e,t,r,i,l,d,p)}function pm(n){return new Wl(n)}function RR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function xA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function MA(n){for(const e of n.filters)if(e.dt())return e.field;return null}function RA(n){return null!==n.collectionGroup}function gm(n){const e=St(n);if(null===e._t){e._t=[];const t=MA(e),r=xA(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new fm(t)),e._t.push(new fm(Kr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new fm(Kr.keyField(),l))}}}return e._t}function Po(n){const e=St(n);if(!e.wt)if("F"===e.limitType)e.wt=CR(e.path,e.collectionGroup,gm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of gm(e))t.push(new fm(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ad(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ad(e.startAt.position,e.startAt.inclusive):null;e.wt=CR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function VE(n,e,t){return new Wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function c0(n,e){return l0(Po(n),Po(e))&&n.limitType===e.limitType}function kR(n){return`${jf(Po(n))}|lt:${n.limitType}`}function kA(n){return`Query(target=${function BN(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${hm(r.value)}`;var r}).join(", ")}]`),r0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>hm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>hm(t)).join(",")),`Target(${e})`}(Po(n))}; limitType=${n.limitType})`}function OA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ct.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const p=AR(i,l,d);return i.inclusive?p<=0:p<0}(t.startAt,gm(t),r)||t.endAt&&!function(i,l,d){const p=AR(i,l,d);return i.inclusive?p>=0:p>0}(t.endAt,gm(t),r)));var t,r}function OR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PR(n){return(e,t)=>{let r=!1;for(const i of gm(n)){const l=YN(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function YN(n,e,t){const r=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(i,l,d){const p=l.data.field(i),v=d.data.field(i);return null!==p&&null!==v?Sd(p,v):Ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft()}}function NR(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o0(e)?"-0":e}}function FR(n){return{integerValue:""+n}}function LR(n,e){return mR(e)?FR(e):NR(n,e)}class UE{constructor(){this._=void 0}}function ZN(n,e,t){return n instanceof mm?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Hf?BR(n,e):n instanceof Gf?VR(n,e):function(r,i){const l=$R(r,i),d=UR(l)+UR(r.yt);return AA(l)&&AA(r.yt)?FR(d):NR(r.It,d)}(n,e)}function KN(n,e,t){return n instanceof Hf?BR(n,e):n instanceof Gf?VR(n,e):t}function $R(n,e){return n instanceof ym?AA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mm extends UE{}class Hf extends UE{constructor(e){super(),this.elements=e}}function BR(n,e){const t=jR(e);for(const r of n.elements)t.some(i=>Uu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gf extends UE{constructor(e){super(),this.elements=e}}function VR(n,e){let t=jR(e);for(const r of n.elements)t=t.filter(i=>!Uu(i,r));return{arrayValue:{values:t}}}class ym extends UE{constructor(e,t){super(),this.It=e,this.yt=t}}function UR(n){return Qr(n.integerValue||n.doubleValue)}function jR(n){return a0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class d0{constructor(e,t){this.field=e,this.transform=t}}class QN{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class HE{}function HR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _m(n.key,Lr.none()):new vm(n.key,n.data,Lr.none());{const t=n.data,r=oo.empty();let i=new fr(Kr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new Yl(n.key,r,new Is(i.toArray()),Lr.none())}}function JN(n,e,t){n instanceof vm?function(r,i,l){const d=r.value.clone(),p=qR(r.fieldTransforms,i,l.transformResults);d.setAll(p),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Yl?function(r,i,l){if(!jE(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=qR(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(zR(r)),p.setAll(d),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function h0(n,e,t,r){return n instanceof vm?function(i,l,d,p){if(!jE(i.precondition,l))return d;const v=i.value.clone(),b=WR(i.fieldTransforms,p,l);return v.setAll(b),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yl?function(i,l,d,p){if(!jE(i.precondition,l))return d;const v=WR(i.fieldTransforms,p,l),b=l.data;return b.setAll(zR(i)),b.setAll(v),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,jE(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function eF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=$R(r.transform,i||null);null!=l&&(null===t&&(t=oo.empty()),t.set(r.field,l))}return t||null}function GR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cm(t,r,(i,l)=>function XN(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hf&&r instanceof Hf||t instanceof Gf&&r instanceof Gf?cm(t.elements,r.elements,Uu):t instanceof ym&&r instanceof ym?Uu(t.yt,r.yt):t instanceof mm&&r instanceof mm);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vm extends HE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yl extends HE{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qR(n,e,t){const r=new Map;cn(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,p=e.data.field(l.field);r.set(l.field,KN(d,p,t[i]))}return r}function WR(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,ZN(l,d,e))}return r}class _m extends HE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends HE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tF{constructor(e){this.count=e}}var ci,zn;function YR(n){switch(n){default:return Ft();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function ZR(n){if(void 0===n)return ri("GRPC error has no .code"),We.UNKNOWN;switch(n){case ci.OK:return We.OK;case ci.CANCELLED:return We.CANCELLED;case ci.UNKNOWN:return We.UNKNOWN;case ci.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case ci.INTERNAL:return We.INTERNAL;case ci.UNAVAILABLE:return We.UNAVAILABLE;case ci.UNAUTHENTICATED:return We.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case ci.NOT_FOUND:return We.NOT_FOUND;case ci.ALREADY_EXISTS:return We.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return We.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case ci.ABORTED:return We.ABORTED;case ci.OUT_OF_RANGE:return We.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return We.UNIMPLEMENTED;case ci.DATA_LOSS:return We.DATA_LOSS;default:return Ft()}}(zn=ci||(ci={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class xd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$f(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return fR(this.inner)}size(){return this.innerSize}}const nF=new Xr(Ct.comparator);function Qo(){return nF}const KR=new Xr(Ct.comparator);function f0(...n){let e=KR;for(const t of n)e=e.insert(t.key,t);return e}function XR(n){let e=KR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ju(){return p0()}function QR(){return p0()}function p0(){return new xd(n=>n.toString(),(n,e)=>n.isEqual(e))}const rF=new Xr(Ct.comparator),iF=new fr(Ct.comparator);function Cn(...n){let e=iF;for(const t of n)e=e.add(t);return e}const oF=new fr(vn);function GE(){return oF}class g0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,m0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new g0(dn.min(),i,GE(),Qo(),Cn())}}class m0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new m0(r,t,Cn(),Cn(),Cn())}}class zE{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class JR{constructor(e,t){this.targetId=e,this.At=t}}class ek{constructor(e,t,r=Ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class tk{constructor(){this.Rt=0,this.bt=rk(),this.Pt=Ci.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Cn(),t=Cn(),r=Cn();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ft()}}),new m0(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=rk()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class sF{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Qo(),this.qt=nk(),this.Kt=new fr(vn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if($E(l))if(0===r){const d=new Ct(l.path);this.jt(t,d,br.newNoDocument(d,dn.min()))}else cn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const p=this.Xt(d);if(p){if(l.current&&$E(p.target)){const v=new Ct(p.target.path);null!==this.Ut.get(v)||this.ee(d,v)||this.jt(d,v,br.newNoDocument(v,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Cn();this.qt.forEach((l,d)=>{let p=!0;d.forEachWhile(v=>{const b=this.Xt(v);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new g0(e,t,this.Kt,this.Ut,r);return this.Ut=Qo(),this.qt=nk(),this.Kt=new fr(vn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new tk,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new fr(vn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||dt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new tk),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function nk(){return new Xr(Ct.comparator)}function rk(){return new Xr(Ct.comparator)}const aF={asc:"ASCENDING",desc:"DESCENDING"},uF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lF{constructor(e,t){this.databaseId=e,this.gt=t}}function y0(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(n,e){return n.gt?e.toBase64():e.toUint8Array()}function cF(n,e){return y0(n,e.toTimestamp())}function Vi(n){return cn(!!n),dn.fromTimestamp(function(e){const t=Cd(e);return new Fr(t.seconds,t.nanos)}(n))}function NA(n,e){return(t=n,new Gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ok(n){const e=Gn.fromString(n);return cn(fk(e)),e}function v0(n,e){return NA(n.databaseId,e.path)}function Hu(n,e){const t=ok(e);if(t.get(1)!==n.databaseId.projectId)throw new at(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new at(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(ak(t))}function FA(n,e){return NA(n.databaseId,e)}function sk(n){const e=ok(n);return 4===e.length?Gn.emptyPath():ak(e)}function _0(n){return new Gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ak(n){return cn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uk(n,e,t){return{name:v0(n,e),fields:t.value.mapValue.fields}}function lk(n,e,t){const r=Hu(n,e.name),i=Vi(e.updateTime),l=new oo({mapValue:{fields:e.fields}}),d=br.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function I0(n,e){let t;if(e instanceof vm)t={update:uk(n,e.key,e.value)};else if(e instanceof _m)t={delete:v0(n,e.key)};else if(e instanceof Yl)t={update:uk(n,e.key,e.data),updateMask:_F(e.fieldMask)};else{if(!(e instanceof PA))return Ft();t={verify:v0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof mm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ym)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw Ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ft()),t;var i}function LA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Lr.updateTime(Vi(i.updateTime)):void 0!==i.exists?Lr.exists(i.exists):Lr.none():Lr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let p=null;"setToServerValue"in d?(cn("REQUEST_TIME"===d.setToServerValue),p=new mm):"appendMissingElements"in d?p=new Hf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Gf(d.removeAllFromArray.values||[]):"increment"in d?p=new ym(l,d.increment):Ft();const v=Kr.fromServerFormat(d.fieldPath);return new d0(v,p)}(n,i)):[];var i;if(e.update){const i=Hu(n,e.update.name),l=new oo({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Is((e.updateMask.fieldPaths||[]).map(b=>Kr.fromServerFormat(b)));return new Yl(i,l,d,t,r)}return new vm(i,l,t,r)}if(e.delete){const i=Hu(n,e.delete);return new _m(i,t)}if(e.verify){const i=Hu(n,e.verify);return new PA(i,t)}return Ft()}function ck(n,e){return{documents:[FA(n,e.path)]}}function $A(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=FA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const b=v.map(S=>function(x){if("=="===x.op){if(_R(x.value))return{unaryFilter:{field:Im(x.field),op:"IS_NAN"}};if(vR(x.value))return{unaryFilter:{field:Im(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(_R(x.value))return{unaryFilter:{field:Im(x.field),op:"IS_NOT_NAN"}};if(vR(x.value))return{unaryFilter:{field:Im(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Im(x.field),op:mF(x.op),value:x.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(v){if(0!==v.length)return v.map(b=>{return{field:Im((S=b).field),direction:gF(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(b=e.limit,n.gt||r0(b)?b:{value:b});var b,p,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function dk(n){let e=sk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){cn(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=hk(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new fm(wm((x=S).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,r0(x)?null:x}(t.limit));let v=null;var S;t.startAt&&(v=new Ad((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new Ad(S.values||[],!S.before)}(t.endAt)),MR(e,i,d,l,p,"F",v,b)}function hk(n){return n?void 0!==n.unaryFilter?[vF(n)]:void 0!==n.fieldFilter?[yF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>hk(e)).reduce((e,t)=>e.concat(t)):Ft():[]}function gF(n){return aF[n]}function mF(n){return uF[n]}function Im(n){return{fieldPath:n.canonicalString()}}function wm(n){return Kr.fromServerFormat(n.fieldPath)}function yF(n){return so.create(wm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function vF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=wm(n.unaryFilter.field);return so.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=wm(n.unaryFilter.field);return so.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wm(n.unaryFilter.field);return so.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wm(n.unaryFilter.field);return so.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}function _F(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function No(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pk(e)),e=IF(n.get(t),e);return pk(e)}function IF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function pk(n){return n+"\x01\x01"}function Gu(n){const e=n.length;if(cn(e>=2),2===e)return cn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&Ft(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:Ft()}l=d+2}return new Gn(r)}const gk=["userId","batchId"];function qE(n,e){return[n,No(e)]}function mk(n,e,t){return[n,No(e),t]}const wF={},bF=["prefixPath","collectionGroup","readTime","documentId"],EF=["prefixPath","collectionGroup","documentId"],CF=["collectionGroup","readTime","prefixPath","documentId"],DF=["canonicalId","targetId"],TF=["targetId","path"],SF=["path","targetId"],AF=["collectionId","parent"],xF=["indexId","uid"],MF=["uid","sequenceNumber"],RF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kF=["indexId","uid","orderedDocumentKey"],OF=["userId","collectionPath","documentId"],PF=["userId","collectionPath","largestBatchId"],NF=["userId","collectionGroup","largestBatchId"],yk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FF=[...yk,"documentOverlays"],vk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_k=vk,LF=[..._k,"indexConfiguration","indexState","indexEntries"];class BA extends cR{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ui(n,e){const t=St(n);return Ka.M(t.ie,e)}class VA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&JN(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=h0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=h0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QR();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(i.key)?null:p;const v=HR(d,p);null!==v&&r.set(i.key,v),d.isValidDocument()||d.convertToNoDocument(dn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&cm(this.mutations,e.mutations,(t,r)=>GR(t,r))&&cm(this.baseMutations,e.baseMutations,(t,r)=>GR(t,r))}}class UA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){cn(e.mutations.length===r.length);let i=rF;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new UA(e,t,r,i)}}class jA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Md{constructor(e,t,r,i,l=dn.min(),d=dn.min(),p=Ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new Md(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ik{constructor(e){this.re=e}}function wk(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:WE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:v0(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:y0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zf(e.version)};else{if(!e.isUnknownDocument())return Ft();r.unknownDocument={path:t.path.toArray(),version:zf(e.version)}}var i,l;return r}function WE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qf(n){const e=new Fr(n.seconds,n.nanoseconds);return dn.fromTimestamp(e)}function Wf(n,e){const t=(e.baseMutations||[]).map(l=>LA(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>LA(n.re,l)),i=Fr.fromMillis(e.localWriteTimeMs);return new VA(e.batchId,i,t,r)}function w0(n){const e=qf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qf(n.lastLimboFreeSnapshotVersion):dn.min();let r;var i;return void 0!==n.query.documents?(cn(1===(i=n.query).documents.length),r=Po(pm(sk(i.documents[0])))):r=Po(dk(n.query)),new Md(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken))}function bk(n,e){const t=zf(e.snapshotVersion),r=zf(e.lastLimboFreeSnapshotVersion);let i;i=$E(e.target)?ck(n.re,e.target):$A(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HA(n){const e=dk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VE(e,e.limit,"L"):e}function GA(n,e){return new jA(e.largestBatchId,LA(n.re,e.overlayMutation))}function Ek(n,e){const t=e.path.lastSegment();return[n,No(e.path.popLast()),t]}function Ck(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zf(r.readTime),documentKey:No(r.documentKey.path),largestBatchId:r.largestBatchId}}class BF{getBundleMetadata(e,t){return Dk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Dk(e).put({bundleId:(r=t).id,createTime:zf(Vi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Tk(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:HA(i.bundledQuery),readTime:qf(i.readTime)};var i})}saveNamedQuery(e,t){return Tk(e).put({name:(r=t).name,readTime:zf(Vi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Dk(n){return Ui(n,"bundles")}function Tk(n){return Ui(n,"namedQueries")}class YE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new YE(e,t.uid||"")}getOverlay(e,t){return b0(e).get(Ek(this.userId,t)).next(r=>r?GA(this.It,r):null)}getOverlays(e,t){const r=ju();return je.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const p=new jA(t,d);i.push(this.ue(e,p))}),je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(No(d.getCollectionPath())));const l=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(b0(e).Y("collectionPathOverlayIndex",p))}),je.waitFor(l)}getOverlaysForCollection(e,t,r){const i=ju(),l=No(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return b0(e).W("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const b=GA(this.It,v);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=ju();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return b0(e).Z({index:"collectionGroupOverlayIndex",range:p},(v,b,S)=>{const x=GA(this.It,b);l.size()<i||x.largestBatchId===d?(l.set(x.getKey(),x),d=x.largestBatchId):S.done()}).next(()=>l)}ue(e,t){return b0(e).put(function(r,i,l){const[d,p,v]=Ek(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:I0(r.re,l.mutation)}}(this.It,this.userId,t))}}function b0(n){return Ui(n,"documentOverlays")}class Yf{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),o0(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Bf(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?IR(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ft()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ct.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function VF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Sk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=VF(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Yf.Te=new Yf;class UF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Sk(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Sk(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class jF{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class HF{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class E0{constructor(){this.Be=new UF,this.Le=new jF(this.Be),this.Ue=new HF(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zf(this.indexId,this.documentKey,this.arrayValue,r)}}function Kf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ak(n.arrayValue,e.arrayValue),0!==t?t:(t=Ak(n.directionalValue,e.directionalValue),0!==t?t:Ct.comparator(n.documentKey,e.documentKey)))}function Ak(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class GF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=bA(e);if(void 0!==t&&!this.ze(t))return!1;const r=Ff(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zF{constructor(){this.Ye=new zA}addToCollectionParentIndex(e,t){return this.Ye.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(_s.min())}updateCollectionGroup(e,t,r){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class zA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fr(Gn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fr(Gn.comparator)).toArray()}}const ZE=new Uint8Array(0);class qF{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new zA,this.Ze=new xd(r=>jf(r),(r,i)=>l0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:No(i)};return xk(e).put(l)}return je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[sR(t),""],!1,!0);return xk(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Gu(d.parent))}return r})}addFieldIndex(e,t){const r=KE(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=D0(e);return l.next(p=>{d.put(Ck(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=KE(e),i=D0(e),l=C0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=C0(e);let i=!0;const l=new Map;return je.forEach(this.tn(t),d=>this.en(e,d).next(p=>{i&&(i=!!p),l.set(d,p)})).next(()=>{if(i){let d=Cn();const p=[];return je.forEach(l,(v,b)=>{var S;dt("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(jt=>`${jt.fieldPath}:${jt.kind}`).join(",")}`} to execute ${jf(t)}`);const x=function(jt,Bt){const rn=bA(Bt);if(void 0===rn)return null;for(const mn of BE(jt,rn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(b,v),Q=function(jt,Bt){const rn=new Map;for(const mn of Ff(Bt))for(const Wr of BE(jt,mn.fieldPath))switch(Wr.op){case"==":case"in":rn.set(mn.fieldPath.canonicalString(),Wr.value);break;case"not-in":case"!=":return rn.set(mn.fieldPath.canonicalString(),Wr.value),Array.from(rn.values())}return null}(b,v),le=function(jt,Bt){const rn=[];let mn=!0;for(const Wr of Ff(Bt)){const Qa=0===Wr.kind?DR(jt,Wr.fieldPath,jt.startAt):TR(jt,Wr.fieldPath,jt.startAt);rn.push(Qa.value),mn&&(mn=Qa.inclusive)}return new Ad(rn,mn)}(b,v),Ae=function(jt,Bt){const rn=[];let mn=!0;for(const Wr of Ff(Bt)){const Qa=0===Wr.kind?TR(jt,Wr.fieldPath,jt.endAt):DR(jt,Wr.fieldPath,jt.endAt);rn.push(Qa.value),mn&&(mn=Qa.inclusive)}return new Ad(rn,mn)}(b,v),tt=this.nn(v,b,le),Ke=this.nn(v,b,Ae),qt=this.sn(v,b,Q),Zt=this.rn(v.indexId,x,tt,le.inclusive,Ke,Ae.inclusive,qt);return je.forEach(Zt,jt=>r.J(jt,t.limit).next(Bt=>{Bt.forEach(rn=>{const mn=Ct.fromSegments(rn.documentKey);d.has(mn)||(d=d.add(mn),p.push(mn))})}))}).next(()=>p)}return je.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,p){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),b=v/(null!=t?t.length:1),S=[];for(let x=0;x<v;++x){const Q=t?this.on(t[x/b]):ZE,le=this.un(e,Q,r[x%b],i),Ae=this.cn(e,Q,l[x%b],d),tt=p.map(Ke=>this.un(e,Q,Ke,!0));S.push(...this.createRange(le,Ae,tt))}return S}un(e,t,r,i){const l=new Zf(e,Ct.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new Zf(e,Ct.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new GF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const p of l)r.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return je.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let p=new fr(Kr.comparator),v=!1;for(const b of d.filters){const S=b;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:p=p.add(S.field))}for(const b of d.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new E0;for(const i of Ff(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);Yf.Te.ce(l,d)}return r.$e()}on(e){const t=new E0;return Yf.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new E0;return Yf.Te.ce(Uf(this.databaseId,t),r.qe(function(i){const l=Ff(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new E0);let l=0;for(const d of Ff(e)){const p=r[l++];for(const v of i)if(this.ln(t,d.fieldPath)&&a0(p))i=this.fn(i,d,p);else{const b=v.qe(d.kind);Yf.Te.ce(p,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const p of i){const v=new E0;v.seed(p.$e()),Yf.Te.ce(d,v.qe(t.kind)),l.push(v)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof so&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=KE(e),i=D0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return je.forEach(l,p=>i.get([p.indexId,this.uid]).next(v=>{d.push(function(b,S){const x=S?new e0(S.sequenceNumber,new _s(qf(S.readTime),new Ct(Gu(S.documentKey)),S.largestBatchId)):e0.empty(),Q=b.fields.map(([le,Ae])=>new OE(Kr.fromServerFormat(le),Ae));return new kE(b.indexId,b.collectionGroup,Q,x)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:vn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=KE(e),l=D0(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>je.forEach(p,v=>l.put(Ck(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return je.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?je.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),je.forEach(p,v=>this.wn(e,i,v).next(b=>{const S=this.mn(l,v);return b.isEqual(S)?je.resolve():this.gn(e,l,v,b,S)}))))})}yn(e,t,r,i){return C0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return C0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=C0(e);let l=new fr(Kf);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,p)=>{l=l.add(new Zf(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}mn(e,t){let r=new fr(Kf);const i=this.an(t,e);if(null==i)return r;const l=bA(t);if(null!=l){const d=e.data.field(l.fieldPath);if(a0(d))for(const p of d.arrayValue.values||[])r=r.add(new Zf(t.indexId,e.key,this.on(p),i))}else r=r.add(new Zf(t.indexId,e.key,ZE,i));return r}gn(e,t,r,i,l){dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,b,S,x){const Q=p.getIterator(),le=v.getIterator();let Ae=dm(Q),tt=dm(le);for(;Ae||tt;){let Ke=!1,qt=!1;if(Ae&&tt){const Zt=b(Ae,tt);Zt<0?qt=!0:Zt>0&&(Ke=!0)}else null!=Ae?qt=!0:Ke=!0;Ke?(S(tt),tt=dm(le)):qt?(x(Ae),Ae=dm(Q)):(Ae=dm(Q),tt=dm(le))}}(i,l,Kf,p=>{d.push(this.yn(e,t,r,p))},p=>{d.push(this.pn(e,t,r,p))}),je.waitFor(d)}_n(e){let t=1;return D0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>Kf(d,p)).filter((d,p,v)=>!p||0!==Kf(d,v[p-1]));const i=[];i.push(e);for(const d of r){const p=Kf(d,e),v=Kf(d,t);if(0===p)i[0]=e.Ke();else if(p>0&&v<0)i.push(d),i.push(d.Ke());else if(v>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,ZE,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,ZE,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Mk)}getMinOffset(e,t){return je.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Ft())).next(Mk)}}function xk(n){return Ui(n,"collectionParents")}function C0(n){return Ui(n,"indexEntries")}function KE(n){return Ui(n,"indexConfiguration")}function D0(n){return Ui(n,"indexState")}function Mk(n){cn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;EA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new _s(e.readTime,e.documentKey,t)}const Rk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kk(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let p=0;const v=r.Z({range:d},(S,x,Q)=>(p++,Q.delete()));l.push(v.next(()=>{cn(1===p)}));const b=[];for(const S of t.mutations){const x=mk(e,S.key.path,t.batchId);l.push(i.delete(x)),b.push(S.key)}return je.waitFor(l).next(()=>b)}function XE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ft();e=n.noDocument}return JSON.stringify(e).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class QE{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){cn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new QE(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rd(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=bm(e),d=Rd(e);return d.add({}).next(p=>{cn("number"==typeof p);const v=new VA(p,t,r,i),b=function(Q,le,Ae){const tt=Ae.baseMutations.map(qt=>I0(Q.re,qt)),Ke=Ae.mutations.map(qt=>I0(Q.re,qt));return{userId:le,batchId:Ae.batchId,localWriteTimeMs:Ae.localWriteTime.toMillis(),baseMutations:tt,mutations:Ke}}(this.It,this.userId,v),S=[];let x=new fr((Q,le)=>vn(Q.canonicalString(),le.canonicalString()));for(const Q of i){const le=mk(this.userId,Q.key.path,p);x=x.add(Q.key.path.popLast()),S.push(d.put(b)),S.push(l.put(le,wF))}return x.forEach(Q=>{S.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.In[p]=v.keys()}),je.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return Rd(e).get(t).next(r=>r?(cn(r.userId===this.userId),Wf(this.It,r)):null)}Tn(e,t){return this.In[t]?je.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Rd(e).Z({index:"userMutationsIndex",range:i},(d,p,v)=>{p.userId===this.userId&&(cn(p.batchId>=r),l=Wf(this.It,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Rd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rd(e).W("userMutationsIndex",t).next(r=>r.map(i=>Wf(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return bm(e).Z({range:i},(d,p,v)=>{const[b,S,x]=d,Q=Gu(S);if(b===this.userId&&t.path.isEqual(Q))return Rd(e).get(x).next(le=>{if(!le)throw Ft();cn(le.userId===this.userId),l.push(Wf(this.It,le))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(vn);const i=[];return t.forEach(l=>{const d=qE(this.userId,l.path),p=IDBKeyRange.lowerBound(d),v=bm(e).Z({range:p},(b,S,x)=>{const[Q,le,Ae]=b,tt=Gu(le);Q===this.userId&&l.path.isEqual(tt)?r=r.add(Ae):x.done()});i.push(v)}),je.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=qE(this.userId,r),d=IDBKeyRange.lowerBound(l);let p=new fr(vn);return bm(e).Z({range:d},(v,b,S)=>{const[x,Q,le]=v,Ae=Gu(Q);x===this.userId&&r.isPrefixOf(Ae)?Ae.length===i&&(p=p.add(le)):S.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Rd(e).get(l).next(d=>{if(null===d)throw Ft();cn(d.userId===this.userId),r.push(Wf(this.It,d))}))}),je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return kk(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return bm(e).Z({range:r},(l,d,p)=>{if(l[0]===this.userId){const v=Gu(l[1]);i.push(v)}else p.done()}).next(()=>{cn(0===i.length)})})}containsKey(e,t){return Ok(e,this.userId,t)}Rn(e){return Pk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ok(n,e,t){const r=qE(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return bm(n).Z({range:l,X:!0},(p,v,b)=>{const[S,x,Q]=p;S===e&&x===i&&(d=!0),b.done()}).next(()=>d)}function Rd(n){return Ui(n,"mutations")}function bm(n){return Ui(n,"documentMutations")}function Pk(n){return Ui(n,"mutationQueues")}class Xf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Xf(0)}static vn(){return new Xf(-1)}}class WF{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Xf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>dn.fromTimestamp(new Fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Em(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(cn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Em(e).Z((d,p)=>{const v=w0(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>je.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Em(e).Z((r,i)=>{const l=w0(i);t(l)})}Vn(e){return Nk(e).get("targetGlobalKey").next(t=>(cn(null!==t),t))}Sn(e,t){return Nk(e).put("targetGlobalKey",t)}Dn(e,t){return Em(e).put(bk(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=jf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Em(e).Z({range:i,index:"queryTargetsIndex"},(d,p,v)=>{const b=w0(p);l0(t,b.target)&&(l=b,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=kd(e);return t.forEach(d=>{const p=No(d.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,d))}),je.waitFor(i)}removeMatchingKeys(e,t,r){const i=kd(e);return je.forEach(t,l=>{const d=No(l.path);return je.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=kd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=kd(e);let l=Cn();return i.Z({range:r,X:!0},(d,p,v)=>{const b=Gu(d[1]),S=new Ct(b);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=No(t.path),i=IDBKeyRange.bound([r],[sR(r)],!1,!0);let l=0;return kd(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,p],v,b)=>{0!==d&&(l++,b.done())}).next(()=>l>0)}se(e,t){return Em(e).get(t).next(r=>r?w0(r):null)}}function Em(n){return Ui(n,"targets")}function Nk(n){return Ui(n,"targetGlobal")}function kd(n){return Ui(n,"targetDocuments")}function Fk([n,e],[t,r]){const i=vn(n,t);return 0===i?vn(e,r):i}class YF{constructor(e){this.xn=e,this.buffer=new fr(Fk),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Fk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ed(r)?dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield bd(r)}yield t.Fn(3e5)}))}}class KF{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return je.resolve(Xo.at);const r=new YF(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Rk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rk):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,p,v,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(b=Date.now(),IA()<=qn.in.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${x} documents in `+(b-v)+`ms\nTotal Duration: ${b-S}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x})))}}class XF{constructor(e,t){this.db=e,this.garbageCollector=new KF(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return JE(e,r)}removeReference(e,t,r){return JE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return JE(e,t)}Gn(e,t){return function(r,i){let l=!1;return Pk(r).tt(d=>Ok(r,d,i).next(p=>(p&&(l=!0),je.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,p)=>{if(p<=t){const v=this.Gn(e,d).next(b=>{if(!b)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,dn.min()),kd(e).delete([0,No(d.path)])))});i.push(v)}}).next(()=>je.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return JE(e,t)}Kn(e,t){const r=kd(e);let i,l=Xo.at;return r.Z({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:b})=>{0===d?(l!==Xo.at&&t(new Ct(Gu(i)),l),l=b,i=v):l=Xo.at}).next(()=>{l!==Xo.at&&t(new Ct(Gu(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function JE(n,e){return kd(n).put((r=n.currentSequenceNumber,{targetId:0,path:No(e.path),sequenceNumber:r}));var r}class Lk{constructor(){this.changes=new xd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QF{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qf(e).put(r)}removeEntry(e,t,r){return Qf(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],WE(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=br.newInvalidDocument(t);return Qf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:br.newInvalidDocument(t)};return Qf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T0(t))},(i,l)=>{r={document:this.jn(t,l),size:XE(l)}}).next(()=>r)}getEntries(e,t){let r=Qo();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Qo(),i=new Xr(Ct.comparator);return this.zn(e,t,(l,d)=>{const p=this.jn(l,d);r=r.insert(l,p),i=i.insert(l,XE(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return je.resolve();let i=new fr(Uk);t.forEach(v=>i=i.add(v));const l=IDBKeyRange.bound(T0(i.first()),T0(i.last())),d=i.getIterator();let p=d.getNext();return Qf(e).Z({index:"documentKeyIndex",range:l},(v,b,S)=>{const x=Ct.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Uk(p,x)<0;)r(p,null),p=d.getNext();p&&p.isEqual(x)&&(r(p,b),p=d.hasNext()?d.getNext():null),p?S.j(T0(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),WE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qf(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let p=Qo();for(const v of d){const b=this.jn(Ct.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=Qo();const d=Vk(t,r),p=Vk(t,_s.max());return Qf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,b,S)=>{const x=this.jn(Ct.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(x.key,x),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new JF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bk(e).get("remoteDocumentGlobalKey").next(t=>(cn(!!t),t))}Qn(e,t){return Bk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function $F(n,e){let t;if(e.document)t=lk(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ct.fromSegments(e.noDocument.path),i=qf(e.noDocument.readTime);t=br.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ft();{const r=Ct.fromSegments(e.unknownDocument.path),i=qf(e.unknownDocument.version);t=br.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Fr(r[0],r[1]);return dn.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(dn.min()))return r}return br.newInvalidDocument(e)}}function $k(n){return new QF(n)}class JF extends Lk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new xd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new fr((l,d)=>vn(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,p.readTime)),d.isValidDocument()){const v=wk(this.Yn.It,d);i=i.add(l.path.popLast()),r+=XE(v)-p.size,t.push(this.Yn.addEntry(e,l,v))}else if(r-=p.size,this.trackRemovals){const v=wk(this.Yn.It,d.convertToNoDocument(dn.min()));t.push(this.Yn.addEntry(e,l,v))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),je.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function Bk(n){return Ui(n,"remoteDocumentGlobal")}function Qf(n){return Ui(n,"remoteDocumentsV14")}function T0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vk(n,e){const t=e.documentKey.path.toArray();return[n,WE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Uk(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=vn(t[l],r[l]),i)return i;return i=vn(t.length,r.length),i||(i=vn(t[t.length-2],r[r.length-2]),i||vn(t[t.length-1],r[r.length-1]))}class eL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&h0(r.mutation,i,Is.empty(),Fr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Cn()){const i=ju();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=f0();return l.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ju();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,i){let l=Qo();const d=p0(),p=p0();return t.forEach((v,b)=>{const S=r.get(b.key);i.has(b.key)&&(void 0===S||S.mutation instanceof Yl)?l=l.insert(b.key,b):void 0!==S&&(d.set(b.key,S.mutation.getFieldMask()),h0(S.mutation,b,S.mutation.getFieldMask(),Fr.now()))}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((b,S)=>d.set(b,S)),t.forEach((b,S)=>{var x;return p.set(b,new eL(S,null!==(x=d.get(b))&&void 0!==x?x:null))}),p))}recalculateAndSaveOverlays(e,t){const r=p0();let i=new Xr((d,p)=>d-p),l=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(v=>{const b=t.get(v);if(null===b)return;let S=r.get(v)||Is.empty();S=p.applyToLocalView(b,S),r.set(v,S);const x=(i.get(p.batchId)||Cn()).add(v);i=i.insert(p.batchId,x)})}).next(()=>{const d=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),b=v.key,S=v.value,x=QR();S.forEach(Q=>{if(!l.has(Q)){const le=HR(t.get(Q),r.get(Q));null!==le&&x.set(Q,le),l=l.add(Q)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,x))}return je.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ct.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):RA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):je.resolve(ju());let p=-1,v=l;return d.next(b=>je.forEach(b,(S,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),l.get(S)?je.resolve():this.getBaseDocument(e,S,x).next(Q=>{v=v.insert(S,Q)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,v,b,Cn())).next(S=>({batchId:p,changes:XR(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(r=>{let i=f0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=f0();return this.indexManager.getCollectionParents(e,i).next(d=>je.forEach(d,p=>{const v=(b=t,S=p.child(i),new Wl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(b=>{b.forEach((S,x)=>{l=l.insert(S,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,v)=>{const b=v.getKey();null===i.get(b)&&(i=i.insert(b,br.newInvalidDocument(b)))});let d=f0();return i.forEach((p,v)=>{const b=l.get(p);void 0!==b&&h0(b.mutation,v,Is.empty(),Fr.now()),OA(t,v)&&(d=d.insert(p,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):je.resolve(br.newInvalidDocument(t))}}class tL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return je.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Vi(r.createTime)}),je.resolve()}getNamedQuery(e,t){return je.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:HA(r.bundledQuery),readTime:Vi(r.readTime)}),je.resolve();var r}}class nL{constructor(){this.overlays=new Xr(Ct.comparator),this.es=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ju();return je.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),je.resolve()}getOverlaysForCollection(e,t,r){const i=ju(),l=t.length+1,d=new Ct(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,b=v.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&v.largestBatchId>r&&i.set(v.getKey(),v)}return je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Xr((b,S)=>b-S);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=l.get(b.largestBatchId);null===S&&(S=ju(),l=l.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const p=ju(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((b,S)=>p.set(b,S)),!(p.size()>=i)););return je.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new jA(t,r));let l=this.es.get(t);void 0===l&&(l=Cn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class qA{constructor(){this.ns=new fr(ji.ss),this.rs=new fr(ji.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ji(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ji(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ct(new Gn([])),r=new ji(t,e),i=new ji(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ct(new Gn([])),r=new ji(t,e),i=new ji(t,e+1);let l=Cn();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new ji(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ji{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ct.comparator(e.key,t.key)||vn(e._s,t._s)}static os(e,t){return vn(e._s,t._s)||Ct.comparator(e.key,t.key)}}class rL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new fr(ji.ss)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new VA(l,t,r,i);this.mutationQueue.push(d);for(const p of i)this.gs=this.gs.add(new ji(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return je.resolve(d)}lookupMutationBatch(e,t){return je.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return je.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ji(t,0),i=new ji(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const p=this.ys(d._s);l.push(p)}),je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(vn);return t.forEach(i=>{const l=new ji(i,0),d=new ji(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],p=>{r=r.add(p._s)})}),je.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Ct.isDocumentKey(l)||(l=l.child(""));const d=new ji(new Ct(l),0);let p=new fr(vn);return this.gs.forEachWhile(v=>{const b=v.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(v._s)),!0)},d),je.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){cn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return je.forEach(t.mutations,i=>{const l=new ji(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ji(t,0),i=this.gs.firstAfterOrEqual(r);return je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return je.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iL{constructor(e){this.Es=e,this.docs=new Xr(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return je.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=Qo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():br.newInvalidDocument(i))}),je.resolve(r)}getAllFromCollection(e,t,r){let i=Qo();const l=new Ct(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||EA(uR(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ft()}As(e,t){return je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oL(this)}getSize(e){return je.resolve(this.size)}}class oL extends Lk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),je.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class sL{constructor(e){this.persistence=e,this.Rs=new xd(t=>jf(t),l0),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qA,this.targetCount=0,this.vs=Xf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),je.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Xf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.Dn(t),je.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),je.waitFor(l).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return je.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),je.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),je.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return je.resolve(r)}containsKey(e,t){return je.resolve(this.Ps.containsKey(t))}}class Hk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Xo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new sL(this),this.indexManager=new zF,this.remoteDocumentCache=new iL(r=>this.referenceDelegate.xs(r)),this.It=new Ik(t),this.Ns=new tL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new rL(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){dt("MemoryPersistence","Starting transaction:",e);const i=new aL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return je.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class aL extends cR{constructor(e){super(),this.currentSequenceNumber=e}}class eC{constructor(e){this.persistence=e,this.Fs=new qA,this.$s=null}static Bs(e){return new eC(e)}get Ls(){if(this.$s)return this.$s;throw Ft()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),je.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),je.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Ls,r=>{const i=Ct.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,dn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return je.or([()=>je.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uL{constructor(e){this.It=e}$(e,t,r,i){const l=new PE("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gk,{unique:!0}),p.createObjectStore("documentMutations"),Gk(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=je.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Gk(e)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",b)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(p,v){return v.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gk,{unique:!0});const S=v.store("mutations"),x=b.map(Q=>S.put(Q));return je.waitFor(x)})}(e,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:OF});v.createIndex("collectionPathOverlayIndex",PF,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",NF,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:bF});v.createIndex("documentKeyIndex",EF),v.createIndex("collectionGroupIndex",CF)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:xF}).createIndex("sequenceNumberIndex",MF,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:RF}).createIndex("documentKeyIndex",kF,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=XE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>je.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(p=>je.forEach(p,v=>{cn(v.userId===l.userId);const b=Wf(this.It,v);return kk(e,l.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,p)=>{const v=new Gn(d),b=[0,No(v)];l.push(t.get(b).next(S=>S?je.resolve():t.put({targetId:0,path:No(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>je.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:AF});const r=t.store("collectionParents"),i=new zA,l=d=>{if(i.add(d)){const p=d.lastSegment(),v=d.popLast();return r.put({collectionId:p,parent:No(v)})}};return t.store("remoteDocuments").Z({X:!0},(d,p)=>{const v=new Gn(d);return l(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,p,v],b)=>{const S=Gu(p);return l(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=w0(i),d=bk(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const p=t.store("remoteDocumentsV14"),v=(b=d,b.document?new Ct(Gn.fromString(b.document.name).popFirst(5)):b.noDocument?Ct.fromSegments(b.noDocument.path):b.unknownDocument?Ct.fromSegments(b.unknownDocument.path):Ft()).path.toArray();var b;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(S))}).next(()=>je.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=$k(this.It),l=new Hk(eC.Bs,this.It.re);return r.W().next(d=>{const p=new Map;return d.forEach(v=>{var b;let S=null!==(b=p.get(v.userId))&&void 0!==b?b:Cn();Wf(this.It,v).keys().forEach(x=>S=S.add(x)),p.set(v.userId,S)}),je.forEach(p,(v,b)=>{const S=new Bi(b),x=YE.oe(this.It,S),Q=l.getIndexManager(S),le=QE.oe(S,this.It,Q,l.referenceDelegate);return new jk(i,le,x,Q).recalculateAndSaveOverlaysForDocumentKeys(new BA(t,Xo.at),v).next()})})}}function Gk(n){n.createObjectStore("targetDocuments",{keyPath:TF}).createIndex("documentTargetsIndex",SF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DF,{unique:!0}),n.createObjectStore("targetGlobal")}const WA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class YA{constructor(e,t,r,i,l,d,p,v,b,S,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=p,this.Js=b,this.Ys=S,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Q=>Promise.resolve(),!YA.C())throw new at(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XF(this,i),this.ii=t+"main",this.It=new Ik(v),this.ri=new Ka(this.ii,this.Xs,new uL(this.It)),this.Cs=new WF(this.referenceDelegate,this.It),this.remoteDocumentCache=$k(this.It),this.Ns=new BF,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(We.FAILED_PRECONDITION,WA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Xo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ed(e))return dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return S0(e).get("owner").next(t=>je.resolve(this.mi(t)))}gi(e){return tC(e).delete(this.clientId)}yi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ui(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),p=l.filter(v=>-1===d.indexOf(v));return je.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?je.resolve(!0):S0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new at(We.FAILED_PRECONDITION,WA);return!1}}return!(!this.networkEnabled||!this.inForeground)||tC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new BA(t,Xo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>tC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return QE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qF(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return YE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){dt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?LF:14===d?_k:13===d?vk:12===d?FF:11===d?yk:void Ft();var d;let p;return this.ri.runTransaction(e,i,l,v=>(p=new BA(v,this.Ss?this.Ss.next():Xo.at),"readwrite-primary"===t?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new at(We.FAILED_PRECONDITION,lR);return r(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(e){return S0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new at(We.FAILED_PRECONDITION,WA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return S0(e).put("owner",t)}static C(){return Ka.C()}_i(e){const t=S0(e);return t.get("owner").next(r=>this.mi(r)?(dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):je.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ri(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return dt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ri("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ri("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function S0(n){return Ui(n,"owner")}function tC(n){return Ui(n,"clientMetadata")}function ZA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Cn(),i=Cn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new KA(e,t.fromCache,r,i)}}class zk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(RR(t))return je.resolve(null);let r=Po(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=VE(t,null,"F"),r=Po(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Cn(...l);return this.Ni.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const b=this.Fi(t,p);return this.$i(t,b,d,v.readTime)?this.ki(e,VE(t,null,"F")):this.Bi(e,b,t,v)}))})))}Oi(e,t,r,i){return RR(t)||i.isEqual(dn.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(IA()<=qn.in.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kA(t)),this.Bi(e,d,t,aR(i,-1)))})}Fi(e,t){let r=new fr(PR(e));return t.forEach((i,l)=>{OA(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return IA()<=qn.in.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",kA(t)),this.Ni.getDocumentsMatchingQuery(e,t,_s.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class lL{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Xr(vn),this.qi=new xd(l=>jf(l),l0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function qk(n,e,t,r){return new lL(n,e,t,r)}function Wk(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Ce.Z)(function*(n,e){const t=St(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let v=Cn();for(const b of i){d.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}for(const b of l){p.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(b=>({ji:b,removedBatchIds:d,addedBatchIds:p}))})})}),XA.apply(this,arguments)}function cL(n,e){const t=St(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,b){const S=v.batch,x=S.keys();let Q=je.resolve();return x.forEach(le=>{Q=Q.next(()=>b.getEntry(p,le)).next(Ae=>{const tt=v.docVersions.get(le);cn(null!==tt),Ae.version.compareTo(tt)<0&&(S.applyToRemoteDocument(Ae,v),Ae.isValidDocument()&&(Ae.setReadTime(v.commitVersion),b.addEntry(Ae)))})}),Q.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Cn();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Yk(n){const e=St(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function dL(n,e){const t=St(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((S,x)=>{const Q=i.get(x);if(!Q)return;p.push(t.Cs.removeMatchingKeys(l,S.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(l,S.addedDocuments,x)));let le=Q.withSequenceNumber(l.currentSequenceNumber);var Ae,tt,Ke;e.targetMismatches.has(x)?le=le.withResumeToken(Ci.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):S.resumeToken.approximateByteSize()>0&&(le=le.withResumeToken(S.resumeToken,r)),i=i.insert(x,le),tt=le,Ke=S,(0===(Ae=Q).resumeToken.approximateByteSize()||tt.snapshotVersion.toMicroseconds()-Ae.snapshotVersion.toMicroseconds()>=3e8||Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(l,le))});let v=Qo(),b=Cn();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),p.push(Zk(l,d,e.documentUpdates).next(S=>{v=S.Wi,b=S.zi})),!r.isEqual(dn.min())){const S=t.Cs.getLastRemoteSnapshotVersion(l).next(x=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(S)}return je.waitFor(p).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,b)).next(()=>v)}).then(l=>(t.Ui=i,l))}function Zk(n,e,t){let r=Cn(),i=Cn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Qo();return t.forEach((p,v)=>{const b=l.get(p);v.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(dn.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||0===v.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):dt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",v.version)}),{Wi:d,zi:i}})}function hL(n,e){const t=St(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cm(n,e){const t=St(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,je.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Md(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Dm(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Ce.Z)(function*(n,e,t){const r=St(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ed(d))throw d;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),QA.apply(this,arguments)}function nC(n,e,t){const r=St(n);let i=dn.min(),l=Cn();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,v,b){const S=St(p),x=S.qi.get(b);return void 0!==x?je.resolve(S.Ui.get(x)):S.Cs.getTargetData(v,b)}(r,d,Po(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{l=v})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:dn.min(),t?l:Cn())).next(p=>(Qk(r,OR(e),p),{documents:p,Hi:l})))}function Kk(n,e){const t=St(n),r=St(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function Xk(n,e){const t=St(n),r=t.Ki.get(e)||dn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,aR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Qk(t,e,i),i))}function Qk(n,e,t){let r=n.Ki.get(e)||dn.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function JA(){return JA=(0,Ce.Z)(function*(n,e,t,r){const i=St(n);let l=Cn(),d=Qo();for(const b of t){const S=e.Ji(b.metadata.name);b.document&&(l=l.add(S));const x=e.Yi(b);x.setReadTime(e.Xi(b.metadata.readTime)),d=d.insert(S,x)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield Cm(i,(b=r,Po(pm(Gn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Zk(b,p,d).next(S=>(p.apply(b),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(b,v.targetId).next(()=>i.Cs.addMatchingKeys(b,l,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,S.Wi,S.zi)).next(()=>S.Wi)))}),JA.apply(this,arguments)}function pL(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,Ce.Z)(function*(n,e,t=Cn()){const r=yield Cm(n,Po(HA(e.bundledQuery))),i=St(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Vi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const p=r.withResumeToken(Ci.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(l,p).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),ex.apply(this,arguments)}function Jk(n,e){return`firestore_clients_${n}_${e}`}function eO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tx(n,e){return`firestore_targets_${n}_${e}`}class rC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new at(i.error.code,i.error.message))),d?new rC(e,t,i.state,l):(ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class A0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new at(r.error.code,r.error.message))),l?new A0(e,r.state,i):(ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=GE();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=mR(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new iC(e,l):(ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nx(t.clientId,t.onlineState):(ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rx{constructor(){this.activeTargetIds=GE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xr(vn),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=Jk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new rx),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(Jk(e.persistenceKey,i));if(l){const d=iC.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tx(this.persistenceKey,e));if(r){const i=A0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tx(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return dt("SharedClientState","READ",e,t),t}setItem(e,t){dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(dt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=Xo.at;if(null!=l)try{const p=JSON.parse(l);cn("number"==typeof p),d=p}catch(p){ri("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);i!==Xo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new rC(this.currentUser,e,t,r),l=eO(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=eO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=tx(this.persistenceKey,e),l=new A0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return iC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return rC.Zi(new Bi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return A0.Zi(i,t)}yr(e){return nx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],p=[];return l.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Br(d,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=GE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class tO{constructor(){this.Lr=new rx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new rx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gL{qr(e){}shutdown(){}}class nO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class vL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);dt("RestConnection","Sending: ",d,r);const p={};return this.lo(p,i,l),this.fo(e,d,p,r).then(v=>(dt("RestConnection","Received: ",v),v),v=>{throw Nf("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${mL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const p=new mN;p.setWithCredentials(!0),p.listenOnce(X_.COMPLETE,()=>{var b;try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const S=p.getResponseJson();dt("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Pf.TIMEOUT:dt("Connection",'RPC "'+e+'" timed out'),d(new at(We.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const x=p.getStatus();if(dt("Connection",'RPC "'+e+'" failed with status:',x,"response text:",p.getResponseText()),x>0){let Q=p.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const le=null===(b=Q)||void 0===b?void 0:b.error;if(le&&le.status&&le.message){const Ae=function(tt){const Ke=tt.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(Ke)>=0?Ke:We.UNKNOWN}(le.status);d(new at(Ae,le.message))}else d(new at(We.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new at(We.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{dt("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Z_(),d=K_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new gN({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=i.join("");dt("Connection","Creating WebChannel: "+v,p);const b=l.createWebChannel(v,p);let S=!1,x=!1;const Q=new yL({Hr:Ae=>{x?dt("Connection","Not sending because WebChannel is closed:",Ae):(S||(dt("Connection","Opening WebChannel transport."),b.open(),S=!0),dt("Connection","WebChannel sending:",Ae),b.send(Ae))},Jr:()=>b.close()}),le=(Ae,tt,Ke)=>{Ae.listen(tt,qt=>{try{Ke(qt)}catch(Zt){setTimeout(()=>{throw Zt},0)}})};return le(b,RE.EventType.OPEN,()=>{x||dt("Connection","WebChannel transport opened.")}),le(b,RE.EventType.CLOSE,()=>{x||(x=!0,dt("Connection","WebChannel transport closed"),Q.io())}),le(b,RE.EventType.ERROR,Ae=>{x||(x=!0,Nf("Connection","WebChannel transport errored:",Ae),Q.io(new at(We.UNAVAILABLE,"The operation could not be completed")))}),le(b,RE.EventType.MESSAGE,Ae=>{var tt;if(!x){const Ke=Ae.data[0];cn(!!Ke);const qt=Ke,Zt=qt.error||(null===(tt=qt[0])||void 0===tt?void 0:tt.error);if(Zt){dt("Connection","WebChannel received error:",Zt);const jt=Zt.status;let Bt=function(mn){const Wr=ci[mn];if(void 0!==Wr)return ZR(Wr)}(jt),rn=Zt.message;void 0===Bt&&(Bt=We.INTERNAL,rn="Unknown error status: "+jt+" with message "+Zt.message),x=!0,Q.io(new at(Bt,rn)),b.close()}else dt("Connection","WebChannel received:",Ke),Q.ro(Ke)}}),le(d,Q_.STAT_EVENT,Ae=>{Ae.stat===um.PROXY?dt("Connection","Detected buffering proxy"):Ae.stat===um.NOPROXY&&dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Q.so()},0),Q}}function rO(){return typeof window<"u"?window:null}function oC(){return typeof document<"u"?document:null}function x0(n){return new lF(n,!0)}class ox{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class iO{constructor(e,t,r,i,l,d,p,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ox(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ce.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===We.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new at(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ce.Z)(function*(){e.state=0,e.start()}))}Qo(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _L extends iO{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function hF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Ft(),i=e.targetChange.targetIds||[],l=function(v,b){return v.gt?(cn(void 0===b||"string"==typeof b),Ci.fromBase64String(b||"")):(cn(void 0===b||b instanceof Uint8Array),Ci.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const b=void 0===v.code?We.UNKNOWN:ZR(v.code);return new at(b,v.message||"")}(d);t=new ek(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Hu(n,r.document.name),l=Vi(r.document.updateTime),d=new oo({mapValue:{fields:r.document.fields}}),p=br.newFoundDocument(i,l,d);t=new zE(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Hu(n,r.document),l=r.readTime?Vi(r.readTime):dn.min(),d=br.newNoDocument(i,l);t=new zE([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Hu(n,r.document);t=new zE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ft();{const r=e.filter,l=new tF(r.count||0);t=new JR(r.targetId,l)}}var v;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return dn.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?dn.min():l.readTime?Vi(l.readTime):dn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=_0(this.It),t.addTarget=function(i,l){let d;const p=l.target;return d=$E(p)?{documents:ck(i,p)}:{query:$A(i,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=ik(i,l.resumeToken):l.snapshotVersion.compareTo(dn.min())>0&&(d.readTime=y0(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function pF(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=_0(this.It),t.removeTarget=e,this.Bo(t)}}class IL extends iO{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function fF(n,e){return n&&n.length>0?(cn(void 0!==e),n.map(t=>function(r,i){let l=Vi(r.updateTime?r.updateTime:i);return l.isEqual(dn.min())&&(l=Vi(i)),new QN(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.Zo(r,t)}return cn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_0(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>I0(this.It,r))};this.Bo(t)}}class wL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new at(We.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new at(We.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new at(We.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class EL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ri(t),this.ou=!1):dt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class CL{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(p=>{r.enqueueAndForget((0,Ce.Z)(function*(){var v;Zl(d)&&(dt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ce.Z)(function*(b){const S=St(b);S._u.add(4),yield Tm(S),S.gu.set("Unknown"),S._u.delete(4),yield M0(S)}),function(b){return v.apply(this,arguments)})(d))}))}),this.gu=new EL(r,i)}}function M0(n){return ax.apply(this,arguments)}function ax(){return ax=(0,Ce.Z)(function*(n){if(Zl(n))for(const e of n.wu)yield e(!0)}),ax.apply(this,arguments)}function Tm(n){return ux.apply(this,arguments)}function ux(){return ux=(0,Ce.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ux.apply(this,arguments)}function sC(n,e){const t=St(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),dx(t)?cx(t):Am(t).ko()&&lx(t,e))}function R0(n,e){const t=St(n),r=Am(t);t.du.delete(e),r.ko()&&oO(t,e),0===t.du.size&&(r.ko()?r.Fo():Zl(t)&&t.gu.set("Unknown"))}function lx(n,e){n.yu.Mt(e.targetId),Am(n).zo(e)}function oO(n,e){n.yu.Mt(e),Am(n).Ho(e)}function cx(n){n.yu=new sF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Am(n).start(),n.gu.uu()}function dx(n){return Zl(n)&&!Am(n).No()&&n.du.size>0}function Zl(n){return 0===St(n)._u.size}function sO(n){n.yu=void 0}function DL(n){return hx.apply(this,arguments)}function hx(){return hx=(0,Ce.Z)(function*(n){n.du.forEach((e,t)=>{lx(n,e)})}),hx.apply(this,arguments)}function TL(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,Ce.Z)(function*(n,e){sO(n),dx(n)?(n.gu.hu(e),cx(n)):n.gu.set("Unknown")}),fx.apply(this,arguments)}function SL(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,Ce.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof ek&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(i,l){const d=l.cause;for(const p of l.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i.du.delete(p),i.yu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield aC(n,r)}else if(e instanceof zE?n.yu.Gt(e):e instanceof JR?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(dn.min()))try{const r=yield Yk(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.te(l);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.du.get(v);b&&i.du.set(v,b.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const v=i.du.get(p);if(!v)return;i.du.set(p,v.withResumeToken(Ci.EMPTY_BYTE_STRING,v.snapshotVersion)),oO(i,p);const b=new Md(v.target,p,1,v.sequenceNumber);lx(i,b)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){dt("RemoteStore","Failed to raise snapshot:",r),yield aC(n,r)}var r}),px.apply(this,arguments)}function aC(n,e,t){return gx.apply(this,arguments)}function gx(){return gx=(0,Ce.Z)(function*(n,e,t){if(!Ed(e))throw e;n._u.add(1),yield Tm(n),n.gu.set("Offline"),t||(t=()=>Yk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){dt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield M0(n)}))}),gx.apply(this,arguments)}function aO(n,e){return e().catch(t=>aC(n,t,e))}function Sm(n){return mx.apply(this,arguments)}function mx(){return mx=(0,Ce.Z)(function*(n){const e=St(n),t=Od(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;AL(e);)try{const i=yield hL(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,xL(e,i)}catch(i){yield aC(e,i)}uO(e)&&lO(e)}),mx.apply(this,arguments)}function AL(n){return Zl(n)&&n.fu.length<10}function xL(n,e){n.fu.push(e);const t=Od(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function uO(n){return Zl(n)&&!Od(n).No()&&n.fu.length>0}function lO(n){Od(n).start()}function ML(n){return yx.apply(this,arguments)}function yx(){return yx=(0,Ce.Z)(function*(n){Od(n).eu()}),yx.apply(this,arguments)}function RL(n){return vx.apply(this,arguments)}function vx(){return vx=(0,Ce.Z)(function*(n){const e=Od(n);for(const t of n.fu)e.Xo(t.mutations)}),vx.apply(this,arguments)}function kL(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,Ce.Z)(function*(n,e,t){const r=n.fu.shift(),i=UA.from(r,e,t);yield aO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sm(n)}),_x.apply(this,arguments)}function OL(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Ce.Z)(function*(n,e){var t;e&&Od(n).Yo&&(yield(t=(0,Ce.Z)(function*(r,i){if(YR(l=i.code)&&l!==We.ABORTED){const d=r.fu.shift();Od(r).Mo(),yield aO(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Sm(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),uO(n)&&lO(n)}),Ix.apply(this,arguments)}function cO(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,Ce.Z)(function*(n,e){const t=St(n);t.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const r=Zl(t);t._u.add(3),yield Tm(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield M0(t)}),wx.apply(this,arguments)}function bx(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ce.Z)(function*(n,e){const t=St(n);e?(t._u.delete(2),yield M0(t)):e||(t._u.add(2),yield Tm(t),t.gu.set("Unknown"))}),Ex.apply(this,arguments)}function Am(n){return n.pu||(n.pu=function(e,t,r){const i=St(e);return i.su(),new _L(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:DL.bind(null,n),Zr:TL.bind(null,n),Wo:SL.bind(null,n)}),n.wu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.pu.Mo(),dx(n)?cx(n):n.gu.set("Unknown")):(yield n.pu.stop(),sO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Od(n){return n.Iu||(n.Iu=function(e,t,r){const i=St(e);return i.su(),new IL(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:ML.bind(null,n),Zr:OL.bind(null,n),tu:RL.bind(null,n),Zo:kL.bind(null,n)}),n.wu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Iu.Mo(),yield Sm(n)):(yield n.Iu.stop(),n.fu.length>0&&(dt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Cx{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,p=new Cx(e,t,d,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(n,e){if(ri("AsyncQueue",`${e}: ${n}`),Ed(n))return new at(We.UNAVAILABLE,`${e}: ${n}`);throw n}class Mm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ct.comparator(t.key,r.key):(t,r)=>Ct.comparator(t.key,r.key),this.keyedMap=f0(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new Mm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Mm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dO{constructor(){this.Tu=new Xr(Ct.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ft():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rm{constructor(e,t,r,i,l,d,p,v,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Rm(e,t,Mm.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&c0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PL{constructor(){this.Au=void 0,this.listeners=[]}}class NL{constructor(){this.queries=new xd(e=>kR(e),c0),this.onlineState="Unknown",this.Ru=new Set}}function Dx(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ce.Z)(function*(n,e){const t=St(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new PL),i)try{l.Au=yield t.onListen(r)}catch(d){const p=xm(d,`Initialization of query '${kA(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&xx(t)}),Tx.apply(this,arguments)}function Sx(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Ce.Z)(function*(n,e){const t=St(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ax.apply(this,arguments)}function FL(n,e){const t=St(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.Pu(i)&&(r=!0);d.Au=i}}r&&xx(t)}function LL(n,e,t){const r=St(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function xx(n){n.Ru.forEach(e=>{e.next()})}class Mx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Rm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class $L{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class hO{constructor(e){this.It=e}Ji(e){return Hu(this.It,e)}Yi(e){return e.metadata.exists?lk(this.It,e.document,!1):br.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Vi(e)}}class BL{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fO(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Gn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new hO(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||Cn()).add(l);t.set(d,p)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function fL(n,e,t,r){return JA.apply(this,arguments)}(e.localStore,new hO(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield pL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function fO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pO{constructor(e){this.key=e}}class gO{constructor(e){this.key=e}}class mO{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Cn(),this.mutatedKeys=Cn(),this.Gu=PR(e),this.Qu=new Mm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new dO,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const Q=i.get(S),le=OA(this.query,x)?x:null,Ae=!!Q&&this.mutatedKeys.has(Q.key),tt=!!le&&(le.hasLocalMutations||this.mutatedKeys.has(le.key)&&le.hasCommittedMutations);let Ke=!1;Q&&le?Q.data.isEqual(le.data)?Ae!==tt&&(r.track({type:3,doc:le}),Ke=!0):this.Hu(Q,le)||(r.track({type:2,doc:le}),Ke=!0,(v&&this.Gu(le,v)>0||b&&this.Gu(le,b)<0)&&(p=!0)):!Q&&le?(r.track({type:0,doc:le}),Ke=!0):Q&&!le&&(r.track({type:1,doc:Q}),Ke=!0,(v||b)&&(p=!0)),Ke&&(le?(d=d.add(le),l=tt?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,$i:p,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((b,S)=>function(x,Q){const le=Ae=>{switch(Ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return le(x)-le(Q)}(b.type,S.type)||this.Gu(b.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==l.length||v?{snapshot:new Rm(this.query,e.Qu,i,l,e.mutatedKeys,0===p,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Cn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new gO(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new pO(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Cn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Rm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class VL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UL{constructor(e){this.key=e,this.nc=!1}}class jL{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new xd(p=>kR(p),c0),this.rc=new Map,this.oc=new Set,this.uc=new Xr(Ct.comparator),this.cc=new Map,this.ac=new qA,this.hc={},this.lc=new Map,this.fc=Xf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function HL(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Ce.Z)(function*(n,e){const t=eM(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield Cm(t.localStore,Po(e));t.isPrimaryClient&&sC(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield kx(t,e,r,"current"===p,d.resumeToken)}return i}),Rx.apply(this,arguments)}function kx(n,e,t,r,i){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Ce.Z)(function*(n,e,t,r,i){n._c=(x,Q,le)=>{return(Ae=(0,Ce.Z)(function*(tt,Ke,qt,Zt){let jt=Ke.view.Wu(qt);jt.$i&&(jt=yield nC(tt.localStore,Ke.query,!1).then(({documents:mn})=>Ke.view.Wu(mn,jt)));const Bt=Zt&&Zt.targetChanges.get(Ke.targetId),rn=Ke.view.applyChanges(jt,tt.isPrimaryClient,Bt);return Hx(tt,Ke.targetId,rn.Xu),rn.snapshot}),function(tt,Ke,qt,Zt){return Ae.apply(this,arguments)})(n,x,Q,le);var Ae};const l=yield nC(n.localStore,e,!0),d=new mO(e,l.Hi),p=d.Wu(l.documents),v=m0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=d.applyChanges(p,n.isPrimaryClient,v);Hx(n,t,b.Xu);const S=new VL(e,t,d);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),Ox.apply(this,arguments)}function GL(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,Ce.Z)(function*(n,e){const t=St(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!c0(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),R0(t.remoteStore,r.targetId),km(t,r.targetId)}).catch(bd))):(km(t,r.targetId),yield Dm(t.localStore,r.targetId,!0))}),Px.apply(this,arguments)}function Nx(){return Nx=(0,Ce.Z)(function*(n,e,t){const r=tM(n);try{const i=yield function(l,d){const p=St(l),v=Fr.now(),b=d.reduce((Q,le)=>Q.add(le.key),Cn());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let le=Qo(),Ae=Cn();return p.Gi.getEntries(Q,b).next(tt=>{le=tt,le.forEach((Ke,qt)=>{qt.isValidDocument()||(Ae=Ae.add(Ke))})}).next(()=>p.localDocuments.getOverlayedDocuments(Q,le)).next(tt=>{S=tt;const Ke=[];for(const qt of d){const Zt=eF(qt,S.get(qt.key).overlayedDocument);null!=Zt&&Ke.push(new Yl(qt.key,Zt,ER(Zt.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(Q,v,Ke,d)}).next(tt=>{x=tt;const Ke=tt.applyToLocalDocumentSet(S,Ae);return p.documentOverlayCache.saveOverlays(Q,tt.batchId,Ke)})}).then(()=>({batchId:x.batchId,changes:XR(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,p){let v=l.hc[l.currentUser.toKey()];v||(v=new Xr(vn)),v=v.insert(d,p),l.hc[l.currentUser.toKey()]=v}(r,i.batchId,t),yield Kl(r,i.changes),yield Sm(r.remoteStore)}catch(i){const l=xm(i,"Failed to persist write");t.reject(l)}}),Nx.apply(this,arguments)}function yO(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ce.Z)(function*(n,e){const t=St(n);try{const r=yield dL(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?cn(d.nc):i.removedDocuments.size>0&&(cn(d.nc),d.nc=!1))}),yield Kl(t,r,e)}catch(r){yield bd(r)}}),Fx.apply(this,arguments)}function vO(n,e,t){const r=St(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const p=d.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(l,d){const p=St(l);p.onlineState=d;let v=!1;p.queries.forEach((b,S)=>{for(const x of S.listeners)x.bu(d)&&(v=!0)}),v&&xx(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qL(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ce.Z)(function*(n,e,t){const r=St(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Xr(Ct.comparator);d=d.insert(l,br.newNoDocument(l,dn.min()));const p=Cn().add(l),v=new g0(dn.min(),new Map,new fr(vn),d,p);yield yO(r,v),r.uc=r.uc.remove(l),r.cc.delete(e),Gx(r)}else yield Dm(r.localStore,e,!1).then(()=>km(r,e,t)).catch(bd)}),Lx.apply(this,arguments)}function WL(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,Ce.Z)(function*(n,e){const t=St(n),r=e.batch.batchId;try{const i=yield cL(t.localStore,e);jx(t,r,null),Ux(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kl(t,i)}catch(i){yield bd(i)}}),$x.apply(this,arguments)}function YL(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Ce.Z)(function*(n,e,t){const r=St(n);try{const i=yield function(l,d){const p=St(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return p.mutationQueue.lookupMutationBatch(v,d).next(S=>(cn(null!==S),b=S.keys(),p.mutationQueue.removeMutationBatch(v,S))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,b,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>p.localDocuments.getDocuments(v,b))})}(r.localStore,e);jx(r,e,t),Ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kl(r,i)}catch(i){yield bd(i)}}),Bx.apply(this,arguments)}function Vx(){return Vx=(0,Ce.Z)(function*(n,e){const t=St(n);Zl(t.remoteStore)||dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=St(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=xm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Vx.apply(this,arguments)}function Ux(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function jx(n,e,t){const r=St(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||_O(n,r)})}function _O(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(R0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Gx(n))}function Hx(n,e,t){for(const r of t)r instanceof pO?(n.ac.addReference(r.key,e),KL(n,r)):r instanceof gO?(dt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||_O(n,r.key)):Ft()}function KL(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(dt("SyncEngine","New document in limbo: "+t),n.oc.add(r),Gx(n))}function Gx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ct(Gn.fromString(e)),r=n.fc.next();n.cc.set(r,new UL(t)),n.uc=n.uc.insert(t,r),sC(n.remoteStore,new Md(Po(pm(t.path)),r,2,Xo.at))}}function Kl(n,e,t){return zx.apply(this,arguments)}function zx(){return zx=(0,Ce.Z)(function*(n,e,t){const r=St(n),i=[],l=[],d=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,v)=>{d.push(r._c(v,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const S=KA.Ci(v.targetId,b);l.push(S)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(p=(0,Ce.Z)(function*(v,b){const S=St(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>je.forEach(b,Q=>je.forEach(Q.Si,le=>S.persistence.referenceDelegate.addReference(x,Q.targetId,le)).next(()=>je.forEach(Q.Di,le=>S.persistence.referenceDelegate.removeReference(x,Q.targetId,le)))))}catch(x){if(!Ed(x))throw x;dt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const Q=x.targetId;if(!x.fromCache){const le=S.Ui.get(Q),tt=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion);S.Ui=S.Ui.insert(Q,tt)}}}),function(v,b){return p.apply(this,arguments)})(r.localStore,l))}),zx.apply(this,arguments)}function XL(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,Ce.Z)(function*(n,e){const t=St(n);if(!t.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const r=yield Wk(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(p=>{p.reject(new at(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kl(t,r.ji)}var i}),qx.apply(this,arguments)}function QL(n,e){const t=St(n),r=t.cc.get(e);if(r&&r.nc)return Cn().add(r.key);{let i=Cn();const l=t.rc.get(e);if(!l)return i;for(const d of l){const p=t.ic.get(d);i=i.unionWith(p.view.ju)}return i}}function JL(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Ce.Z)(function*(n,e){const t=St(n),r=yield nC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Hx(t,e.targetId,i.Xu),i}),Wx.apply(this,arguments)}function e$(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Ce.Z)(function*(n,e){const t=St(n);return Xk(t.localStore,e).then(r=>Kl(t,r))}),Yx.apply(this,arguments)}function t$(n,e,t,r){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ce.Z)(function*(n,e,t,r){const i=St(n),l=yield function(d,p){const v=St(d),b=St(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.Tn(S,p).next(x=>x?v.localDocuments.getDocuments(S,x):je.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield Sm(i.remoteStore):"acknowledged"===t||"rejected"===t?(jx(i,e,r||null),Ux(i,e),p=e,St(St(i.localStore).mutationQueue).An(p)):Ft(),yield Kl(i,l)):dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zx.apply(this,arguments)}function Kx(){return Kx=(0,Ce.Z)(function*(n,e){const t=St(n);if(eM(t),tM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield IO(t,r.toArray());t.dc=!0,yield bx(t.remoteStore,!0);for(const l of i)sC(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(km(t,d),Dm(t.localStore,d,!0))),R0(t.remoteStore,d)}),yield i,yield IO(t,r),function(l){const d=St(l);d.cc.forEach((p,v)=>{R0(d.remoteStore,v)}),d.ac.fs(),d.cc=new Map,d.uc=new Xr(Ct.comparator)}(t),t.dc=!1,yield bx(t.remoteStore,!1)}}),Kx.apply(this,arguments)}function IO(n,e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Ce.Z)(function*(n,e,t){const r=St(n),i=[],l=[];for(const d of e){let p;const v=r.rc.get(d);if(v&&0!==v.length){p=yield Cm(r.localStore,Po(v[0]));for(const b of v){const S=r.ic.get(b),x=yield JL(r,S);x.snapshot&&l.push(x.snapshot)}}else{const b=yield Kk(r.localStore,d);p=yield Cm(r.localStore,b),yield kx(r,wO(b),d,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(l),i}),Xx.apply(this,arguments)}function wO(n){return MR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function r$(n){const e=St(n);return St(St(e.localStore).persistence).vi()}function i$(n,e,t,r){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Ce.Z)(function*(n,e,t,r){const i=St(n);if(i.dc)return void dt("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Xk(i.localStore,OR(l[0])),p=g0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ci.EMPTY_BYTE_STRING);yield Kl(i,d,p);break}case"rejected":yield Dm(i.localStore,e,!0),km(i,e,r);break;default:Ft()}}),Qx.apply(this,arguments)}function o$(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Ce.Z)(function*(n,e,t){const r=eM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){dt("SyncEngine","Adding an already active target "+i);continue}const l=yield Kk(r.localStore,i),d=yield Cm(r.localStore,l);yield kx(r,wO(l),d.targetId,!1,d.resumeToken),sC(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield Dm(r.localStore,i,!1).then(()=>{R0(r.remoteStore,i),km(r,i)}).catch(bd))}}),Jx.apply(this,arguments)}function eM(n){const e=St(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qL.bind(null,e),e.sc.Wo=FL.bind(null,e.eventManager),e.sc.wc=LL.bind(null,e.eventManager),e}function tM(n){const e=St(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class bO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.It=x0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return qk(this.persistence,new zk,e.initialUser,this.It)}yc(e){return new Hk(eC.Bs,this.It)}gc(e){return new tO}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class EO extends bO{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield tM(r.Ac.syncEngine),yield Sm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return qk(this.persistence,new zk,e.initialUser,this.It)}Tc(e,t){return new ZF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new kN(t,this.persistence);return new RN(e.asyncQueue,r)}yc(e){const t=ZA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new YA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,rO(),oC(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new tO}}class a$ extends EO{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof ix&&(r.sharedClientState.syncEngine={Fr:t$.bind(null,i),$r:i$.bind(null,i),Br:o$.bind(null,i),vi:r$.bind(null,i),Mr:e$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ce.Z)(function*(d){yield function n$(n,e){return Kx.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=rO();if(!ix.C(t))throw new at(We.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ZA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ix(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nM{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,r.syncEngine),yield bx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NL}createDatastore(e){const t=x0(e.databaseInfo.databaseId),r=new vL(e.databaseInfo);return new wL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>vO(this.syncEngine,p,0),d=nO.C()?new nO:new gL,new CL(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,p,v,b){const S=new jL(r,i,l,d,p,v);return b&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=St(t);dt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Tm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rM(n,e,t){if(!t)throw new at(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CO(n,e,t,r){if(!0===e&&!0===r)throw new at(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DO(n){if(!Ct.isDocumentKey(n))throw new at(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TO(n){if(Ct.isDocumentKey(n))throw new at(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ft()}function Vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new at(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uC(n);throw new at(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SO(n,e){if(e<=0)throw new at(We.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const AO=new Map;class xO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new at(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new at(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class k0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new at(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new at(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _N;switch(t.type){case"gapi":return new EN(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new at(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AO.get(e);t&&(dt("ComponentProvider","Removing Datastore"),AO.delete(e),t.terminate())}(this),Promise.resolve()}}class Rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class zu extends mo{constructor(e,t,r){super(e,t,pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Ct(e))}withConverter(e){return new zu(this.firestore,e,this._path)}}function RO(n,e,...t){if(n=(0,lt.m9)(n),rM("collection","path",e),n instanceof k0){const r=Gn.fromString(e,...t);return TO(r),new zu(n,null,r)}{if(!(n instanceof Rr||n instanceof zu))throw new at(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gn.fromString(e,...t));return TO(r),new zu(n.firestore,null,r)}}function lC(n,e,...t){if(n=(0,lt.m9)(n),1===arguments.length&&(e=oR.R()),rM("doc","path",e),n instanceof k0){const r=Gn.fromString(e,...t);return DO(r),new Rr(n,null,new Ct(r))}{if(!(n instanceof Rr||n instanceof zu))throw new at(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gn.fromString(e,...t));return DO(r),new Rr(n.firestore,n instanceof zu?n.converter:null,new Ct(r))}}function kO(n,e){return n=(0,lt.m9)(n),e=(0,lt.m9)(e),(n instanceof Rr||n instanceof zu)&&(e instanceof Rr||e instanceof zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function iM(n,e){return n=(0,lt.m9)(n),e=(0,lt.m9)(e),n instanceof mo&&e instanceof mo&&n.firestore===e.firestore&&c0(n._query,e._query)&&n.converter===e.converter}function OO(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class cC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l${constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ei,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new $L(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ce.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class h${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new at(We.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(l,d){const p=St(l),v=_0(p.It)+"/documents",b={documents:d.map(le=>v0(p.It,le))},S=yield p._o("BatchGetDocuments",v,b,d.length),x=new Map;S.forEach(le=>{const Ae=function dF(n,e){return"found"in e?function(t,r){cn(!!r.found);const i=Hu(t,r.found.name),l=Vi(r.found.updateTime),d=new oo({mapValue:{fields:r.found.fields}});return br.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){cn(!!r.missing),cn(!!r.readTime);const i=Hu(t,r.missing),l=Vi(r.readTime);return br.newNoDocument(i,l)}(n,e):Ft()}(p.It,le);x.set(Ae.key.toString(),Ae)});const Q=[];return d.forEach(le=>{const Ae=x.get(le.toString());cn(!!Ae),Q.push(Ae)}),Q}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _m(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Ct.fromPath(i);e.mutations.push(new PA(l,e.precondition(l)))}),yield(r=(0,Ce.Z)(function*(i,l){const d=St(i),p=_0(d.It)+"/documents",v={writes:l.map(b=>I0(d.It,b))};yield d.ao("Commit",p,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ft();t=dn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new at(We.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dn.min())?Lr.exists(!1):Lr.updateTime(t):Lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dn.min()))throw new at(We.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lr.updateTime(t)}return Lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f${constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new ox(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ce.Z)(function*(){const t=new h$(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!r0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!YR(t)}return!1}}class p${constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=oR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ce.Z)(function*(p){dt("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(dt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new at(We.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=xm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function PO(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(l){r.isEqual(l)||(yield Wk(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),oM.apply(this,arguments)}function NO(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield aM(n);dt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>cO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>cO(e.remoteStore,l)),n.onlineComponents=e}),sM.apply(this,arguments)}function aM(n){return uM.apply(this,arguments)}function uM(){return uM=(0,Ce.Z)(function*(n){return n.offlineComponents||(dt("FirestoreClient","Using default OfflineComponentProvider"),yield PO(n,new bO)),n.offlineComponents}),uM.apply(this,arguments)}function dC(n){return lM.apply(this,arguments)}function lM(){return lM=(0,Ce.Z)(function*(n){return n.onlineComponents||(dt("FirestoreClient","Using default OnlineComponentProvider"),yield NO(n,new nM)),n.onlineComponents}),lM.apply(this,arguments)}function FO(n){return aM(n).then(e=>e.persistence)}function hC(n){return aM(n).then(e=>e.localStore)}function cM(n){return dC(n).then(e=>e.remoteStore)}function dM(n){return dC(n).then(e=>e.syncEngine)}function Om(n){return hM.apply(this,arguments)}function hM(){return hM=(0,Ce.Z)(function*(n){const e=yield dC(n),t=e.eventManager;return t.onListen=HL.bind(null,e.syncEngine),t.onUnlisten=GL.bind(null,e.syncEngine),t}),hM.apply(this,arguments)}function $O(n,e,t={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,l,d,p,v){const b=new cC({next:x=>{l.enqueueAndForget(()=>Sx(i,S));const Q=x.docs.has(d);!Q&&x.fromCache?v.reject(new at(We.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&x.fromCache&&p&&"server"===p.source?v.reject(new at(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new Mx(pm(d.path),b,{includeMetadataChanges:!0,Nu:!0});return Dx(i,S)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n,e,t={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,l,d,p,v){const b=new cC({next:x=>{l.enqueueAndForget(()=>Sx(i,S)),x.fromCache&&"server"===p.source?v.reject(new at(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new Mx(d,b,{includeMetadataChanges:!0,Nu:!0});return Dx(i,S)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}class b${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ox(this,"async_queue_retry"),this.Wc=()=>{const t=oC();t&&dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=oC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=oC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ei;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ed(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ri("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Cx.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&Ft()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function fM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class E${constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kr extends k0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new b$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VO(this),this._firestoreClient.terminate()}}function ii(n){return n._firestoreClient||VO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new NN(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new p$(n._authCredentials,n._appCheckCredentials,n._queue,r)}function UO(n,e,t){const r=new Ei;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield PO(n,t),yield NO(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===We.FAILED_PRECONDITION||d.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Nf("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function jO(n){if(n._initialized||n._terminated)throw new at(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qu(Ci.fromBase64String(e))}catch(t){throw new at(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qu(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new at(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jf{constructor(e){this._methodName=e}}class fC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const O$=/^__.*__$/;class P${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class HO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class pC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new pC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return yC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(GO(this.sa)&&O$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class N${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||x0(e)}da(e,t,r,i=!1){return new pC({sa:e,methodName:t,fa:r,path:Kr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ep(n){const e=n._freezeSettings(),t=x0(n._databaseId);return new N$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gC(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);yM("Data must be an object, but it was:",d,r);const p=WO(r,d);let v,b;if(l.merge)v=new Is(d.fieldMask),b=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const x of l.mergeFields){const Q=vM(e,x,t);if(!d.contains(Q))throw new at(We.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);ZO(S,Q)||S.push(Q)}v=new Is(S),b=d.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,b=d.fieldTransforms;return new P$(new oo(p),v,b)}class O0 extends Jf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function zO(n,e,t){return new pC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class pM extends Jf{_toFieldTransform(e){return new d0(e.path,new mm)}isEqual(e){return e instanceof pM}}class F$ extends Jf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=zO(this,e,!0),r=this._a.map(l=>tp(l,t)),i=new Hf(r);return new d0(e.path,i)}isEqual(e){return this===e}}class L$ extends Jf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=zO(this,e,!0),r=this._a.map(l=>tp(l,t)),i=new Gf(r);return new d0(e.path,i)}isEqual(e){return this===e}}class $$ extends Jf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ym(e.It,LR(e.It,this.wa));return new d0(e.path,t)}isEqual(e){return this===e}}function gM(n,e,t,r){const i=n.da(1,e,t);yM("Data must be an object, but it was:",i,r);const l=[],d=oo.empty();$f(r,(v,b)=>{const S=mC(e,v,t);b=(0,lt.m9)(b);const x=i.ca(S);if(b instanceof O0)l.push(S);else{const Q=tp(b,x);null!=Q&&(l.push(S),d.set(S,Q))}});const p=new Is(l);return new HO(d,p,i.fieldTransforms)}function mM(n,e,t,r,i,l){const d=n.da(1,e,t),p=[vM(e,r,t)],v=[i];if(l.length%2!=0)throw new at(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)p.push(vM(e,l[Q])),v.push(l[Q+1]);const b=[],S=oo.empty();for(let Q=p.length-1;Q>=0;--Q)if(!ZO(b,p[Q])){const le=p[Q];let Ae=v[Q];Ae=(0,lt.m9)(Ae);const tt=d.ca(le);if(Ae instanceof O0)b.push(le);else{const Ke=tp(Ae,tt);null!=Ke&&(b.push(le),S.set(le,Ke))}}const x=new Is(b);return new HO(S,x,d.fieldTransforms)}function qO(n,e,t,r=!1){return tp(t,n.da(r?4:3,e))}function tp(n,e){if(YO(n=(0,lt.m9)(n)))return yM("Unsupported field value:",e,n),WO(n,e);if(n instanceof Jf)return function(t,r){if(!GO(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let p=tp(d,r.aa(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return LR(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Fr.fromDate(t);return{timestampValue:y0(r.It,i)}}if(t instanceof Fr){const i=new Fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:y0(r.It,i)}}if(t instanceof fC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qu)return{bytesValue:ik(r.It,t._byteString)};if(t instanceof Rr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${uC(t)}`)}(n,e)}function WO(n,e){const t={};return fR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$f(n,(r,i)=>{const l=tp(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function YO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fr||n instanceof fC||n instanceof qu||n instanceof Rr||n instanceof Jf)}function yM(n,e,t){if(!YO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function vM(n,e,t){if((e=(0,lt.m9)(e))instanceof Xl)return e._internalPath;if("string"==typeof e)return mC(n,e);throw yC("Field path arguments must be of type string or ",n,!1,void 0,t)}const B$=new RegExp("[~\\*/\\[\\]]");function mC(n,e,t){if(e.search(B$)>=0)throw yC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xl(...e.split("."))._internalPath}catch{throw yC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yC(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${i}`),v+=")"),new at(We.INVALID_ARGUMENT,p+n+v)}function ZO(n,e){return n.some(t=>t.isEqual(e))}class P0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new V$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class V$ extends P0{data(){return super.data()}}function vC(n,e){return"string"==typeof e?mC(n,e):e instanceof Xl?e._internalPath:e._delegate._internalPath}function KO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new at(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}function Pd(n,...e){for(const t of e)n=t._apply(n);return n}class U$ extends N0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=ep(e.firestore),r=function(i,l,d,p,v,b,S){let x;if(v.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new at(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){nP(S,b);const le=[];for(const Ae of S)le.push(tP(p,i,Ae));x={arrayValue:{values:le}}}else x=tP(p,i,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||nP(S,b),x=qO(d,"where",S,"in"===b||"not-in"===b);const Q=so.create(v,b,x);return function(le,Ae){if(Ae.dt()){const Ke=MA(le);if(null!==Ke&&!Ke.isEqual(Ae.field))throw new at(We.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ke.toString()}' and '${Ae.field.toString()}'`);const qt=xA(le);null!==qt&&rP(0,Ae.field,qt)}const tt=function(Ke,qt){for(const Zt of Ke.filters)if(qt.indexOf(Zt.op)>=0)return Zt.op;return null}(le,function(Ke){switch(Ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ae.op));if(null!==tt)throw new at(We.INVALID_ARGUMENT,tt===Ae.op?`Invalid query. You cannot use more than one '${Ae.op.toString()}' filter.`:`Invalid query. You cannot use '${Ae.op.toString()}' filters with '${tt.toString()}' filters.`)}(i,Q),Q}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new mo(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class H$ extends N0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new at(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new at(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new fm(i,l);return function(p,v){if(null===xA(p)){const b=MA(p);null!==b&&rP(0,b,v.field)}}(r,d),d}(e._query,this.ma,this.pa);return new mo(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Wl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XO extends N0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new mo(e.firestore,e.converter,VE(e._query,this.Ia,this.Ta))}}class QO extends N0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=eP(e,this.type,this.Ea,this.Aa);return new mo(e.firestore,e.converter,(i=t,new Wl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class JO extends N0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=eP(e,this.type,this.Ea,this.Aa);return new mo(e.firestore,e.converter,(i=t,new Wl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function eP(n,e,t,r){if(t[0]=(0,lt.m9)(t[0]),t[0]instanceof P0)return function(i,l,d,p,v){if(!p)throw new at(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const S of gm(i))if(S.field.isKeyField())b.push(Uf(l,p.key));else{const x=p.data.field(S.field);if(TA(x))throw new at(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const Q=S.field.canonicalString();throw new at(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}b.push(x)}return new Ad(b,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ep(n.firestore);return function(l,d,p,v,b,S){const x=l.explicitOrderBy;if(b.length>x.length)throw new at(We.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let le=0;le<b.length;le++){const Ae=b[le];if(x[le].field.isKeyField()){if("string"!=typeof Ae)throw new at(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Ae}`);if(!RA(l)&&-1!==Ae.indexOf("/"))throw new at(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Ae}' contains a slash.`);const tt=l.path.child(Gn.fromString(Ae));if(!Ct.isDocumentKey(tt))throw new at(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${tt}' is not because it contains an odd number of segments.`);const Ke=new Ct(tt);Q.push(Uf(d,Ke))}else{const tt=qO(p,v,Ae);Q.push(tt)}}return new Ad(Q,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tP(n,e,t){if("string"==typeof(t=(0,lt.m9)(t))){if(""===t)throw new at(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RA(e)&&-1!==t.indexOf("/"))throw new at(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gn.fromString(t));if(!Ct.isDocumentKey(r))throw new at(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uf(n,new Ct(r))}if(t instanceof Rr)return Uf(n,t._key);throw new at(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uC(t)}.`)}function nP(n,e){if(!Array.isArray(n)||0===n.length)throw new at(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new at(We.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rP(n,e,t){if(!t.isEqual(e))throw new at(We.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _M{convertValue(e,t="none"){switch(Vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){const r={};return $f(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new fC(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(n0(e));default:return null}}convertTimestamp(e){const t=Cd(e);return new Fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gn.fromString(e);cn(fk(r));const i=new Dd(r.get(1),r.get(3)),l=new Ct(r.popFirst(5));return i.isEqual(t)||ri(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function _C(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class X$ extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}class np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends P0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class F0 extends Ql{data(e={}){return super.data(e)}}class Nd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new F0(this._firestore,this._userDataWriter,r.key,r,new np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new F0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new np(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new F0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new np(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,b=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),b=l.indexOf(d.doc.key)),{type:Q$(d.type),doc:p,oldIndex:v,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function iP(n,e){return n instanceof Ql&&e instanceof Ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nd&&e instanceof Nd&&n._firestore===e._firestore&&iM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fd extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}function oP(n,e,t){n=Vn(n,Rr);const r=Vn(n.firestore,kr),i=_C(n.converter,e,t);return Pm(r,[gC(ep(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Lr.none())])}function sP(n,e,t,...r){n=Vn(n,Rr);const i=Vn(n.firestore,kr),l=ep(i);let d;return d="string"==typeof(e=(0,lt.m9)(e))||e instanceof Xl?mM(l,"updateDoc",n._key,e,t,r):gM(l,"updateDoc",n._key,e),Pm(i,[d.toMutation(n._key,Lr.exists(!0))])}function aP(n,...e){var t,r,i;n=(0,lt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||fM(e[d])||(l=e[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(fM(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let v,b,S;if(n instanceof Rr)b=Vn(n.firestore,kr),S=pm(n._key.path),v={next:x=>{e[d]&&e[d](IM(b,n,x))},error:e[d+1],complete:e[d+2]};else{const x=Vn(n,mo);b=Vn(x.firestore,kr),S=x._query;const Q=new Fd(b);v={next:le=>{e[d]&&e[d](new Nd(b,Q,x,le))},error:e[d+1],complete:e[d+2]},KO(n._query)}return function(x,Q,le,Ae){const tt=new cC(Ae),Ke=new Mx(Q,tt,le);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Dx(yield Om(x),Ke)})),()=>{tt.bc(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Sx(yield Om(x),Ke)}))}}(ii(b),S,p,v)}function Pm(n,e){return function(t,r){const i=new Ei;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function zL(n,e,t){return Nx.apply(this,arguments)}(yield dM(t),r,i)})),i.promise}(ii(n),e)}function IM(n,e,t){const r=t.docs.get(e._key),i=new Fd(n);return new Ql(n,i,e._key,r,new np(t.hasPendingWrites,t.fromCache),e.converter)}const uB={maxAttempts:5};class uP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ep(e)}set(e,t,r){this._verifyNotCommitted();const i=Ld(e,this._firestore),l=_C(i.converter,t,r),d=gC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Lr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Ld(e,this._firestore);let d;return d="string"==typeof(t=(0,lt.m9)(t))||t instanceof Xl?mM(this._dataReader,"WriteBatch.update",l._key,t,r,i):gM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ld(e,this._firestore);return this._mutations=this._mutations.concat(new _m(t._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ld(n,e){if((n=(0,lt.m9)(n)).firestore!==e)throw new at(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ep(e)}get(e){const t=Ld(e,this._firestore),r=new X$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ft();const l=i[0];if(l.isFoundDocument())return new P0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new P0(this._firestore,r,t._key,null,t.converter);throw Ft()})}set(e,t,r){const i=Ld(e,this._firestore),l=_C(i.converter,t,r),d=gC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Ld(e,this._firestore);let d;return d="string"==typeof(t=(0,lt.m9)(t))||t instanceof Xl?mM(this._dataReader,"Transaction.update",l._key,t,r,i):gM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Ld(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ld(e,this._firestore),r=new Fd(this._firestore);return super.get(e).then(i=>new Ql(this._firestore,r,t._key,i._document,new np(!1,!1),t.converter))}}function wM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new at("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cP(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function dP(){if(!function ON(){return typeof atob<"u"}())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){lm=Lt.SDK_VERSION,(0,Lt._registerComponent)(new an.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new kr(new wN(t.getProvider("auth-internal")),new CN(t.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new at(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(p.options.projectId,v)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(nR,"3.7.3",n),(0,Lt.registerVersion)(nR,"3.7.3","esm2017")}();class L0{constructor(e){this._delegate=e}static fromBase64String(e){return dP(),new L0(qu.fromBase64String(e))}static fromUint8Array(e){return cP(),new L0(qu.fromUint8Array(e))}toBase64(){return dP(),this._delegate.toBase64()}toUint8Array(){return cP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bM(n){return function vB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _B{enableIndexedDbPersistence(e,t){return function D$(n,e){jO(n=Vn(n,kr));const t=ii(n),r=n._freezeSettings(),i=new nM;return UO(t,i,new EO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function T$(n){jO(n=Vn(n,kr));const e=ii(n),t=n._freezeSettings(),r=new nM;return UO(e,r,new a$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S$(n){if(n._initialized&&!n._terminated)throw new at(We.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ei;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Ka.C())return Promise.resolve();const i=r+"main";yield Ka.delete(i)}),function(r){return t.apply(this,arguments)})(ZA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function MO(n,e,t,r={}){var i;const l=(n=Vn(n,k0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Nf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Bi.MOCK_USER;else{d=(0,lt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new at(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bi(v)}n._authCredentials=new IN(new rR(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function x$(n){return function g$(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield FO(n),t=yield cM(n);return e.setNetworkEnabled(!0),function(r){const i=St(r);return i._u.delete(0),M0(i)}(t)}))}(ii(n=Vn(n,kr)))}(this._delegate)}disableNetwork(){return function M$(n){return function m$(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield FO(n),t=yield cM(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(i){const l=St(i);l._u.add(0),yield Tm(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ii(n=Vn(n,kr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A$(n){return function(e){const t=new Ei;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function ZL(n,e){return Vx.apply(this,arguments)}(yield dM(e),t)})),t.promise}(ii(n=Vn(n,kr)))}(this._delegate)}onSnapshotsInSync(e){return function aB(n,e){return function _$(n,e){const t=new cC(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Om(n),i=t,St(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Om(n),i=t,void St(r).Ru.delete(i);var r,i}))}}(ii(n=Vn(n,kr)),fM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nm(this,RO(this._delegate,e))}catch(t){throw Fo(t,"collection()","Firestore.collection()")}}doc(e){try{return new da(this,lC(this._delegate,e))}catch(t){throw Fo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Lo(this,function u$(n,e){if(n=Vn(n,k0),rM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new at(We.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(n,null,(t=e,new Wl(Gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cB(n,e,t){n=Vn(n,kr);const r=Object.assign(Object.assign({},uB),t);return function(i){if(i.maxAttempts<1)throw new at(We.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const p=new Ei;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const v=yield function LO(n){return dC(n).then(e=>e.datastore)}(i);new f$(i.asyncQueue,v,d,l,p).run()})),p.promise}(ii(n),i=>e(new lB(n,i)),r)}(this._delegate,t=>e(new fP(this,t)))}batch(){return ii(this._delegate),new pP(new uP(this._delegate,e=>Pm(this._delegate,e)))}loadBundle(e){return function R$(n,e){const t=ii(n=Vn(n,kr)),r=new E$;return function I$(n,e,t,r){const i=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,b){if(v instanceof Uint8Array)return OO(v,b);if(v instanceof ArrayBuffer)return OO(new Uint8Array(v),b);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new l$(v,d);var v}(t,x0(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function s$(n,e,t){const r=St(n);var i;(i=(0,Ce.Z)(function*(l,d,p){try{const v=yield d.getMetadata();if(yield function(Q,le){const Ae=St(Q),tt=Vi(le.createTime);return Ae.persistence.runTransaction("hasNewerBundle","readonly",Ke=>Ae.Ns.getBundleMetadata(Ke,le.id)).then(Ke=>!!Ke&&Ke.createTime.compareTo(tt)>=0)}(l.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(Q=v).totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}),Promise.resolve(new Set);p._updateProgress(fO(v));const b=new BL(v,l.localStore,d.It);let S=yield d.mc();for(;S;){const Q=yield b.Fu(S);Q&&p._updateProgress(Q),S=yield d.mc()}const x=yield b.complete();return yield Kl(l,x.Lu,void 0),yield function(Q,le){const Ae=St(Q);return Ae.persistence.runTransaction("Save bundle","readwrite",tt=>Ae.Ns.saveBundleMetadata(tt,le))}(l.localStore,v),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(v){return Nf("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var Q}),function(l,d,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield dM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function k$(n,e){return function w$(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const i=St(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield hC(n),e)}))}(ii(n=Vn(n,kr)),e).then(t=>t?new mo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Lo(this,t):null)}}class IC extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new L0(new qu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return da.forKey(t,this.firestore,null)}}class fP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}get(e){const t=ip(e);return this._delegate.get(t).then(r=>new $0(this._firestore,new Ql(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ip(e);return r?(wM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ip(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ip(e);return this._delegate.delete(t),this}}class pP{constructor(e){this._delegate=e}set(e,t,r){const i=ip(e);return r?(wM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ip(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ip(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new F0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new B0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new rp(e,new IC(e),t),i.set(t,l)),l}}rp.INSTANCES=new WeakMap;class da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new da(t,new Rr(t._delegate,r,new Ct(e)))}static forKey(e,t,r){return new da(t,new Rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Nm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nm(this.firestore,RO(this._delegate,e))}catch(t){throw Fo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,lt.m9)(e))instanceof Rr&&kO(this._delegate,e)}set(e,t){t=wM("DocumentReference.set",t);try{return t?oP(this._delegate,e,t):oP(this._delegate,e)}catch(r){throw Fo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?sP(this._delegate,e):sP(this._delegate,e,t,...r)}catch(i){throw Fo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oB(n){return Pm(Vn(n.firestore,kr),[new _m(n._key,Lr.none())])}(this._delegate)}onSnapshot(...e){const t=gP(e),r=mP(e,i=>new $0(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return aP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function eB(n){n=Vn(n,Rr);const e=Vn(n.firestore,kr),t=ii(e),r=new Fd(e);return function y$(n,e){const t=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,l,d){try{const p=yield function(v,b){const S=St(v);return S.persistence.runTransaction("read document","readonly",x=>S.localDocuments.getDocument(x,b))}(i,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new at(We.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=xm(p,`Failed to get document '${l} from cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield hC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ql(e,r,n._key,i,new np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function tB(n){n=Vn(n,Rr);const e=Vn(n.firestore,kr);return $O(ii(e),n._key,{source:"server"}).then(t=>IM(e,n,t))}(this._delegate):function J$(n){n=Vn(n,Rr);const e=Vn(n.firestore,kr);return $O(ii(e),n._key).then(t=>IM(e,n,t))}(this._delegate),t.then(r=>new $0(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new da(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}function Fo(n,e,t){return n.message=n.message.replace(e,t),n}function gP(n){for(const e of n)if("object"==typeof e&&!bM(e))return e;return{}}function mP(n,e){var t,r;let i;return i=bM(n[0])?n[0]:bM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iP(this._delegate,e._delegate)}}class B0 extends $0{data(e){const t=this._delegate.data(e);return function vN(n,e){n||Ft()}(void 0!==t),t}}class Lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}where(e,t,r){try{return new Lo(this.firestore,Pd(this._delegate,function j$(n,e,t){const r=e,i=vC("where",n);return new U$(i,r,t)}(e,t,r)))}catch(i){throw Fo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Lo(this.firestore,Pd(this._delegate,function G$(n,e="asc"){const t=e,r=vC("orderBy",n);return new H$(r,t)}(e,t)))}catch(r){throw Fo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Lo(this.firestore,Pd(this._delegate,function z$(n){return SO("limit",n),new XO("limit",n,"F")}(e)))}catch(t){throw Fo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Lo(this.firestore,Pd(this._delegate,function q$(n){return SO("limitToLast",n),new XO("limitToLast",n,"L")}(e)))}catch(t){throw Fo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Lo(this.firestore,Pd(this._delegate,function W$(...n){return new QO("startAt",n,!0)}(...e)))}catch(t){throw Fo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Lo(this.firestore,Pd(this._delegate,function Y$(...n){return new QO("startAfter",n,!1)}(...e)))}catch(t){throw Fo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Lo(this.firestore,Pd(this._delegate,function Z$(...n){return new JO("endBefore",n,!1)}(...e)))}catch(t){throw Fo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Lo(this.firestore,Pd(this._delegate,function K$(...n){return new JO("endAt",n,!0)}(...e)))}catch(t){throw Fo(t,"endAt()","Query.endAt()")}}isEqual(e){return iM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rB(n){n=Vn(n,mo);const e=Vn(n.firestore,kr),t=ii(e),r=new Fd(e);return function v$(n,e){const t=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,l,d){try{const p=yield nC(i,l,!0),v=new mO(l,p.Hi),b=v.Wu(p.documents),S=v.applyChanges(b,!1);d.resolve(S.snapshot)}catch(p){const v=xm(p,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(i,l,d){return r.apply(this,arguments)})(yield hC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Nd(e,r,n,i))}(this._delegate):"server"===e?.source?function iB(n){n=Vn(n,mo);const e=Vn(n.firestore,kr),t=ii(e),r=new Fd(e);return BO(t,n._query,{source:"server"}).then(i=>new Nd(e,r,n,i))}(this._delegate):function nB(n){n=Vn(n,mo);const e=Vn(n.firestore,kr),t=ii(e),r=new Fd(e);return KO(n._query),BO(t,n._query).then(i=>new Nd(e,r,n,i))}(this._delegate),t.then(r=>new EM(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gP(e),r=mP(e,i=>new EM(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return aP(this._delegate,t,r)}withConverter(e){return new Lo(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}class wB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new B0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new B0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new B0(this._firestore,r))})}isEqual(e){return iP(this._delegate,e._delegate)}}class Nm extends Lo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new da(this.firestore,e):null}doc(e){try{return new da(this.firestore,void 0===e?lC(this._delegate):lC(this._delegate,e))}catch(t){throw Fo(t,"doc()","CollectionReference.doc()")}}add(e){return function sB(n,e){const t=Vn(n.firestore,kr),r=lC(n),i=_C(n.converter,e);return Pm(t,[gC(ep(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new da(this.firestore,t))}isEqual(e){return kO(this._delegate,e._delegate)}withConverter(e){return new Nm(this.firestore,this._delegate.withConverter(e?rp.getInstance(this.firestore,e):null))}}function ip(n){return Vn(n,Rr)}class CM{constructor(...e){this._delegate=new Xl(...e)}static documentId(){return new CM(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,lt.m9)(e))instanceof Xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hB(){return new pM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new op(e)}static delete(){const e=function dB(){return new O0("deleteField")}();return e._methodName="FieldValue.delete",new op(e)}static arrayUnion(...e){const t=function fB(...n){return new F$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new op(t)}static arrayRemove(...e){const t=function pB(...n){return new L$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new op(t)}static increment(e){const t=function gB(n){return new $$("increment",n)}(e);return t._methodName="FieldValue.increment",new op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bB={Firestore:hP,GeoPoint:fC,Timestamp:Fr,Blob:L0,Transaction:fP,WriteBatch:pP,DocumentReference:da,DocumentSnapshot:$0,Query:Lo,QueryDocumentSnapshot:B0,QuerySnapshot:EM,CollectionReference:Nm,FieldPath:CM,FieldValue:op,setLogLevel:function IB(n){!function yN(n){wd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yP(n,e){return function DB(n,e=o_.z){return new Qn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DM(n,e){return yP(n,e).pipe((0,tn.U)(t=>({payload:t,type:"query"})))}function wC(n,e){return DM(n,e).pipe(kp(void 0),s_(),(0,tn.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const v=i.find(S=>S.doc.ref.isEqual(d.ref)),b=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function vP(n,e,t){return wC(n,t).pipe(Nc((r,i)=>function SB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function AB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function ob(n,e=mu.y){return n=n??jT,(0,dr.e)((t,r)=>{let i,l=!0;t.subscribe((0,Or.x)(r,d=>{const p=e(d);(l||!n(i,p))&&(l=!1,i=p,r.next(d))}))})}(),(0,tn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function _P(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function CB(n){(function EB(n,e){n.INTERNAL.registerComponent(new an.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bB)))})(n,(e,t)=>new hP(e,t,new _B)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(Wb.Z);class IP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=wC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(kp(void 0),s_(),ti(([r,i])=>i.length>0||!r),(0,tn.U)(([r,i])=>i),Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_P(e);return vP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return DM(this.query,this.afs.schedulers.outsideAngular).pipe((0,tn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rn.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Rn.iC)}add(e){return this.ref.add(e)}doc(e){return new wP(this.ref.doc(e),this.afs)}}class wP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=bP(r,t);return new IP(i,l,this.afs)}snapshotChanges(){return function TB(n,e){return yP(n,e).pipe(kp(void 0),s_(),(0,tn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(Rn.iC)}}class xB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wC(this.query,this.afs.schedulers.outsideAngular).pipe((0,tn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ti(t=>t.length>0),Rn.iC):wC(this.query,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_P(e);return vP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return DM(this.query,this.afs.schedulers.outsideAngular).pipe((0,tn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Rn.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Rn.iC)}}const MB=new u.OlP("angularfire2.enableFirestorePersistence"),RB=new u.OlP("angularfire2.firestore.persistenceSettings"),kB=new u.OlP("angularfire2.firestore.settings"),OB=new u.OlP("angularfire2.firestore.use-emulator");function bP(n,e=(t=>t)){return{query:e(n),ref:n}}let bC=(()=>{class n{constructor(t,r,i,l,d,p,v,b,S,x,Q,le,Ae,tt,Ke,qt,Zt){this.schedulers=v;const jt=(0,Hr.on)(t,p,r),Bt=S;x&&sy(jt,p,Q,Ae,tt,Ke,le,qt),[this.firestore,this.persistenceEnabled$]=(0,Hr.cc)(`${jt.name}.firestore`,"AngularFirestore",jt.name,()=>{const rn=p.runOutsideAngular(()=>jt.firestore());if(l&&rn.settings(l),Bt&&rn.useEmulator(...Bt),i&&!As(d)){const mn=()=>{try{return(0,Ln.D)(rn.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Wr){return typeof console<"u"&&console.warn(Wr),Ot(!1)}};return[rn,p.runOutsideAngular(mn)]}return[rn,Ot(!1)]},[l,Bt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=bP(i,r),p=this.schedulers.ngZone.run(()=>l);return new IP(p,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new xB(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new wP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hr.Dh),u.LFG(Hr.xv,8),u.LFG(MB,8),u.LFG(kB,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Rn.HU),u.LFG(RB,8),u.LFG(OB,8),u.LFG(Ap,8),u.LFG(oy,8),u.LFG(Dp,8),u.LFG(Tp,8),u.LFG(Sp,8),u.LFG(Rc,8),u.LFG(eI,8),u.LFG(gh,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const EP="firebasestorage.googleapis.com",CP="storageBucket";class qr extends lt.ZR{constructor(e,t,r=0){super(SM(e),`Firebase Storage: ${t} (${SM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function SM(n){return"storage/"+n}function AM(){return new qr("unknown","An unknown error occurred, please check the error payload for server response.")}function DP(){return new qr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function TP(){return new qr("canceled","User canceled the upload/download.")}function SP(){return new qr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fm(n){return new qr("invalid-argument",n)}function AP(){return new qr("app-deleted","The Firebase app was deleted.")}function xP(n){return new qr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function V0(n,e){return new qr("invalid-format","String does not match format '"+n+"': "+e)}function U0(n){throw new qr("internal-error","Internal error: "+n)}class yo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=yo.makeFromUrl(e,t)}catch{return new yo(e,"")}if(""===r.path)return r;throw function GB(n){return new qr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Bt){Bt.path_=decodeURIComponent(Bt.path)}const x=t.replace(/[.]/g,"\\."),jt=[{regex:p,indices:{bucket:1,path:3},postModify:function l(Bt){"/"===Bt.path.charAt(Bt.path.length-1)&&(Bt.path_=Bt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===EP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Bt=0;Bt<jt.length;Bt++){const rn=jt[Bt],mn=rn.regex.exec(e);if(mn){let Qa=mn[rn.indices.path];Qa||(Qa=""),r=new yo(mn[rn.indices.bucket],Qa),rn.postModify(r);break}}if(null==r)throw function HB(n){return new qr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class ZB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EC(n){return"string"==typeof n||n instanceof String}function MP(n){return xM()&&n instanceof Blob}function xM(){return typeof Blob<"u"&&!(0,lt.UG)()}function MM(n,e,t,r){if(r<e)throw Fm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Fm(`Invalid value for '${n}'. Expected ${t} or less.`)}function Jl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var $d=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}($d||($d={})),$d))();function kP(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),l=-1!==e.indexOf(n);return t||i||l}class tV{constructor(e,t,r,i,l,d,p,v,b,S,x,Q=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=b,this.progressCallback_=S,this.connectionFactory_=x,this.retry=Q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((le,Ae)=>{this.resolve_=le,this.reject_=Ae,this.start_()})}start_(){const t=(r,i)=>{const l=this.resolve_,d=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());!function QB(n){return void 0!==n}(v)?l():l(v)}catch(v){d(v)}else if(null!==p){const v=AM();v.serverResponse=p.getErrorText(),d(this.errorCallback_?this.errorCallback_(p,v):v)}else d(i.canceled?this.appDelete_?AP():TP():DP())};this.canceled_?t(0,new CC(!1,null,!0)):this.backoffId_=function KB(n,e,t){let r=1,i=null,l=null,d=!1,p=0;function v(){return 2===p}let b=!1;function S(...Ke){b||(b=!0,e.apply(null,Ke))}function x(Ke){i=setTimeout(()=>{i=null,n(le,v())},Ke)}function Q(){l&&clearTimeout(l)}function le(Ke,...qt){if(b)return void Q();if(Ke)return Q(),void S.call(null,Ke,...qt);if(v()||d)return Q(),void S.call(null,Ke,...qt);let jt;r<64&&(r*=2),1===p?(p=2,jt=0):jt=1e3*(r+Math.random()),x(jt)}let Ae=!1;function tt(Ke){Ae||(Ae=!0,Q(),!b&&(null!==i?(Ke||(p=2),clearTimeout(i),x(0)):Ke||(p=1)))}return x(0),l=setTimeout(()=>{d=!0,tt(!0)},t),tt}((r,i)=>{if(i)return void r(!1,new CC(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const d=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const p=l.getErrorCode()===$d.NO_ERROR,v=l.getStatus();if((!p||kP(v,this.additionalRetryCodes_))&&this.retry){const S=l.getErrorCode()===$d.ABORT;return void r(!1,new CC(!1,null,S))}const b=-1!==this.successCodes_.indexOf(v);r(!0,new CC(b,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function XB(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function uV(...n){const e=function aV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(xM())return new Blob(n);throw new qr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RM{constructor(e,t){this.data=e,this.contentType=t||null}}function kM(n,e){switch(n){case ws.RAW:return new RM(OP(e));case ws.BASE64:case ws.BASE64URL:return new RM(PP(n,e));case ws.DATA_URL:return new RM(function hV(n){const e=new NP(n);return e.base64?PP(ws.BASE64,e.rest):function dV(n){let e;try{e=decodeURIComponent(n)}catch{throw V0(ws.DATA_URL,"Malformed data URL.")}return OP(e)}(e.rest)}(e),function fV(n){return new NP(n).contentType}(e))}throw AM()}function OP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function PP(n,e){switch(n){case ws.BASE64:{const i=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(i||l)throw V0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ws.BASE64URL:{const i=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(i||l)throw V0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function cV(n){if(typeof atob>"u")throw function YB(n){return new qr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:V0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class NP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw V0(ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function pV(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Wu{constructor(e,t){let r=0,i="";MP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(MP(this.data_)){const i=function lV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Wu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Wu(r,!0)}}static getBlob(...e){if(xM()){const t=e.map(r=>r instanceof Wu?r.data_:r);return new Wu(uV.apply(null,t))}{const t=e.map(d=>EC(d)?kM(ws.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let l=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)i[l++]=d[p]}),new Wu(i,!0)}}uploadData(){return this.data_}}function OM(n){let e;try{e=JSON.parse(n)}catch{return null}return function eV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function FP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function yV(n,e){return e}class $o{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||yV}}let DC=null;function j0(){if(DC)return DC;const n=[];n.push(new $o("bucket")),n.push(new $o("generation")),n.push(new $o("metageneration")),n.push(new $o("name","fullPath",!0));const t=new $o("name");t.xform=function e(l,d){return function vV(n){return!EC(n)||n.length<2?n:FP(n)}(d)},n.push(t);const i=new $o("size");return i.xform=function r(l,d){return void 0!==d?Number(d):d},n.push(i),n.push(new $o("timeCreated")),n.push(new $o("updated")),n.push(new $o("md5Hash",null,!0)),n.push(new $o("cacheControl",null,!0)),n.push(new $o("contentDisposition",null,!0)),n.push(new $o("contentEncoding",null,!0)),n.push(new $o("contentLanguage",null,!0)),n.push(new $o("contentType",null,!0)),n.push(new $o("metadata","customMetadata",!0)),DC=n,DC}function LP(n,e,t){const r=OM(e);return null===r?null:function IV(n,e,t){const r={type:"file"},i=t.length;for(let l=0;l<i;l++){const d=t[l];r[d.local]=d.xform(r,e[d.server])}return function _V(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new yo(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function PM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const l=e[i];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const $P="prefixes";class Yu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zu(n){if(!n)throw AM()}function TC(n,e){return function t(r,i){const l=LP(n,i,e);return Zu(null!==l),l}}function Lm(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function UB(){return new qr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function VB(){return new qr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function BB(n){return new qr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function jB(n){return new qr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function H0(n){const e=Lm(n);return function t(r,i){let l=e(r,i);return 404===r.getStatus()&&(l=function $B(n){return new qr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=i.serverResponse,l}}function VP(n,e,t){const i=Jl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Yu(i,"GET",TC(n,t),d);return p.errorHandler=H0(e),p}function TV(n,e,t,r,i){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),i&&(l.maxResults=i);const p=Jl(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,S=new Yu(p,"GET",function CV(n,e){return function t(r,i){const l=function EV(n,e,t){const r=OM(t);return null===r?null:function bV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$P])for(const i of t[$P]){const l=i.replace(/\/$/,""),d=n._makeStorageReference(new yo(e,l));r.prefixes.push(d)}if(t.items)for(const i of t.items){const l=n._makeStorageReference(new yo(e,i.name));r.items.push(l)}return r}(n,e,r)}(n,e,i);return Zu(null!==l),l}}(n,e.bucket),b);return S.urlParams=l,S.errorHandler=Lm(e),S}function jP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function MV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class SC{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function NM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Zu(!1)}return Zu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const PV={STATE_CHANGED:"state_changed"},Bo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function FM(n){switch(n){case"running":case"pausing":case"canceling":return Bo.RUNNING;case"paused":return Bo.PAUSED;case"success":return Bo.SUCCESS;case"canceled":return Bo.CANCELED;default:return Bo.ERROR}}class NV{constructor(e,t,r){if(function JB(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function $m(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class LV extends class FV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw U0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const l in i)i.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,i[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw U0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw U0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw U0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw U0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xa(){return new LV}class qP{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=j0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(kP(i.status,[])){if(!l)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=DP()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,l)=>{this._resolve=i,this._reject=l,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function RV(n,e,t,r,i){const l=e.bucketOnlyServerUrl(),d=jP(e,r,i),p={name:d.fullPath},v=Jl(l,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},x=PM(d,t),Ae=new Yu(v,"POST",function le(tt){let Ke;NM(tt);try{Ke=tt.getResponseHeader("X-Goog-Upload-URL")}catch{Zu(!1)}return Zu(EC(Ke)),Ke},n.maxUploadRetryTime);return Ae.urlParams=p,Ae.headers=S,Ae.body=x,Ae.errorHandler=Lm(e),Ae}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xa,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function kV(n,e,t,r){const v=new Yu(t,"POST",function l(b){const S=NM(b,["active","final"]);let x=null;try{x=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zu(!1)}x||Zu(!1);const Q=Number(x);return Zu(!isNaN(Q)),new SC(Q,r.size(),"final"===S)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Lm(e),v}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(i,Xa,t,r);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new SC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,l)=>{let d;try{d=function OV(n,e,t,r,i,l,d,p){const v=new SC(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function qB(){return new qr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=v.total-v.current;let S=b;i>0&&(S=Math.min(S,i));const x=v.current;let le="";le=0===S?"finalize":b===S?"upload, finalize":"upload";const Ae={"X-Goog-Upload-Command":le,"X-Goog-Upload-Offset":`${v.current}`},tt=r.slice(x,x+S);if(null===tt)throw SP();const jt=new Yu(t,"POST",function Ke(Bt,rn){const mn=NM(Bt,["active","final"]),Wr=v.current+S,Qa=r.size();let GM;return GM="final"===mn?TC(e,l)(Bt,rn):null,new SC(Wr,Qa,"final"===mn,GM)},e.maxUploadRetryTime);return jt.headers=Ae,jt.body=tt.uploadData(),jt.progressCallback=p||null,jt.errorHandler=Lm(n),jt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const p=this._ref.storage._makeRequest(d,Xa,i,l,!1);this._request=p,p.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=VP(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Xa,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function HP(n,e,t,r,i){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function p(){let jt="";for(let Bt=0;Bt<2;Bt++)jt+=Math.random().toString().slice(2);return jt}();d["Content-Type"]="multipart/related; boundary="+v;const b=jP(e,r,i),S=PM(b,t),le=Wu.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===le)throw SP();const Ae={name:b.fullPath},tt=Jl(l,n.host,n._protocol),qt=n.maxUploadRetryTime,Zt=new Yu(tt,"POST",TC(n,t),qt);return Zt.urlParams=Ae,Zt.headers=d,Zt.body=le.uploadData(),Zt.errorHandler=Lm(e),Zt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xa,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=TP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=FM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const l=new NV(t||void 0,r||void 0,i||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(FM(this._state)){case Bo.SUCCESS:$m(this._resolve.bind(null,this.snapshot))();break;case Bo.CANCELED:case Bo.ERROR:$m(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(FM(this._state)){case Bo.RUNNING:case Bo.PAUSED:e.next&&$m(e.next.bind(e,this.snapshot))();break;case Bo.SUCCESS:e.complete&&$m(e.complete.bind(e))();break;default:e.error&&$m(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class sp{constructor(e,t){this._service=e,this._location=t instanceof yo?t:yo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sp(e,t)}get root(){const e=new yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FP(this._location.path)}get storage(){return this._service}get parent(){const e=function gV(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new yo(this._location.bucket,e);return new sp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw xP(e)}}function YP(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,Ce.Z)(function*(n,e,t){const i=yield ZP(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield YP(n,e,i.nextPageToken))}),LM.apply(this,arguments)}function ZP(n,e){null!=e&&"number"==typeof e.maxResults&&MM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=TV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Xa)}function ZV(n){n._throwIfRoot("getDownloadURL");const e=function SV(n,e,t){const i=Jl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Yu(i,"GET",function DV(n,e){return function t(r,i){const l=LP(n,i,e);return Zu(null!==l),function wV(n,e,t,r){const i=OM(e);if(null===i||!EC(i.downloadTokens))return null;const l=i.downloadTokens;if(0===l.length)return null;const d=encodeURIComponent;return l.split(",").map(b=>{const x=n.fullPath;return Jl("/b/"+d(n.bucket)+"/o/"+d(x),t,r)+RP({alt:"media",token:b})})[0]}(l,i,n.host,n._protocol)}}(n,t),d);return p.errorHandler=H0(e),p}(n.storage,n._location,j0());return n.storage.makeRequestWithTokens(e,Xa).then(t=>{if(null===t)throw function WB(){return new qr("no-download-url","The given file does not have any download URLs.")}();return t})}function KP(n,e){const t=function mV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new yo(n._location.bucket,t);return new sp(n.storage,r)}function XP(n,e){if(n instanceof $M){const t=n;if(null==t._bucket)throw function zB(){return new qr("no-default-bucket","No default bucket found. Did you set the '"+CP+"' property when initializing the app?")}();const r=new sp(t,t._bucket);return null!=e?XP(r,e):r}return void 0!==e?KP(n,e):n}function JV(n,e){if(e&&function XV(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof $M)return function QV(n,e){return new sp(n,e)}(n,e);throw Fm("To use ref(service, url), the first argument must be a Storage instance.")}return XP(n,e)}function QP(n,e){const t=e?.[CP];return null==t?null:yo.makeFromBucketSpec(t,n)}class $M{constructor(e,t,r,i,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=l,this._bucket=null,this._host=EP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?yo.makeFromBucketSpec(i,this._host):QP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?yo.makeFromBucketSpec(this._url,e):QP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sp(this,e)}_makeRequest(e,t,r,i,l=!0){if(this._deleted)return new ZB(AP());{const d=function sV(n,e,t,r,i,l,d=!0){const p=RP(n.urlParams),v=n.url+p,b=Object.assign({},n.headers);return function iV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function nV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function rV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(b,l),function oV(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new tV(v,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,d)}(e,this._appId,r,i,t,this._firebaseVersion,l);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(e,t){var r=this;return(0,Ce.Z)(function*(){const[i,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,l).getPromise()})()}}const JP="@firebase/storage";function nN(n,e){return JV(n=(0,lt.m9)(n),e)}function l2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new $M(t,r,i,e,Lt.SDK_VERSION)}!function c2(){(0,Lt._registerComponent)(new an.wA("storage",l2,"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(JP,"0.9.14",""),(0,Lt.registerVersion)(JP,"0.9.14","esm2017")}();class AC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class iN{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new AC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new AC(r,this,this._ref))},t)}on(e,t,r,i){let l;return t&&(l="function"==typeof t?d=>t(new AC(d,this,this._ref)):{next:t.next?d=>t.next(new AC(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,i||void 0)}}class oN{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ec(e,this._service))}get items(){return this._delegate.items.map(e=>new ec(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ec{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function u2(n,e){return KP(n,e)}(this._delegate,e);return new ec(t,this.storage)}get root(){return new ec(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ec(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new iN(function t2(n,e,t){return function GV(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new qP(n,new Wu(e),t)}(n=(0,lt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ws.RAW,r){this._throwIfRoot("putString");const i=kM(t,e),l=Object.assign({},r);return null==l.contentType&&null!=i.contentType&&(l.contentType=i.contentType),new iN(new qP(this._delegate,new Wu(i.data,!0),l),this)}listAll(){return function o2(n){return function qV(n){const e={prefixes:[],items:[]};return YP(n,e).then(()=>e)}(n=(0,lt.m9)(n))}(this._delegate).then(e=>new oN(e,this.storage))}list(e){return function i2(n,e){return ZP(n=(0,lt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new oN(t,this.storage))}getMetadata(){return function n2(n){return function WV(n){n._throwIfRoot("getMetadata");const e=VP(n.storage,n._location,j0());return n.storage.makeRequestWithTokens(e,Xa)}(n=(0,lt.m9)(n))}(this._delegate)}updateMetadata(e){return function r2(n,e){return function YV(n,e){n._throwIfRoot("updateMetadata");const t=function AV(n,e,t,r){const l=Jl(e.fullServerUrl(),n.host,n._protocol),p=PM(t,r),b=n.maxOperationRetryTime,S=new Yu(l,"PATCH",TC(n,r),b);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=p,S.errorHandler=H0(e),S}(n.storage,n._location,e,j0());return n.storage.makeRequestWithTokens(t,Xa)}(n=(0,lt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function s2(n){return ZV(n=(0,lt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function a2(n){return function KV(n){n._throwIfRoot("deleteObject");const e=function xV(n,e){const r=Jl(e.fullServerUrl(),n.host,n._protocol),p=new Yu(r,"DELETE",function d(v,b){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=H0(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xa)}(n=(0,lt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw xP(e)}}class sN{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(aN(e))throw Fm("ref() expected a child path but got a URL, use refFromURL instead.");return new ec(nN(this._delegate,e),this)}refFromURL(e){if(!aN(e))throw Fm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yo.makeFromUrl(e,this._delegate.host)}catch{throw Fm("refFromUrl() expected a valid full URL but got an invalid one.")}return new ec(nN(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function rN(n,e,t,r={}){!function e2(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,lt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function aN(n){return/^[A-Za-z]+:\/\//.test(n)}function p2(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new sN(t,r)}function uN(n){const e=function m2(n){return new Qn.y(e=>{const t=d=>e.next(d);t(n.snapshot);const l=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){l()}}).pipe(function PB(n,e=o_.z){return(0,dr.e)((t,r)=>{let i=null,l=null,d=null;const p=()=>{if(i){i.unsubscribe(),i=null;const b=l;l=null,r.next(b)}};function v(){const b=d+n,S=e.now();if(S<b)return i=this.schedule(void 0,b-S),void r.add(i);p()}t.subscribe((0,Or.x)(r,b=>{l=b,d=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{l=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,tn.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function xC(n){return{getDownloadURL:()=>Ot(void 0).pipe(Rn.fc,rr(()=>n.getDownloadURL()),Rn.iC),getMetadata:()=>Ot(void 0).pipe(Rn.fc,rr(()=>n.getMetadata()),Rn.iC),delete:()=>(0,Ln.D)(n.delete()),child:e=>xC(n.child(e)),updateMetadata:e=>(0,Ln.D)(n.updateMetadata(e)),put:(e,t)=>uN(n.put(e,t)),putString:(e,t,r)=>uN(n.putString(e,t,r)),list:e=>(0,Ln.D)(n.list(e)),listAll:()=>(0,Ln.D)(n.listAll())}}!function g2(n){const e={TaskState:Bo,TaskEvent:PV,StringFormat:ws,Storage:sN,Reference:ec};n.INTERNAL.registerComponent(new an.wA("storage-compat",p2,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(Wb.Z);const lN=new u.OlP("angularfire2.storageBucket"),y2=new u.OlP("angularfire2.storage.maxUploadRetryTime"),v2=new u.OlP("angularfire2.storage.maxOperationRetryTime"),_2=new u.OlP("angularfire2.storage.use-emulator");let Bm=(()=>{class n{constructor(t,r,i,l,d,p,v,b,S,x){const Q=(0,Hr.on)(t,d,r);this.storage=(0,Hr.cc)(`${Q.name}.storage.${i}`,"AngularFireStorage",Q.name,()=>{const le=d.runOutsideAngular(()=>Q.storage(i||void 0)),Ae=S;return Ae&&le.useEmulator(...Ae),v&&le.setMaxUploadRetryTime(v),b&&le.setMaxOperationRetryTime(b),le},[v,b])}ref(t){return xC(this.storage.ref(t))}refFromURL(t){return xC(this.storage.refFromURL(t))}upload(t,r,i){return xC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hr.Dh),u.LFG(Hr.xv,8),u.LFG(lN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Rn.HU),u.LFG(y2,8),u.LFG(v2,8),u.LFG(_2,8),u.LFG(gh,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BM=(()=>{class n{constructor(t,r,i){this.storage=t,this.state=i,this.asyncPipe=new _o(r)}transform(t){var r;if(t!==this.path){this.path=t;const i=`|getDownloadURL|${t}`,l=null===(r=this.state)||void 0===r?void 0:r.get(i,void 0);this.downloadUrl$=l?Ot(l):this.storage.ref(t).getDownloadURL().pipe((0,ki.b)(d=>{var p;return null===(p=this.state)||void 0===p?void 0:p.set(i,d)}))}return this.asyncPipe.transform(this.downloadUrl$)}ngOnDestroy(){this.asyncPipe.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Bm,16),u.Y36(u.sBO,16),u.Y36(os,24))},n.\u0275pipe=u.Yjl({name:"getDownloadURL",type:n,pure:!1}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),w2=(()=>{class n{constructor(){mh.Z.registerVersion("angularfire",Rn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Bm],imports:[I2]}),n})(),VM=(()=>{class n{constructor(){this.carrito=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-carrito"]],inputs:{carrito:"carrito",articulo:"articulo"},decls:4,vars:1,consts:[["name","cart"]],template:function(t,r){1&t&&(u.TgZ(0,"p"),u._UZ(1,"ion-icon",0),u.TgZ(2,"strong"),u._uU(3),u.qZA()()),2&t&&(u.xp6(3),u.hij(" ",r.carrito,""))},dependencies:[mb]}),n})();const b2=function(n){return["/detalle",n]};function E2(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"ion-col",3)(2,"ion-card")(3,"ion-card-header")(4,"p"),u._uU(5),u.qZA()(),u.TgZ(6,"ion-card-content")(7,"a",4),u._UZ(8,"img",5),u.ALo(9,"getDownloadURL"),u.qZA(),u.TgZ(10,"p",6),u._uU(11),u.qZA(),u.TgZ(12,"ion-button",7),u.NdJ("click",function(){const l=u.CHM(t).$implicit,d=u.oxw();return u.KtG(d.agregarCarrito(l))}),u._uU(13,"Agregar al Carrito"),u.qZA()()()(),u.BQk()}if(2&n){const t=e.$implicit;u.xp6(5),u.Oqu(t.nombre),u.xp6(2),u.Q6J("routerLink",u.VKq(6,b2,t.id)),u.xp6(1),u.Q6J("src",u.lcZ(9,4,t.imagen),u.LSH),u.xp6(3),u.hij("$",t.precio,"")}}let C2=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.carritoService=r,this.aFirestore=i,this.aFireStorage=l,this.ruta=d,this.observaVar=Ot(1,2,3),this.obserVaCambios={next:v=>{console.log("Cambios en x "+v)}},this.categoria=this.ruta.snapshot.params.categoria,this.articulosColeccionFb=[],this.carro=0,this.agregarAcarrito=new u.vpe,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.coleccionFirebase=this.aFirestore.collection("articulos"),this.articulosFirebase=this.coleccionFirebase.valueChanges({idField:"id"}),this.articulosFirebase.subscribe(v=>{console.log(v)}),this.articuloDoc=this.aFirestore.doc("/articulos/1")}ngOnInit(){console.log(this.categoria)}ngOnDestroy(){this.articulosColeccionFb=[]}cargarFotos(){}subirFoto(t){const r=t.target.files[0];console.log(r.name);const l=this.aFireStorage.upload(`${r.name}`,r);l.percentageChanges().subscribe(d=>{this.progress=d}),l.snapshotChanges().subscribe()}agregarCarrito(t){this.carro++,this.agregarAcarrito.emit(this.carro),this.carritoService.testService()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pr),u.Y36(i_),u.Y36(bC),u.Y36(Bm),u.Y36(Yo))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-articulos"]],outputs:{agregarAcarrito:"agregarAcarrito"},decls:8,vars:5,consts:[[3,"carrito"],[3,"value"],[4,"ngFor","ngForOf"],["size","12","size-md","3"],[3,"routerLink"],["alt","",3,"src"],[1,"precio"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col"),u._UZ(3,"app-carrito",0)(4,"ion-progress-bar",1),u.qZA()(),u.TgZ(5,"ion-row"),u.YNc(6,E2,14,8,"ng-container",2),u.ALo(7,"async"),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("carrito",r.carro),u.xp6(1),u.Q6J("value",r.progress),u.xp6(2),u.Q6J("ngForOf",u.lcZ(7,3,r.articulosFirebase)))},dependencies:[oi,Pl,Ya,ad,lf,cf,df,ud,jv,Ul,Rg,VM,BM,_o],styles:["ion-card[_ngcontent-%COMP%]{height:100%;width:250px}ion-button[_ngcontent-%COMP%]{--background: #058d9e;--background-hover: #0d9e00;width:100%}ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}"]}),n})(),D2=(()=>{class n{constructor(t,r,i){this.ruta=t,this.af=r,this.storage=i,this.carro=0,this.cantidad=1,this.carroCopia=0,this.idArticulo=this.ruta.snapshot.params.id,this.articuloConsulta=this.af.doc(`/articulos/${this.idArticulo}`),this.articuloDetalle=this.articuloConsulta.valueChanges();const l=this.storage.ref("articulos");this.meta=l.getMetadata()}ngOnInit(){this.articuloConsulta.valueChanges().subscribe(t=>{console.log(t)}),console.log(this.meta)}agregarCarrito(){this.carro=this.carro+this.cantidad}seleccionarCantidad(t){this.cantidad=parseInt(t.target.value)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yo),u.Y36(bC),u.Y36(Bm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-articulo-detalle"]],outputs:{carroCopia:"carroCopia"},decls:48,vars:18,consts:[[3,"carrito"],["size","12","size-md","5"],[3,"src","alt"],["size","12","offset-md","1","size-md","2"],["interface","popover","placeholder","Cantidad",3,"ionChange"],["value","1"],["value","2"],["value","3"],[3,"click"],["shape","round","color","warning"]],template:function(t,r){if(1&t&&(u.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col"),u._UZ(3,"app-carrito",0),u.qZA()(),u.TgZ(4,"ion-row")(5,"ion-col",1)(6,"ion-card")(7,"ion-card-content")(8,"p"),u._uU(9),u.ALo(10,"async"),u.qZA(),u._UZ(11,"img",2),u.ALo(12,"getDownloadURL"),u.ALo(13,"async"),u.ALo(14,"async"),u.qZA()()(),u.TgZ(15,"ion-col",3)(16,"h2"),u._uU(17),u.ALo(18,"async"),u.qZA(),u.TgZ(19,"p"),u._uU(20),u.ALo(21,"async"),u.qZA()(),u.TgZ(22,"ion-col",3)(23,"p"),u._uU(24,"Entrega "),u.TgZ(25,"strong"),u._uU(26,"GRATIS"),u.qZA(),u._uU(27," hoy "),u.qZA(),u.TgZ(28,"ion-list")(29,"ion-item")(30,"ion-select",4),u.NdJ("ionChange",function(l){return r.seleccionarCantidad(l)}),u.TgZ(31,"ion-select-option",5),u._uU(32,"1"),u.qZA(),u.TgZ(33,"ion-select-option",6),u._uU(34,"2"),u.qZA(),u.TgZ(35,"ion-select-option",7),u._uU(36,"3"),u.qZA()()()(),u.TgZ(37,"p"),u._uU(38,"Vas a agregar"),u._UZ(39,"strong"),u.qZA(),u.TgZ(40,"ion-button",8),u.NdJ("click",function(){return r.agregarCarrito()}),u._uU(41,"Agregar al Carrito"),u.qZA(),u.TgZ(42,"ion-button",9),u._uU(43," Comprar ya "),u.qZA()()(),u.TgZ(44,"ion-row")(45,"ion-col")(46,"h2"),u._uU(47,"Reviews"),u.qZA()()()()),2&t){let i,l,d,p,v;u.xp6(3),u.Q6J("carrito",r.carro),u.xp6(6),u.Oqu(null==(i=u.lcZ(10,6,r.articuloDetalle))?null:i.nombre),u.xp6(2),u.s9C("alt",null==(l=u.lcZ(14,12,r.articuloDetalle))?null:l.nombre),u.Q6J("src",u.lcZ(12,8,null==(d=u.lcZ(13,10,r.articuloDetalle))?null:d.imagen),u.LSH),u.xp6(6),u.hij("Comprar ",null==(p=u.lcZ(18,14,r.articuloDetalle))?null:p.nombre,""),u.xp6(3),u.hij("$",null==(v=u.lcZ(21,16,r.articuloDetalle))?null:v.precio,"")}},dependencies:[Ya,ad,lf,df,ud,Tg,Bv,Ul,Ag,hf,lb,VM,BM,_o],styles:["p[_ngcontent-%COMP%]{font-weight:700;color:#000}p.review[_ngcontent-%COMP%]{font-weight:100}ion-button[_ngcontent-%COMP%]{display:block;width:100%}ion-card[_ngcontent-%COMP%]{height:100%;width:250px}"]}),n})(),T2=(()=>{class n{constructor(t,r){this.email=t??"",this.password=r??""}login(){console.log(this.email),console.log(this.password)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36("EMAIL"),u.Y36("PASSWORD"))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:8,vars:2,consts:[[1,"login"],["method","post",1,"custom-form"],["type","email","name","email","placeholder","Email","required","required",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","required",3,"ngModel","ngModelChange"],["type","submit",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1)(2,"h1"),u._uU(3,"Login"),u.qZA(),u.TgZ(4,"input",2),u.NdJ("ngModelChange",function(l){return r.email=l}),u.qZA(),u.TgZ(5,"input",3),u.NdJ("ngModelChange",function(l){return r.password=l}),u.qZA(),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.login()}),u._uU(7,"Log in"),u.qZA()()()),2&t&&(u.xp6(4),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Mo,Ga,za,qa,ef,Ll,Fl],styles:["input[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;opacity:.9}"]}),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const S2=function(n){return["/detalle",n]};function A2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ion-col",4)(1,"ion-card")(2,"ion-card-header")(3,"p"),u._uU(4),u.qZA()(),u.TgZ(5,"ion-card-content")(6,"a",5),u._UZ(7,"img",6),u.ALo(8,"getDownloadURL"),u.qZA(),u.TgZ(9,"p",7),u._uU(10),u.qZA(),u.TgZ(11,"ion-button",8),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit,l=u.oxw();return u.KtG(l.agregarCarrito(i))}),u._uU(12,"Agregar al Carrito"),u.qZA()()()()}if(2&n){const t=u.oxw().$implicit;u.xp6(4),u.Oqu(t.nombre),u.xp6(2),u.Q6J("routerLink",u.VKq(6,S2,t.id)),u.xp6(1),u.Q6J("src",u.lcZ(8,4,t.imagen),u.LSH),u.xp6(3),u.hij("$",t.precio,"")}}function x2(n,e){if(1&n&&(u.ynx(0),u.YNc(1,A2,13,8,"ion-col",3),u.BQk()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngIf",t.categoria==r.categoria)}}const M2=[{path:"articulos",component:C2},{path:"detalle/:id",component:D2},{path:"login",component:T2},{path:"register",component:(()=>{class n{constructor(t,r){this.email=t??"",this.password=r??""}registro(){console.log(this.email),console.log(this.password)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36("EMAIL"),u.Y36("PASSWORD"))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:8,vars:2,consts:[[1,"register"],["method","post",1,"custom-form"],["type","email","name","email","placeholder","Email","required","required",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","required",3,"ngModel","ngModelChange"],["type","submit",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1)(2,"h1"),u._uU(3,"Register"),u.qZA(),u.TgZ(4,"input",2),u.NdJ("ngModelChange",function(l){return r.email=l}),u.qZA(),u.TgZ(5,"input",3),u.NdJ("ngModelChange",function(l){return r.password=l}),u.qZA(),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.registro()}),u._uU(7,"Log in"),u.qZA()()()),2&t&&(u.xp6(4),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngModel",r.password))},dependencies:[Mo,Ga,za,qa,ef,Ll,Fl],styles:["input[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;opacity:.9}"]}),n})()},{path:"categoria/:categoria",component:(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.carritoService=r,this.aFirestore=i,this.aFireStorage=l,this.ruta=d,this.observaVar=Ot(1,2,3),this.obserVaCambios={next:v=>{console.log("Cambios en x "+v)}},this.categoria=this.ruta.snapshot.params.categoria,this.articulosColeccionFb=[],this.carro=0,this.agregarAcarrito=new u.vpe,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.coleccionFirebase=this.aFirestore.collection("articulos"),this.articulosFirebase=this.coleccionFirebase.valueChanges({idField:"id"}),this.articulosFirebase.subscribe(v=>{console.log(v)}),this.articuloDoc=this.aFirestore.doc("/articulos/1")}ngOnInit(){console.log(this.categoria)}ngOnDestroy(){this.articulosColeccionFb=[]}cargarFotos(){}subirFoto(t){const r=t.target.files[0];console.log(r.name);const l=this.aFireStorage.upload(`${r.name}`,r);l.percentageChanges().subscribe(d=>{this.progress=d}),l.snapshotChanges().subscribe()}agregarCarrito(t){this.carro++,this.agregarAcarrito.emit(this.carro),this.carritoService.testService()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pr),u.Y36(i_),u.Y36(bC),u.Y36(Bm),u.Y36(Yo))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-categorias"]],outputs:{agregarAcarrito:"agregarAcarrito"},decls:8,vars:5,consts:[[3,"carrito"],[3,"value"],[4,"ngFor","ngForOf"],["size","12","size-md","3",4,"ngIf"],["size","12","size-md","3"],[3,"routerLink"],["alt","",3,"src"],[1,"precio"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col"),u._UZ(3,"app-carrito",0)(4,"ion-progress-bar",1),u.qZA()(),u.TgZ(5,"ion-row"),u.YNc(6,x2,2,1,"ng-container",2),u.ALo(7,"async"),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("carrito",r.carro),u.xp6(1),u.Q6J("value",r.progress),u.xp6(2),u.Q6J("ngForOf",u.lcZ(7,3,r.articulosFirebase)))},dependencies:[oi,$,Pl,Ya,ad,lf,cf,df,ud,jv,Ul,Rg,VM,BM,_o],styles:["ion-card[_ngcontent-%COMP%]{height:100%;width:250px}ion-button[_ngcontent-%COMP%]{--background: #058d9e;--background-hover: #0d9e00;width:100%}ion-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}"]}),n})()},{path:"admin",component:(()=>{class n{constructor(t,r,i,l){this.aFirestore=t,this.builder=r,this.storage=i,this.alertController=l,this.objeto={},this.image="assets/imagenes/articulos/articulo1.jpg",this.coleccionFirebase=t.collection("articulos"),this.articulosFirebase=this.coleccionFirebase.valueChanges()}ngOnInit(){}presentAlert(){var t=this;return(0,Ce.Z)(function*(){yield(yield t.alertController.create({header:"Listo!!",message:"El producto ha sido subido correctamente",buttons:["OK"]})).present()})()}agregarArticulo(t){this.coleccionFirebase.add(t)}onFileChanged(t){this.objeto.imagen="assets/imagenes/articulos/"+t.target.files[0].name,this.archivo=t.target.files[0],this.updateImage(t)}articuloSubmit(){this.uploadFile(this.archivo),this.agregarArticulo(this.objeto),this.presentAlert()}updateImage(t){if(t.target.files&&t.target.files[0]){var r=new FileReader;r.onload=i=>{this.image=i.target.result},r.readAsDataURL(t.target.files[0])}}uploadFile(t){this.storage.upload("assets/imagenes/articulos/"+t.name,t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bC),u.Y36(Bl),u.Y36(Bm),u.Y36(US))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-admin"]],decls:40,vars:6,consts:[["size","11",1,"ion-text-start"],[3,"ngSubmit"],["agregarForm","ngForm"],["mode","ios"],[1,"ion-padding-vertical"],[1,"contenidoForm"],["size","12","size-md","8",1,"ion-text-justify"],[1,"ion-padding-top"],["name","autores","placeholder","Laptop..",3,"clearInput","ngModel","ngModelChange"],["name","precio","placeholder","45","type","number",3,"clearInput","ngModel","ngModelChange"],["mode","md"],["id","selectCategoria","interface","popover","placeholder","Categoria","name","categoria",3,"ngModel","ngModelChange"],["value","pc"],["value","celulares"],["value","consola"],["value","laptop"],["value","tablet"],["type","file","name","imagen",3,"change"],["expand","block","mode","md","type","submit",1,"ion-activatable","ripple-parent"],["mode","ios","type","unbounded"],["size","12","size-md","4",1,"ion-text-justify"],[3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"form",1,2),u.NdJ("ngSubmit",function(){return r.articuloSubmit()}),u.TgZ(5,"ion-card",3)(6,"ion-card-header")(7,"ion-card-title",4),u._uU(8,"Agregar un articulo"),u.qZA()(),u.TgZ(9,"ion-card-content",5)(10,"ion-row")(11,"ion-col",6)(12,"ion-label",7),u._uU(13,"Nombre:"),u.qZA(),u.TgZ(14,"ion-input",8),u.NdJ("ngModelChange",function(l){return r.objeto.nombre=l}),u.qZA(),u.TgZ(15,"ion-label",7),u._uU(16,"Precio: $"),u.qZA(),u.TgZ(17,"ion-input",9),u.NdJ("ngModelChange",function(l){return r.objeto.precio=l}),u.qZA(),u.TgZ(18,"ion-label",7),u._uU(19,"Categoria:"),u.qZA(),u.TgZ(20,"ion-item",10)(21,"ion-select",11),u.NdJ("ngModelChange",function(l){return r.objeto.categoria=l}),u.TgZ(22,"ion-select-option",12),u._uU(23,"PC"),u.qZA(),u.TgZ(24,"ion-select-option",13),u._uU(25,"Celular"),u.qZA(),u.TgZ(26,"ion-select-option",14),u._uU(27,"Consola"),u.qZA(),u.TgZ(28,"ion-select-option",15),u._uU(29,"Laptop"),u.qZA(),u.TgZ(30,"ion-select-option",16),u._uU(31,"Tablet"),u.qZA()()(),u.TgZ(32,"ion-label",7),u._uU(33,"Imagen:"),u.qZA(),u.TgZ(34,"ion-input",17),u.NdJ("change",function(l){return r.onFileChanged(l)}),u.qZA(),u.TgZ(35,"ion-button",18),u._uU(36,"Guardar producto "),u._UZ(37,"ion-ripple-effect",19),u.qZA()(),u.TgZ(38,"ion-col",20),u._UZ(39,"ion-img",21),u.qZA()()()()()()()()),2&t&&(u.xp6(14),u.Q6J("clearInput",!0)("ngModel",r.objeto.nombre),u.xp6(3),u.Q6J("clearInput",!0)("ngModel",r.objeto.precio),u.xp6(4),u.Q6J("ngModel",r.objeto.categoria),u.xp6(18),u.Q6J("src",r.image))},dependencies:[Mo,za,qa,Ll,Fl,Ya,ad,lf,cf,Pv,df,ud,yb,vb,Tg,$v,Gv,Ul,Ag,hf,KT,lb,XT],styles:["ion-button[_ngcontent-%COMP%]{margin:10px;--background: #058d9e;--background-hover: #0d9e00}ion-item[_ngcontent-%COMP%]{margin:10px;--background: #a0ffe99c}"]}),n})()}];let R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sw.forRoot(M2),sw]}),n})();const UM_firebaseConfig={apiKey:"AIzaSyAGJxIDEuk0WeTAO8sf0lkJaDrDpi7jL6g",authDomain:"ionic-angular-83d13.firebaseapp.com",projectId:"ionic-angular-83d13",storageBucket:"ionic-angular-83d13.appspot.com",messagingSenderId:"301390059362",appId:"1:301390059362:web:7b0cb9f9985ce2498a7e3b",measurementId:"G-C2SEBTZ4L0"};var k2=O(8247);class jM{constructor(e){return e}}const HM=new u.OlP("angularfire2.auth-instances");function N2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jM(r)}}const F2={provide:class O2{constructor(){return(0,Rn.vb)("auth")}},deps:[[new u.FiY,HM]]},L2={provide:jM,useFactory:function P2(n,e){const t=(0,Rn.JM)("auth",n,e);return t&&new jM(t)},deps:[[new u.FiY,HM],class yi{constructor(e){return e}}]};let $2=(()=>{class n{constructor(){(0,So.KN)("angularfire",Rn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[L2,F2]}),n})();function B2(n,...e){return{ngModule:$2,providers:[{provide:HM,useFactory:N2(n),multi:!0,deps:[u.R0b,u.zs3,Rn.HU,yu,[new u.FiY,gh],...e]}]}}(0,So.ZF)(UM_firebaseConfig);let V2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[zS]}),n.\u0275inj=u.cJS({providers:[{provide:lN,useValue:""},{provide:"EMAIL",useValue:""},{provide:"PASSWORD",useValue:""}],imports:[Hr.hO.initializeApp(UM_firebaseConfig),w2,VC,B2(()=>(0,k2.n)()),Us,Jw,Dv,R2,qb.forRoot()]}),n})();(0,u.G48)(),Aa().bootstrapModule(V2).catch(n=>console.error(n))},5867:(Dt,Ge,O)=>{"use strict";O.d(Ge,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=O(9681);(0,u.registerVersion)("firebase","9.14.0","app")},127:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Dt,Ge,O)=>{"use strict";O.r(Ge);var u=O(5861),U=O(3942),R=O(8247),me=O(2090),te=(O(9681),O(1877),O(4859));function he(){return window}function Y(){return(Y=(0,u.Z)(function*(q,k,H){var Me;const{BuildInfo:nt}=he();(0,R.ap)(k.sessionId,"AuthEvent did not contain a session ID");const Tt=yield B(k.sessionId),At={};return(0,R.aq)()?At.ibi=nt.packageName:(0,R.ar)()?At.apn=nt.packageName:(0,R.as)(q,"operation-not-supported-in-this-environment"),nt.displayName&&(At.appDisplayName=nt.displayName),At.sessionId=Tt,(0,R.at)(q,H,k.type,void 0,null!==(Me=k.eventId)&&void 0!==Me?Me:void 0,At)})).apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(q){const{BuildInfo:k}=he(),H={};(0,R.aq)()?H.iosBundleId=k.packageName:(0,R.ar)()?H.androidPackageName=k.packageName:(0,R.as)(q,"operation-not-supported-in-this-environment"),yield(0,R.au)(q,H)})).apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(q,k,H){const{cordova:Me}=he();let nt=()=>{};try{yield new Promise((Tt,At)=>{let et=null;function st(){var Qt;Tt();const xn=null===(Qt=Me.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof xn&&xn(),"function"==typeof H?.close&&H.close()}function Yt(){et||(et=window.setTimeout(()=>{At((0,R.aw)(q,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===document?.visibilityState&&Yt()}k.addPassiveListener(st),document.addEventListener("resume",Yt,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",Sn,!1),nt=()=>{k.removePassiveListener(st),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",Sn,!1),et&&window.clearTimeout(et)}})}finally{nt()}})).apply(this,arguments)}function B(q){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(q){const k=Ue(q),H=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(H)).map(nt=>nt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ue(q){if((0,R.ap)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(q);const k=new ArrayBuffer(q.length),H=new Uint8Array(k);for(let Me=0;Me<q.length;Me++)H[Me]=q.charCodeAt(Me);return H}class Te extends R.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(k)),super.onEvent(k)}initialized(){var k=this;return(0,u.Z)(function*(){yield k.initPromise})()}}function z(q){return re.apply(this,arguments)}function re(){return(re=(0,u.Z)(function*(q){const k=yield V()._get(W(q));return k&&(yield V()._remove(W(q))),k})).apply(this,arguments)}function G(){const q=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Me=Math.floor(Math.random()*k.length);q.push(k.charAt(Me))}return q.join("")}function V(){return(0,R.az)(R.b)}function W(q){return(0,R.aA)("authEvent",q.config.apiKey,q.name)}function qe(q){if(!q?.includes("?"))return{};const[k,...H]=q.split("?");return(0,me.zd)(H.join("?"))}function ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function ht(){var q;return(null===(q=self?.location)||void 0===q?void 0:q.protocol)||null}function ct(q=(0,me.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function pn(){try{const q=self.localStorage,k=R.aI();if(q)return q.setItem(k,"1"),q.removeItem(k),!function In(q=(0,me.z$)()){return function un(){return(0,me.w1)()&&11===document?.documentMode}()||function hn(q=(0,me.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,me.hl)()}catch{return bn()&&(0,me.hl)()}return!1}function bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function ft(){return"http:"===ht()||"https:"===ht()}()||(0,me.ru)()||ct())&&!function Jt(){return(0,me.b$)()||(0,me.UG)()}()&&pn()&&!bn()}function sr(){return ct()&&typeof document<"u"}function gt(){return(gt=(0,u.Z)(function*(){return!!sr()&&new Promise(q=>{const k=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),q(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},On=R.ax,Tn="persistence";function Pn(q){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(q){yield q._initializationPromise;const k=kt(),H=R.aA(Tn,q.config.apiKey,q.name);k&&k.setItem(H,q._getPersistence())})).apply(this,arguments)}function kt(){var q;try{return(null===(q=function Jn(){return typeof window<"u"?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch{return null}}const Pt=R.ax;class Gt{constructor(){this.browserResolver=R.az(R.k),this.cordovaResolver=R.az(class $e{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(k){var H=this;return(0,u.Z)(function*(){const Me=k._key();let nt=H.eventManagers.get(Me);return nt||(nt=new Te(k),H.eventManagers.set(Me,nt),H.attachCallbackListeners(k,nt)),nt})()}_openPopup(k){(0,R.as)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,H,Me,nt){var Tt=this;return(0,u.Z)(function*(){!function ne(q){var k,H,Me,nt,Tt,At,et,st,Yt,Sn;const Qt=he();(0,R.ax)("function"==typeof(null===(k=Qt?.universalLinks)||void 0===k?void 0:k.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(typeof(null===(H=Qt?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(Tt=null===(nt=null===(Me=Qt?.cordova)||void 0===Me?void 0:Me.plugins)||void 0===nt?void 0:nt.browsertab)||void 0===Tt?void 0:Tt.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(st=null===(et=null===(At=Qt?.cordova)||void 0===At?void 0:At.plugins)||void 0===et?void 0:et.browsertab)||void 0===st?void 0:st.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Sn=null===(Yt=Qt?.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===Sn?void 0:Sn.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const At=yield Tt._initialize(k);yield At.initialized(),At.resetRedirect(),(0,R.aD)(),yield Tt._originValidation(k);const et=function we(q,k,H=null){return{type:k,eventId:H,urlResponse:null,sessionId:G(),postBody:null,tenantId:q.tenantId,error:(0,R.aw)(q,"no-auth-event")}}(k,Me,nt);yield function oe(q,k){return V()._set(W(q),k)}(k,et);const st=yield function K(q,k,H){return Y.apply(this,arguments)}(k,et,H),Yt=yield function ge(q){const{cordova:k}=he();return new Promise(H=>{k.plugins.browsertab.isAvailable(Me=>{let nt=null;Me?k.plugins.browsertab.openUrl(q):nt=k.InAppBrowser.open(q,(0,R.av)()?"_blank":"_system","location=yes"),H(nt)})})}(st);return function fe(q,k,H){return He.apply(this,arguments)}(k,At,Yt)})()}_isIframeWebStorageSupported(k,H){throw new Error("Method not implemented.")}_originValidation(k){const H=k._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(q){return ae.apply(this,arguments)}(k)),this.originValidationPromises[H]}attachCallbackListeners(k,H){const{universalLinks:Me,handleOpenURL:nt,BuildInfo:Tt}=he(),At=setTimeout((0,u.Z)(function*(){yield z(k),H.onEvent(ce())}),500),et=function(){var Sn=(0,u.Z)(function*(Qt){clearTimeout(At);const xn=yield z(k);let di=null;xn&&Qt?.url&&(di=function de(q,k){var H,Me;const nt=function Le(q){const k=qe(q),H=k.link?decodeURIComponent(k.link):void 0,Me=qe(H).link,nt=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return qe(nt).link||nt||Me||H||q}(k);if(nt.includes("/__/auth/callback")){const Tt=qe(nt),At=Tt.firebaseError?function Z(q){try{return JSON.parse(q)}catch{return null}}(decodeURIComponent(Tt.firebaseError)):null,et=null===(Me=null===(H=At?.code)||void 0===H?void 0:H.split("auth/"))||void 0===Me?void 0:Me[1],st=et?(0,R.aw)(et):null;return st?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:st,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:nt,postBody:null}}return null}(xn,Qt.url)),H.onEvent(di||ce())});return function(xn){return Sn.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,et);const st=nt,Yt=`${Tt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Sn=(0,u.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Yt)&&et({url:Qt}),"function"==typeof st)try{st(Qt)}catch(xn){console.error(xn)}});return function(Qt){return Sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(k){var H=this;return(0,u.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,H,Me,nt){var Tt=this;return(0,u.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openPopup(k,H,Me,nt)})()}_openRedirect(k,H,Me,nt){var Tt=this;return(0,u.Z)(function*(){return yield Tt.selectUnderlyingResolver(),Tt.assertedUnderlyingResolver._openRedirect(k,H,Me,nt)})()}_isIframeWebStorageSupported(k,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,H)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,u.Z)(function*(){if(k.underlyingResolver)return;const H=yield function $r(){return gt.apply(this,arguments)}();k.underlyingResolver=H?k.cordovaResolver:k.browserResolver})()}}function ar(q){return q.unwrap()}function Bn(q){return Er(q)}function Er(q){const{_tokenResponse:k}=q instanceof me.ZR?q.customData:q;if(!k)return null;if(!(q instanceof me.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return R.P.credentialFromResult(q);const H=k.providerId;if(!H||H===R.o.PASSWORD)return null;let Me;switch(H){case R.o.GOOGLE:Me=R.Q;break;case R.o.FACEBOOK:Me=R.N;break;case R.o.GITHUB:Me=R.T;break;case R.o.TWITTER:Me=R.W;break;default:const{oauthIdToken:nt,oauthAccessToken:Tt,oauthTokenSecret:At,pendingToken:et,nonce:st}=k;return Tt||At||nt||et?et?H.startsWith("saml.")?R.aL._create(H,et):R.J._fromParams({providerId:H,signInMethod:H,pendingToken:et,idToken:nt,accessToken:Tt}):new R.U(H).credential({idToken:nt,accessToken:Tt,rawNonce:st}):null}return q instanceof me.ZR?Me.credentialFromError(q):Me.credentialFromResult(q)}function Xt(q,k){return k.catch(H=>{throw H instanceof me.ZR&&function zt(q,k){var H,Me;const nt=null===(H=k.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Me=k)||void 0===Me?void 0:Me.code))k.resolver=new ur(q,R.an(q,k));else if(nt){const Tt=Er(k),At=k;Tt&&(At.credential=Tt,At.tenantId=nt.tenantId||void 0,At.email=nt.email||void 0,At.phoneNumber=nt.phoneNumber||void 0)}}(q,H),H}).then(H=>{const nt=H.user;return{operationType:H.operationType,credential:Bn(H),additionalUserInfo:R.al(H),user:Un.getOrCreate(nt)}})}function Yr(q,k){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(q,k){const H=yield k;return{verificationId:H.verificationId,confirm:Me=>Xt(q,H.confirm(Me))}})).apply(this,arguments)}class ur{constructor(k,H){this.resolver=H,this.auth=function Kn(q){return q.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Xt(ar(this.auth),this.resolver.resolveSignIn(k))}}class Un{constructor(k){this._delegate=k,this.multiFactor=R.ao(k)}static getOrCreate(k){return Un.USER_MAP.has(k)||Un.USER_MAP.set(k,new Un(k)),Un.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var H=this;return(0,u.Z)(function*(){return Xt(H.auth,R.Z(H._delegate,k))})()}linkWithPhoneNumber(k,H){var Me=this;return(0,u.Z)(function*(){return Yr(Me.auth,R.l(Me._delegate,k,H))})()}linkWithPopup(k){var H=this;return(0,u.Z)(function*(){return Xt(H.auth,R.d(H._delegate,k,Gt))})()}linkWithRedirect(k){var H=this;return(0,u.Z)(function*(){return yield Pn(R.aE(H.auth)),R.g(H._delegate,k,Gt)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var H=this;return(0,u.Z)(function*(){return Xt(H.auth,R._(H._delegate,k))})()}reauthenticateWithPhoneNumber(k,H){return Yr(this.auth,R.r(this._delegate,k,H))}reauthenticateWithPopup(k){return Xt(this.auth,R.e(this._delegate,k,Gt))}reauthenticateWithRedirect(k){var H=this;return(0,u.Z)(function*(){return yield Pn(R.aE(H.auth)),R.h(H._delegate,k,Gt)})()}sendEmailVerification(k){return R.ab(this._delegate,k)}unlink(k){var H=this;return(0,u.Z)(function*(){return yield R.ak(H._delegate,k),H})()}updateEmail(k){return R.ag(this._delegate,k)}updatePassword(k){return R.ah(this._delegate,k)}updatePhoneNumber(k){return R.u(this._delegate,k)}updateProfile(k){return R.af(this._delegate,k)}verifyBeforeUpdateEmail(k,H){return R.ac(this._delegate,k,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const wt=R.ax;let Xe=(()=>{class q{constructor(H,Me){if(this.app=H,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:nt}=H.options;wt(nt,"invalid-api-key",{appName:H.name}),wt(nt,"invalid-api-key",{appName:H.name});const Tt=typeof window<"u"?Gt:void 0;this._delegate=Me.initialize({options:{persistence:$t(nt,H.name),popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Me){R.G(this._delegate,H,Me)}applyActionCode(H){return R.a2(this._delegate,H)}checkActionCode(H){return R.a3(this._delegate,H)}confirmPasswordReset(H,Me){return R.a1(this._delegate,H,Me)}createUserWithEmailAndPassword(H,Me){var nt=this;return(0,u.Z)(function*(){return Xt(nt._delegate,R.a5(nt._delegate,H,Me))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return R.aa(this._delegate,H)}isSignInWithEmailLink(H){return R.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,u.Z)(function*(){wt(kn(),H._delegate,"operation-not-supported-in-this-environment");const Me=yield R.j(H._delegate,Gt);return Me?Xt(H._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function De(q,k){(0,R.aE)(q)._logFramework(k)}(this._delegate,H)}onAuthStateChanged(H,Me,nt){const{next:Tt,error:At,complete:et}=bt(H,Me,nt);return this._delegate.onAuthStateChanged(Tt,At,et)}onIdTokenChanged(H,Me,nt){const{next:Tt,error:At,complete:et}=bt(H,Me,nt);return this._delegate.onIdTokenChanged(Tt,At,et)}sendSignInLinkToEmail(H,Me){return R.a7(this._delegate,H,Me)}sendPasswordResetEmail(H,Me){return R.a0(this._delegate,H,Me||void 0)}setPersistence(H){var Me=this;return(0,u.Z)(function*(){let nt;switch(function Jr(q,k){On(Object.values(Dn).includes(k),q,"invalid-persistence-type"),(0,me.b$)()?On(k!==Dn.SESSION,q,"unsupported-persistence-type"):(0,me.UG)()?On(k===Dn.NONE,q,"unsupported-persistence-type"):bn()?On(k===Dn.NONE||k===Dn.LOCAL&&(0,me.hl)(),q,"unsupported-persistence-type"):On(k===Dn.NONE||pn(),q,"unsupported-persistence-type")}(Me._delegate,H),H){case Dn.SESSION:nt=R.a;break;case Dn.LOCAL:nt=(yield R.az(R.i)._isAvailable())?R.i:R.b;break;case Dn.NONE:nt=R.L;break;default:return R.as("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(nt)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Xt(this._delegate,R.X(this._delegate))}signInWithCredential(H){return Xt(this._delegate,R.Y(this._delegate,H))}signInWithCustomToken(H){return Xt(this._delegate,R.$(this._delegate,H))}signInWithEmailAndPassword(H,Me){return Xt(this._delegate,R.a6(this._delegate,H,Me))}signInWithEmailLink(H,Me){return Xt(this._delegate,R.a9(this._delegate,H,Me))}signInWithPhoneNumber(H,Me){return Yr(this._delegate,R.s(this._delegate,H,Me))}signInWithPopup(H){var Me=this;return(0,u.Z)(function*(){return wt(kn(),Me._delegate,"operation-not-supported-in-this-environment"),Xt(Me._delegate,R.c(Me._delegate,H,Gt))})()}signInWithRedirect(H){var Me=this;return(0,u.Z)(function*(){return wt(kn(),Me._delegate,"operation-not-supported-in-this-environment"),yield Pn(Me._delegate),R.f(Me._delegate,H,Gt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return R.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Dn,q})();function bt(q,k,H){let Me=q;"function"!=typeof q&&({next:Me,error:k,complete:H}=q);const nt=Me;return{next:At=>nt(At&&Un.getOrCreate(At)),error:k,complete:H}}function $t(q,k){const H=function Nn(q,k){const H=kt();if(!H)return[];const Me=R.aA(Tn,q,k);switch(H.getItem(Me)){case Dn.NONE:return[R.L];case Dn.LOCAL:return[R.i,R.a];case Dn.SESSION:return[R.a];default:return[]}}(q,k);if(typeof self<"u"&&!H.includes(R.i)&&H.push(R.i),typeof window<"u")for(const Me of[R.b,R.a])H.includes(Me)||H.push(Me);return H.includes(R.L)||H.push(R.L),H}class Vt{constructor(){this.providerId="phone",this._delegate=new R.P(ar(U.Z.auth()))}static credential(k,H){return R.P.credential(k,H)}verifyPhoneNumber(k,H){return this._delegate.verifyPhoneNumber(k,H)}unwrap(){return this._delegate}}Vt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Vt.PROVIDER_ID=R.P.PROVIDER_ID;const fn=R.ax;class ie{constructor(k,H,Me=U.Z.app()){var nt;fn(null===(nt=Me.options)||void 0===nt?void 0:nt.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new R.R(k,H,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function se(q){q.INTERNAL.registerComponent(new te.wA("auth-compat",k=>{const H=k.getProvider("app-compat").getImmediate(),Me=k.getProvider("auth");return new Xe(H,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Vt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:ie,TwitterAuthProvider:R.W,Auth:Xe,AuthCredential:R.H,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.24")}(U.Z)},9751:(Dt,Ge,O)=>{"use strict";O.d(Ge,{y:()=>he});var u=O(2961),U=O(727),R=O(8822),me=O(9635),Ie=O(2416),xe=O(576),te=O(2806);let he=(()=>{class ee{constructor(ge){ge&&(this._subscribe=ge)}lift(ge){const fe=new ee;return fe.source=this,fe.operator=ge,fe}subscribe(ge,fe,He){const ne=function Y(ee){return ee&&ee instanceof u.Lv||function K(ee){return ee&&(0,xe.m)(ee.next)&&(0,xe.m)(ee.error)&&(0,xe.m)(ee.complete)}(ee)&&(0,U.Nn)(ee)}(ge)?ge:new u.Hp(ge,fe,He);return(0,te.x)(()=>{const{operator:B,source:Pe}=this;ne.add(B?B.call(ne,Pe):Pe?this._subscribe(ne):this._trySubscribe(ne))}),ne}_trySubscribe(ge){try{return this._subscribe(ge)}catch(fe){ge.error(fe)}}forEach(ge,fe){return new(fe=_e(fe))((He,ne)=>{const B=new u.Hp({next:Pe=>{try{ge(Pe)}catch(Ue){ne(Ue),B.unsubscribe()}},error:ne,complete:He});this.subscribe(B)})}_subscribe(ge){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ge)}[R.L](){return this}pipe(...ge){return(0,me.U)(ge)(this)}toPromise(ge){return new(ge=_e(ge))((fe,He)=>{let ne;this.subscribe(B=>ne=B,B=>He(B),()=>fe(ne))})}}return ee.create=ae=>new ee(ae),ee})();function _e(ee){var ae;return null!==(ae=ee??Ie.v.Promise)&&void 0!==ae?ae:Promise}},7579:(Dt,Ge,O)=>{"use strict";O.d(Ge,{x:()=>te});var u=O(9751),U=O(727);const me=(0,O(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=O(8737),xe=O(2806);let te=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ee=new he(this,this);return ee.operator=Y,ee}_throwIfClosed(){if(this.closed)throw new me}next(Y){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(Y)}})}error(Y){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ee}=this;for(;ee.length;)ee.shift().error(Y)}})}complete(){(0,xe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ee,isStopped:ae,observers:ge}=this;return ee||ae?U.Lc:(this.currentObservers=null,ge.push(Y),new U.w0(()=>{this.currentObservers=null,(0,Ie.P)(ge,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ee,thrownError:ae,isStopped:ge}=this;ee?Y.error(ae):ge&&Y.complete()}asObservable(){const Y=new u.y;return Y.source=this,Y}}return _e.create=(K,Y)=>new he(K,Y),_e})();class he extends te{constructor(K,Y){super(),this.destination=K,this.source=Y}next(K){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ee||ee.call(Y,K)}error(K){var Y,ee;null===(ee=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ee||ee.call(Y,K)}complete(){var K,Y;null===(Y=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===Y||Y.call(K)}_subscribe(K){var Y,ee;return null!==(ee=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(K))&&void 0!==ee?ee:U.Lc}}},2961:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Hp:()=>He,Lv:()=>ee});var u=O(576),U=O(727),R=O(2416),me=O(7849);function Ie(){}const xe=_e("C",void 0,void 0);function _e(Se,Te,we){return{kind:Se,value:Te,error:we}}var K=O(3410),Y=O(2806);class ee extends U.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,U.Nn)(Te)&&Te.add(this)):this.destination=Ue}static create(Te,we,oe){return new He(Te,we,oe)}next(Te){this.isStopped?Pe(function he(Se){return _e("N",Se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Pe(function te(Se){return _e("E",void 0,Se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Pe(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ae=Function.prototype.bind;function ge(Se,Te){return ae.call(Se,Te)}class fe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:we}=this;if(we.next)try{we.next(Te)}catch(oe){ne(oe)}}error(Te){const{partialObserver:we}=this;if(we.error)try{we.error(Te)}catch(oe){ne(oe)}else ne(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(we){ne(we)}}}class He extends ee{constructor(Te,we,oe){let z;if(super(),(0,u.m)(Te)||!Te)z={next:Te??void 0,error:we??void 0,complete:oe??void 0};else{let re;this&&R.v.useDeprecatedNextContext?(re=Object.create(Te),re.unsubscribe=()=>this.unsubscribe(),z={next:Te.next&&ge(Te.next,re),error:Te.error&&ge(Te.error,re),complete:Te.complete&&ge(Te.complete,re)}):z=Te}this.destination=new fe(z)}}function ne(Se){R.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Se):(0,me.h)(Se)}function Pe(Se,Te){const{onStoppedNotification:we}=R.v;we&&K.z.setTimeout(()=>we(Se,Te))}const Ue={closed:!0,next:Ie,error:function B(Se){throw Se},complete:Ie}},727:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Lc:()=>xe,w0:()=>Ie,Nn:()=>te});var u=O(576);const R=(0,O(3888).d)(_e=>function(Y){_e(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ee,ae)=>`${ae+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var me=O(8737);class Ie{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ge of Y)ge.remove(this);else Y.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(ge){K=ge instanceof R?ge.errors:[ge]}const{_finalizers:ae}=this;if(ae){this._finalizers=null;for(const ge of ae)try{he(ge)}catch(fe){K=K??[],fe instanceof R?K=[...K,...fe.errors]:K.push(fe)}}if(K)throw new R(K)}}add(K){var Y;if(K&&K!==this)if(this.closed)he(K);else{if(K instanceof Ie){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(K)}}_hasParent(K){const{_parentage:Y}=this;return Y===K||Array.isArray(Y)&&Y.includes(K)}_addParent(K){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(K),Y):Y?[Y,K]:K}_removeParent(K){const{_parentage:Y}=this;Y===K?this._parentage=null:Array.isArray(Y)&&(0,me.P)(Y,K)}remove(K){const{_finalizers:Y}=this;Y&&(0,me.P)(Y,K),K instanceof Ie&&K._removeParent(this)}}Ie.EMPTY=(()=>{const _e=new Ie;return _e.closed=!0,_e})();const xe=Ie.EMPTY;function te(_e){return _e instanceof Ie||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function he(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(Dt,Ge,O)=>{"use strict";O.d(Ge,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Ge,O)=>{"use strict";O.d(Ge,{E:()=>U});const U=new(O(9751).y)(Ie=>Ie.complete())},8996:(Dt,Ge,O)=>{"use strict";O.d(Ge,{D:()=>Te});var u=O(8421),U=O(5363),R=O(9468),xe=O(9751),he=O(2202),_e=O(576),K=O(9672);function ee(we,oe){if(!we)throw new Error("Iterable cannot be null");return new xe.y(z=>{(0,K.f)(z,oe,()=>{const re=we[Symbol.asyncIterator]();(0,K.f)(z,oe,()=>{re.next().then(de=>{de.done?z.complete():z.next(de.value)})},0,!0)})})}var ae=O(3670),ge=O(8239),fe=O(1144),He=O(6495),ne=O(2206),B=O(4532),Pe=O(3260);function Te(we,oe){return oe?function Se(we,oe){if(null!=we){if((0,ae.c)(we))return function me(we,oe){return(0,u.Xf)(we).pipe((0,R.R)(oe),(0,U.Q)(oe))}(we,oe);if((0,fe.z)(we))return function te(we,oe){return new xe.y(z=>{let re=0;return oe.schedule(function(){re===we.length?z.complete():(z.next(we[re++]),z.closed||this.schedule())})})}(we,oe);if((0,ge.t)(we))return function Ie(we,oe){return(0,u.Xf)(we).pipe((0,R.R)(oe),(0,U.Q)(oe))}(we,oe);if((0,ne.D)(we))return ee(we,oe);if((0,He.T)(we))return function Y(we,oe){return new xe.y(z=>{let re;return(0,K.f)(z,oe,()=>{re=we[he.h](),(0,K.f)(z,oe,()=>{let de,G;try{({value:de,done:G}=re.next())}catch(V){return void z.error(V)}G?z.complete():z.next(de)},0,!0)}),()=>(0,_e.m)(re?.return)&&re.return()})}(we,oe);if((0,Pe.L)(we))return function Ue(we,oe){return ee((0,Pe.Q)(we),oe)}(we,oe)}throw(0,B.z)(we)}(we,oe):(0,u.Xf)(we)}},8421:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Xf:()=>ae});var u=O(655),U=O(1144),R=O(8239),me=O(9751),Ie=O(3670),xe=O(2206),te=O(4532),he=O(6495),_e=O(3260),K=O(576),Y=O(7849),ee=O(8822);function ae(Se){if(Se instanceof me.y)return Se;if(null!=Se){if((0,Ie.c)(Se))return function ge(Se){return new me.y(Te=>{const we=Se[ee.L]();if((0,K.m)(we.subscribe))return we.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,U.z)(Se))return function fe(Se){return new me.y(Te=>{for(let we=0;we<Se.length&&!Te.closed;we++)Te.next(Se[we]);Te.complete()})}(Se);if((0,R.t)(Se))return function He(Se){return new me.y(Te=>{Se.then(we=>{Te.closed||(Te.next(we),Te.complete())},we=>Te.error(we)).then(null,Y.h)})}(Se);if((0,xe.D)(Se))return B(Se);if((0,he.T)(Se))return function ne(Se){return new me.y(Te=>{for(const we of Se)if(Te.next(we),Te.closed)return;Te.complete()})}(Se);if((0,_e.L)(Se))return function Pe(Se){return B((0,_e.Q)(Se))}(Se)}throw(0,te.z)(Se)}function B(Se){return new me.y(Te=>{(function Ue(Se,Te){var we,oe,z,re;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Se);!(oe=yield we.next()).done;)if(Te.next(oe.value),Te.closed)return}catch(de){z={error:de}}finally{try{oe&&!oe.done&&(re=we.return)&&(yield re.call(we))}finally{if(z)throw z.error}}Te.complete()})})(Se,Te).catch(we=>Te.error(we))})}},6451:(Dt,Ge,O)=>{"use strict";O.d(Ge,{T:()=>xe});var u=O(8189),U=O(8421),R=O(515),me=O(7669),Ie=O(8996);function xe(...te){const he=(0,me.yG)(te),_e=(0,me._6)(te,1/0),K=te;return K.length?1===K.length?(0,U.Xf)(K[0]):(0,u.J)(_e)((0,Ie.D)(K,he)):R.E}},5403:(Dt,Ge,O)=>{"use strict";O.d(Ge,{x:()=>U});var u=O(2961);function U(me,Ie,xe,te,he){return new R(me,Ie,xe,te,he)}class R extends u.Lv{constructor(Ie,xe,te,he,_e,K){super(Ie),this.onFinalize=_e,this.shouldUnsubscribe=K,this._next=xe?function(Y){try{xe(Y)}catch(ee){Ie.error(ee)}}:super._next,this._error=he?function(Y){try{he(Y)}catch(ee){Ie.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(Y){Ie.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},4004:(Dt,Ge,O)=>{"use strict";O.d(Ge,{U:()=>R});var u=O(4482),U=O(5403);function R(me,Ie){return(0,u.e)((xe,te)=>{let he=0;xe.subscribe((0,U.x)(te,_e=>{te.next(me.call(Ie,_e,he++))}))})}},8189:(Dt,Ge,O)=>{"use strict";O.d(Ge,{J:()=>R});var u=O(5577),U=O(4671);function R(me=1/0){return(0,u.z)(U.y,me)}},5577:(Dt,Ge,O)=>{"use strict";O.d(Ge,{z:()=>he});var u=O(4004),U=O(8421),R=O(4482),me=O(9672),Ie=O(5403),te=O(576);function he(_e,K,Y=1/0){return(0,te.m)(K)?he((ee,ae)=>(0,u.U)((ge,fe)=>K(ee,ge,ae,fe))((0,U.Xf)(_e(ee,ae))),Y):("number"==typeof K&&(Y=K),(0,R.e)((ee,ae)=>function xe(_e,K,Y,ee,ae,ge,fe,He){const ne=[];let B=0,Pe=0,Ue=!1;const Se=()=>{Ue&&!ne.length&&!B&&K.complete()},Te=oe=>B<ee?we(oe):ne.push(oe),we=oe=>{ge&&K.next(oe),B++;let z=!1;(0,U.Xf)(Y(oe,Pe++)).subscribe((0,Ie.x)(K,re=>{ae?.(re),ge?Te(re):K.next(re)},()=>{z=!0},void 0,()=>{if(z)try{for(B--;ne.length&&B<ee;){const re=ne.shift();fe?(0,me.f)(K,fe,()=>we(re)):we(re)}Se()}catch(re){K.error(re)}}))};return _e.subscribe((0,Ie.x)(K,Te,()=>{Ue=!0,Se()})),()=>{He?.()}}(ee,ae,_e,Y)))}},5363:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Q:()=>me});var u=O(9672),U=O(4482),R=O(5403);function me(Ie,xe=0){return(0,U.e)((te,he)=>{te.subscribe((0,R.x)(he,_e=>(0,u.f)(he,Ie,()=>he.next(_e),xe),()=>(0,u.f)(he,Ie,()=>he.complete(),xe),_e=>(0,u.f)(he,Ie,()=>he.error(_e),xe)))})}},3099:(Dt,Ge,O)=>{"use strict";O.d(Ge,{B:()=>Ie});var u=O(8421),U=O(7579),R=O(2961),me=O(4482);function Ie(te={}){const{connector:he=(()=>new U.x),resetOnError:_e=!0,resetOnComplete:K=!0,resetOnRefCountZero:Y=!0}=te;return ee=>{let ae,ge,fe,He=0,ne=!1,B=!1;const Pe=()=>{ge?.unsubscribe(),ge=void 0},Ue=()=>{Pe(),ae=fe=void 0,ne=B=!1},Se=()=>{const Te=ae;Ue(),Te?.unsubscribe()};return(0,me.e)((Te,we)=>{He++,!B&&!ne&&Pe();const oe=fe=fe??he();we.add(()=>{He--,0===He&&!B&&!ne&&(ge=xe(Se,Y))}),oe.subscribe(we),!ae&&He>0&&(ae=new R.Hp({next:z=>oe.next(z),error:z=>{B=!0,Pe(),ge=xe(Ue,_e,z),oe.error(z)},complete:()=>{ne=!0,Pe(),ge=xe(Ue,K),oe.complete()}}),(0,u.Xf)(Te).subscribe(ae))})(ee)}}function xe(te,he,..._e){if(!0===he)return void te();if(!1===he)return;const K=new R.Hp({next:()=>{K.unsubscribe(),te()}});return he(..._e).subscribe(K)}},9468:(Dt,Ge,O)=>{"use strict";O.d(Ge,{R:()=>U});var u=O(4482);function U(R,me=0){return(0,u.e)((Ie,xe)=>{xe.add(R.schedule(()=>Ie.subscribe(xe),me))})}},8505:(Dt,Ge,O)=>{"use strict";O.d(Ge,{b:()=>Ie});var u=O(576),U=O(4482),R=O(5403),me=O(4671);function Ie(xe,te,he){const _e=(0,u.m)(xe)||te||he?{next:xe,error:te,complete:he}:xe;return _e?(0,U.e)((K,Y)=>{var ee;null===(ee=_e.subscribe)||void 0===ee||ee.call(_e);let ae=!0;K.subscribe((0,R.x)(Y,ge=>{var fe;null===(fe=_e.next)||void 0===fe||fe.call(_e,ge),Y.next(ge)},()=>{var ge;ae=!1,null===(ge=_e.complete)||void 0===ge||ge.call(_e),Y.complete()},ge=>{var fe;ae=!1,null===(fe=_e.error)||void 0===fe||fe.call(_e,ge),Y.error(ge)},()=>{var ge,fe;ae&&(null===(ge=_e.unsubscribe)||void 0===ge||ge.call(_e)),null===(fe=_e.finalize)||void 0===fe||fe.call(_e)}))}):me.y}},4408:(Dt,Ge,O)=>{"use strict";O.d(Ge,{o:()=>Ie});var u=O(727);class U extends u.w0{constructor(te,he){super()}schedule(te,he=0){return this}}const R={setInterval(xe,te,...he){const{delegate:_e}=R;return _e?.setInterval?_e.setInterval(xe,te,...he):setInterval(xe,te,...he)},clearInterval(xe){const{delegate:te}=R;return(te?.clearInterval||clearInterval)(xe)},delegate:void 0};var me=O(8737);class Ie extends U{constructor(te,he){super(te,he),this.scheduler=te,this.work=he,this.pending=!1}schedule(te,he=0){var _e;if(this.closed)return this;this.state=te;const K=this.id,Y=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Y,K,he)),this.pending=!0,this.delay=he,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(Y,this.id,he),this}requestAsyncId(te,he,_e=0){return R.setInterval(te.flush.bind(te,this),_e)}recycleAsyncId(te,he,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return he;null!=he&&R.clearInterval(he)}execute(te,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(te,he);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,he){let K,_e=!1;try{this.work(te)}catch(Y){_e=!0,K=Y||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:te,scheduler:he}=this,{actions:_e}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(_e,this),null!=te&&(this.id=this.recycleAsyncId(he,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Ge,O)=>{"use strict";O.d(Ge,{v:()=>R});var u=O(6063);class U{constructor(Ie,xe=U.now){this.schedulerActionCtor=Ie,this.now=xe}schedule(Ie,xe=0,te){return new this.schedulerActionCtor(this,Ie).schedule(te,xe)}}U.now=u.l.now;class R extends U{constructor(Ie,xe=U.now){super(Ie,xe),this.actions=[],this._active=!1}flush(Ie){const{actions:xe}=this;if(this._active)return void xe.push(Ie);let te;this._active=!0;do{if(te=Ie.execute(Ie.state,Ie.delay))break}while(Ie=xe.shift());if(this._active=!1,te){for(;Ie=xe.shift();)Ie.unsubscribe();throw te}}}},4986:(Dt,Ge,O)=>{"use strict";O.d(Ge,{z:()=>R});var u=O(4408);const R=new(O(7565).v)(u.o)},6063:(Dt,Ge,O)=>{"use strict";O.d(Ge,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Dt,Ge,O)=>{"use strict";O.d(Ge,{z:()=>u});const u={setTimeout(U,R,...me){const{delegate:Ie}=u;return Ie?.setTimeout?Ie.setTimeout(U,R,...me):setTimeout(U,R,...me)},clearTimeout(U){const{delegate:R}=u;return(R?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(Dt,Ge,O)=>{"use strict";O.d(Ge,{h:()=>U});const U=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Ge,O)=>{"use strict";O.d(Ge,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,Ge,O)=>{"use strict";O.d(Ge,{_6:()=>xe,jO:()=>me,yG:()=>Ie});var u=O(576);function R(te){return te[te.length-1]}function me(te){return(0,u.m)(R(te))?te.pop():void 0}function Ie(te){return function U(te){return te&&(0,u.m)(te.schedule)}(R(te))?te.pop():void 0}function xe(te,he){return"number"==typeof R(te)?te.pop():he}},8737:(Dt,Ge,O)=>{"use strict";function u(U,R){if(U){const me=U.indexOf(R);0<=me&&U.splice(me,1)}}O.d(Ge,{P:()=>u})},3888:(Dt,Ge,O)=>{"use strict";function u(U){const me=U(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}O.d(Ge,{d:()=>u})},2806:(Dt,Ge,O)=>{"use strict";O.d(Ge,{O:()=>me,x:()=>R});var u=O(2416);let U=null;function R(Ie){if(u.v.useDeprecatedSynchronousErrorHandling){const xe=!U;if(xe&&(U={errorThrown:!1,error:null}),Ie(),xe){const{errorThrown:te,error:he}=U;if(U=null,te)throw he}}else Ie()}function me(Ie){u.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Ie)}},9672:(Dt,Ge,O)=>{"use strict";function u(U,R,me,Ie=0,xe=!1){const te=R.schedule(function(){me(),xe?U.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(U.add(te),!xe)return te}O.d(Ge,{f:()=>u})},4671:(Dt,Ge,O)=>{"use strict";function u(U){return U}O.d(Ge,{y:()=>u})},1144:(Dt,Ge,O)=>{"use strict";O.d(Ge,{z:()=>u});const u=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(Dt,Ge,O)=>{"use strict";O.d(Ge,{D:()=>U});var u=O(576);function U(R){return Symbol.asyncIterator&&(0,u.m)(R?.[Symbol.asyncIterator])}},576:(Dt,Ge,O)=>{"use strict";function u(U){return"function"==typeof U}O.d(Ge,{m:()=>u})},3670:(Dt,Ge,O)=>{"use strict";O.d(Ge,{c:()=>R});var u=O(8822),U=O(576);function R(me){return(0,U.m)(me[u.L])}},6495:(Dt,Ge,O)=>{"use strict";O.d(Ge,{T:()=>R});var u=O(2202),U=O(576);function R(me){return(0,U.m)(me?.[u.h])}},8239:(Dt,Ge,O)=>{"use strict";O.d(Ge,{t:()=>U});var u=O(576);function U(R){return(0,u.m)(R?.then)}},3260:(Dt,Ge,O)=>{"use strict";O.d(Ge,{L:()=>me,Q:()=>R});var u=O(655),U=O(576);function R(Ie){return(0,u.FC)(this,arguments,function*(){const te=Ie.getReader();try{for(;;){const{value:he,done:_e}=yield(0,u.qq)(te.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{te.releaseLock()}})}function me(Ie){return(0,U.m)(Ie?.getReader)}},4482:(Dt,Ge,O)=>{"use strict";O.d(Ge,{A:()=>U,e:()=>R});var u=O(576);function U(me){return(0,u.m)(me?.lift)}function R(me){return Ie=>{if(U(Ie))return Ie.lift(function(xe){try{return me(xe,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Dt,Ge,O)=>{"use strict";O.d(Ge,{U:()=>R,z:()=>U});var u=O(4671);function U(...me){return R(me)}function R(me){return 0===me.length?u.y:1===me.length?me[0]:function(xe){return me.reduce((te,he)=>he(te),xe)}}},7849:(Dt,Ge,O)=>{"use strict";O.d(Ge,{h:()=>R});var u=O(2416),U=O(3410);function R(me){U.z.setTimeout(()=>{const{onUnhandledError:Ie}=u.v;if(!Ie)throw me;Ie(me)})}},4532:(Dt,Ge,O)=>{"use strict";function u(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ge,{z:()=>u})},863:(Dt,Ge,O)=>{var u={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function U(R){if(!O.o(u,R))return Promise.resolve().then(()=>{var xe=new Error("Cannot find module '"+R+"'");throw xe.code="MODULE_NOT_FOUND",xe});var me=u[R],Ie=me[0];return Promise.all(me.slice(1).map(O.e)).then(()=>O(Ie))}U.keys=()=>Object.keys(u),U.id=863,Dt.exports=U},655:(Dt,Ge,O)=>{"use strict";function me(G,V){var W={};for(var Z in G)Object.prototype.hasOwnProperty.call(G,Z)&&V.indexOf(Z)<0&&(W[Z]=G[Z]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Z=Object.getOwnPropertySymbols(G);Le<Z.length;Le++)V.indexOf(Z[Le])<0&&Object.prototype.propertyIsEnumerable.call(G,Z[Le])&&(W[Z[Le]]=G[Z[Le]])}return W}function Ie(G,V,W,Z){var ut,Le=arguments.length,qe=Le<3?V:null===Z?Z=Object.getOwnPropertyDescriptor(V,W):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(G,V,W,Z);else for(var $e=G.length-1;$e>=0;$e--)(ut=G[$e])&&(qe=(Le<3?ut(qe):Le>3?ut(V,W,qe):ut(V,W))||qe);return Le>3&&qe&&Object.defineProperty(V,W,qe),qe}function he(G,V,W,Z){return new(W||(W=Promise))(function(qe,ut){function $e(De){try{ce(Z.next(De))}catch(ke){ut(ke)}}function be(De){try{ce(Z.throw(De))}catch(ke){ut(ke)}}function ce(De){De.done?qe(De.value):function Le(qe){return qe instanceof W?qe:new W(function(ut){ut(qe)})}(De.value).then($e,be)}ce((Z=Z.apply(G,V||[])).next())})}function ne(G){return this instanceof ne?(this.v=G,this):new ne(G)}function B(G,V,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Z=W.apply(G,V||[]),qe=[];return Le={},ut("next"),ut("throw"),ut("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function ut(Ne){Z[Ne]&&(Le[Ne]=function(Ye){return new Promise(function(ht,ft){qe.push([Ne,Ye,ht,ft])>1||$e(Ne,Ye)})})}function $e(Ne,Ye){try{!function be(Ne){Ne.value instanceof ne?Promise.resolve(Ne.value.v).then(ce,De):ke(qe[0][2],Ne)}(Z[Ne](Ye))}catch(ht){ke(qe[0][3],ht)}}function ce(Ne){$e("next",Ne)}function De(Ne){$e("throw",Ne)}function ke(Ne,Ye){Ne(Ye),qe.shift(),qe.length&&$e(qe[0][0],qe[0][1])}}function Ue(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,V=G[Symbol.asyncIterator];return V?V.call(G):(G=function ee(G){var V="function"==typeof Symbol&&Symbol.iterator,W=V&&G[V],Z=0;if(W)return W.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&Z>=G.length&&(G=void 0),{value:G&&G[Z++],done:!G}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),W={},Z("next"),Z("throw"),Z("return"),W[Symbol.asyncIterator]=function(){return this},W);function Z(qe){W[qe]=G[qe]&&function(ut){return new Promise(function($e,be){!function Le(qe,ut,$e,be){Promise.resolve(be).then(function(ce){qe({value:ce,done:$e})},ut)}($e,be,(ut=G[qe](ut)).done,ut.value)})}}}O.d(Ge,{FC:()=>B,KL:()=>Ue,_T:()=>me,gn:()=>Ie,mG:()=>he,qq:()=>ne})},4650:(Dt,Ge,O)=>{"use strict";O.d(Ge,{$8M:()=>fu,$Z:()=>jI,AFp:()=>I_,ALo:()=>Qv,AaK:()=>he,BQk:()=>qh,CHM:()=>Ud,CRH:()=>qb,CZH:()=>Vg,CqO:()=>lv,D6c:()=>AE,EJc:()=>tA,EpF:()=>rd,F$t:()=>Sw,F4k:()=>lT,FYo:()=>bh,FiY:()=>mt,G48:()=>O_,Gf:()=>HS,GfV:()=>DI,GkF:()=>nd,Gpc:()=>Y,Hsn:()=>Aw,JOm:()=>Ji,KtG:()=>Rs,LFG:()=>Ir,LSH:()=>En,Lbi:()=>b_,Lck:()=>vS,MMx:()=>zv,NdJ:()=>Dw,OlP:()=>Xn,Oqu:()=>vg,PXZ:()=>vE,Q6J:()=>Pu,QGY:()=>Cw,QP$:()=>nt,Qsj:()=>xl,R0b:()=>Li,RDi:()=>ly,Rgc:()=>mf,SBq:()=>jc,Sil:()=>cE,Suo:()=>GS,TTD:()=>Vo,TgZ:()=>Gh,VKq:()=>Yv,X6Q:()=>Gl,XFs:()=>gt,Xpm:()=>Xe,Xts:()=>Lp,Y36:()=>qc,YKP:()=>Cb,YNc:()=>ug,Yjl:()=>q,Yz7:()=>Ye,Z0I:()=>Jt,ZZ4:()=>z_,_Bn:()=>Eb,_UZ:()=>cg,_Vd:()=>wh,_c5:()=>pA,_uU:()=>Vw,aQg:()=>Id,c2e:()=>bi,cJS:()=>ft,cg1:()=>Av,dDg:()=>mE,dqk:()=>Gt,eFA:()=>Kg,ekj:()=>Ll,eoX:()=>Df,f3M:()=>C,g9A:()=>uE,h0i:()=>ld,hGG:()=>Nr,hij:()=>_g,iGM:()=>zb,ifc:()=>Pt,ip1:()=>__,jDz:()=>Ag,kL8:()=>eb,lG2:()=>se,lcZ:()=>xg,lqb:()=>Va,lri:()=>gE,n5z:()=>zo,oAB:()=>fn,oxw:()=>hg,q4F:()=>TI,qLn:()=>Eh,qOj:()=>ig,qZA:()=>td,rWj:()=>Fu,s9C:()=>pg,sBO:()=>bE,sIi:()=>Xc,s_b:()=>vf,soG:()=>gd,tb:()=>jg,tp0:()=>Lt,uIk:()=>ww,vHH:()=>fe,vpe:()=>Ro,wAp:()=>Kt,xp6:()=>Dh,ynx:()=>zh,z2F:()=>Af,zSh:()=>Ey,zs3:()=>Ml});var u=O(7579),U=O(727),R=O(9751),me=O(6451),Ie=O(3099);function xe(o){for(let s in o)if(o[s]===xe)return s;throw Error("Could not find renamed property on target object.")}function te(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function _e(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const K=xe({__forward_ref__:xe});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return he(this())},o}function ee(o){return ae(o)?o():o}function ae(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===Y}class fe extends Error{constructor(s,a){super(function He(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function ne(o){return"string"==typeof o?o:null==o?"":String(o)}function Te(o,s){throw new fe(-201,!1)}function be(o,s){null==o&&function ce(o,s,a,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,o,null,"!=")}function Ye(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ft(o){return{providers:o.providers||[],imports:o.imports||[]}}function ct(o){return un(o,bn)||un(o,sr)}function Jt(o){return null!==ct(o)}function un(o,s){return o.hasOwnProperty(s)?o[s]:null}function pn(o){return o&&(o.hasOwnProperty(kn)||o.hasOwnProperty($r))?o[kn]:null}const bn=xe({\u0275prov:xe}),kn=xe({\u0275inj:xe}),sr=xe({ngInjectableDef:xe}),$r=xe({ngInjectorDef:xe});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Jn;function On(o){const s=Jn;return Jn=o,s}function Tn(o,s,a){const c=ct(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&gt.Optional?null:void 0!==s?s:void Te(he(o))}function Pn(o){return{toString:o}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Pt=(()=>{return(o=Pt||(Pt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Pt;var o})();const Gt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bn={},zt=[],Er=xe({\u0275cmp:xe}),Xt=xe({\u0275dir:xe}),Yr=xe({\u0275pipe:xe}),gn=xe({\u0275mod:xe}),ur=xe({\u0275fac:xe}),Un=xe({__NG_ELEMENT_ID__:xe});let wt=0;function Xe(o){return Pn(()=>{const a=!0===o.standalone,c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||zt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Pt.Emulated,id:"c"+wt++,styles:o.styles||zt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.dependencies,y=o.features;return h.inputs=J(o.inputs,c),h.outputs=J(o.outputs),y&&y.forEach(I=>I(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map($t).filter(Vt):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map(Me).filter(Vt):null,h})}function $t(o){return k(o)||H(o)}function Vt(o){return null!==o}function fn(o){return Pn(()=>({type:o.type,bootstrap:o.bootstrap||zt,declarations:o.declarations||zt,imports:o.imports||zt,exports:o.exports||zt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function J(o,s){if(null==o)return Bn;const a={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=c,s&&(s[h]=f)}return a}const se=Xe;function q(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function k(o){return o[Er]||null}function H(o){return o[Xt]||null}function Me(o){return o[Yr]||null}function nt(o){const s=k(o)||H(o)||Me(o);return null!==s&&s.standalone}function Tt(o,s){const a=o[gn]||null;if(!a&&!0===s)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return a}const $=10;function ve(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ve(o){return Array.isArray(o)&&!0===o[1]}function L(o){return 0!=(8&o.flags)}function pe(o){return 2==(2&o.flags)}function Re(o){return 1==(1&o.flags)}function ze(o){return null!==o.template}function Qe(o){return 0!=(256&o[2])}function Zr(o,s){return o.hasOwnProperty(ur)?o[ur]:null}class Ts{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vo(){return oc}function oc(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ku),tu}function tu(){const o=Ss(this),s=o?.current;if(s){const a=o.previous;if(a===Bn)o.previous=s;else for(let c in s)a[c]=s[c];o.current=null,this.ngOnChanges(s)}}function Ku(o,s,a,c){const h=Ss(o)||function Bd(o,s){return o[sc]=s}(o,{previous:Bn,current:null}),f=h.current||(h.current={}),y=h.previous,I=this.declaredInputs[a],E=y[I];f[I]=new Ts(E&&E.currentValue,s,y===Bn),o[c]=s}Vo.ngInherit=!0;const sc="__ngSimpleChanges__";function Ss(o){return o[sc]||null}function cr(o){for(;Array.isArray(o);)o=o[0];return o}function Yi(o,s){return cr(s[o])}function Ur(o,s){return cr(s[o.index])}function xs(o,s){return o.data[s]}function Mn(o,s){const a=s[o];return ve(a)?a:a[0]}function Uo(o){return 64==(64&o[2])}function xi(o,s){return null==s?null:o[s]}function pa(o){o[18]=0}function pr(o,s){o[5]+=s;let a=o,c=o[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const sn={lFrame:Ca(null),bindingsEnabled:!0};function ts(){return sn.bindingsEnabled}function rt(){return sn.lFrame.lView}function wn(){return sn.lFrame.tView}function Ud(o){return sn.lFrame.contextLView=o,o[8]}function Rs(o){return sn.lFrame.contextLView=null,o}function Cr(){let o=ks();for(;null!==o&&64===o.type;)o=o.parent;return o}function ks(){return sn.lFrame.currentTNode}function si(o,s){const a=sn.lFrame;a.currentTNode=o,a.isParent=s}function iu(){return sn.lFrame.isParent}function Os(){sn.lFrame.isParent=!1}function Dr(){const o=sn.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function wa(){return sn.lFrame.bindingIndex++}function cc(o,s){const a=sn.lFrame;a.bindingIndex=a.bindingRootIndex=o,Ps(s)}function Ps(o){sn.lFrame.currentDirectiveIndex=o}function ba(){return sn.lFrame.currentQueryIndex}function nl(o){sn.lFrame.currentQueryIndex=o}function Ea(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function dc(o,s,a){if(a&gt.SkipSelf){let h=s,f=o;for(;!(h=h.parent,null!==h||a&gt.Host||(h=Ea(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;s=h,o=f}const c=sn.lFrame=Gd();return c.currentTNode=s,c.lView=o,!0}function Ns(o){const s=Gd(),a=o[1];sn.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Gd(){const o=sn.lFrame,s=null===o?null:o.child;return null===s?Ca(o):s}function Ca(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function zd(){const o=sn.lFrame;return sn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const hc=zd;function jo(){const o=zd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function nr(){return sn.lFrame.selectedIndex}function bo(o){sn.lFrame.selectedIndex=o}function er(){const o=sn.lFrame;return xs(o.tView,o.selectedIndex)}function ou(o,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=o.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:N}=f;y&&(o.contentHooks||(o.contentHooks=[])).push(-a,y),I&&((o.contentHooks||(o.contentHooks=[])).push(a,I),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,I)),E&&(o.viewHooks||(o.viewHooks=[])).push(-a,E),T&&((o.viewHooks||(o.viewHooks=[])).push(a,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,T)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(a,N)}}function Fs(o,s,a){$s(o,s,3,a)}function Ls(o,s,a,c){(3&o[2])===a&&$s(o,s,a,c)}function gc(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function $s(o,s,a,c){const f=c??-1,y=s.length-1;let I=0;for(let E=void 0!==c?65535&o[18]:0;E<y;E++)if("number"==typeof s[E+1]){if(I=s[E],null!=c&&I>=c)break}else s[E]<0&&(o[18]+=65536),(I<f||-1==f)&&(mc(o,a,s,E),o[18]=(4294901760&o[18])+E+2),E++}function mc(o,s,a,c){const h=a[c]<0,f=a[c+1],I=o[h?-a[c]:a[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{f.call(I)}finally{}}}else try{f.call(I)}finally{}}class Mi{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Eo(o,s,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const f=a[c++],y=a[c++],I=a[c++];o.setAttribute(s,y,I,f)}else{const f=h,y=a[++c];ul(f)?o.setProperty(s,f,y):o.setAttribute(s,f,y),c++}}return c}function Da(o){return 3===o||4===o||6===o}function ul(o){return 64===o.charCodeAt(0)}function Ta(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||vc(o,a,h,null,-1===a||2===a?s[++c]:null)}}return o}function vc(o,s,a,c,h){let f=0,y=o.length;if(-1===s)y=-1;else for(;f<o.length;){const I=o[f++];if("number"==typeof I){if(I===s){y=-1;break}if(I>s){y=f-1;break}}}for(;f<o.length;){const I=o[f];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==h&&(o[f+1]=h));if(c===o[f+1])return void(o[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==y&&(o.splice(y,0,s),f=y+1),o.splice(f++,0,a),null!==c&&o.splice(f++,0,c),null!==h&&o.splice(f++,0,h)}function Yd(o){return-1!==o}function Tr(o){return 32767&o}function Go(o,s){let a=function Zd(o){return o>>16}(o),c=s;for(;a>0;)c=c[15],a--;return c}let ll=!0;function Sa(o){const s=ll;return ll=o,s}let _c=0;const gi={};function Co(o,s){const a=cu(o,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,cl(c.data,o),cl(s,null),cl(c.blueprint,null));const h=Aa(o,s),f=o.injectorIndex;if(Yd(h)){const y=Tr(h),I=Go(h,s),E=I[1].data;for(let T=0;T<8;T++)s[f+T]=I[y+T]|E[y+T]}return s[f+8]=h,f}function cl(o,s){o.push(0,0,0,0,0,0,0,0,s)}function cu(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Aa(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){if(c=qs(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function rs(o,s,a){!function Ic(o,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Un)&&(c=a[Un]),null==c&&(c=a[Un]=_c++);const h=255&c;s.data[o+(h>>5)]|=1<<h}(o,s,a)}function Vs(o,s,a){if(a&gt.Optional||void 0!==o)return o;Te()}function Us(o,s,a,c){if(a&gt.Optional&&void 0===c&&(c=null),0==(a&(gt.Self|gt.Host))){const h=o[9],f=On(void 0);try{return h?h.get(s,c,a&gt.Optional):Tn(s,c,a&gt.Optional)}finally{On(f)}}return Vs(c,0,a)}function js(o,s,a,c=gt.Default,h){if(null!==o){if(1024&s[2]){const y=function Qd(o,s,a,c,h){let f=o,y=s;for(;null!==f&&null!==y&&1024&y[2]&&!(256&y[2]);){const I=wc(f,y,a,c|gt.Self,gi);if(I!==gi)return I;let E=f.parent;if(!E){const T=y[21];if(T){const N=T.get(a,gi,c);if(N!==gi)return N}E=qs(y),y=y[15]}f=E}return h}(o,s,a,c,gi);if(y!==gi)return y}const f=wc(o,s,a,c,gi);if(f!==gi)return f}return Us(s,a,c,h)}function wc(o,s,a,c,h){const f=function Xd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Un)?o[Un]:void 0;return"number"==typeof s?s>=0?255&s:dl:s}(a);if("function"==typeof f){if(!dc(s,o,c))return c&gt.Host?Vs(h,0,c):Us(s,a,c,h);try{const y=f(c);if(null!=y||c&gt.Optional)return y;Te()}finally{hc()}}else if("number"==typeof f){let y=null,I=cu(o,s),E=-1,T=c&gt.Host?s[16][6]:null;for((-1===I||c&gt.SkipSelf)&&(E=-1===I?Aa(o,s):s[I+8],-1!==E&&hu(c,!1)?(y=s[1],I=Tr(E),s=Go(E,s)):I=-1);-1!==I;){const N=s[1];if(Hs(f,I,N.data)){const j=du(I,s,a,y,c,T);if(j!==gi)return j}E=s[I+8],-1!==E&&hu(c,s[1].data[I+8]===T)&&Hs(f,I,s)?(y=N,I=Tr(E),s=Go(E,s)):I=-1}}return h}function du(o,s,a,c,h,f){const y=s[1],I=y.data[o+8],N=Ma(I,y,a,null==c?pe(I)&&ll:c!=y&&0!=(3&I.type),h&gt.Host&&f===I);return null!==N?lo(s,y,N,I):gi}function Ma(o,s,a,c,h){const f=o.providerIndexes,y=s.data,I=1048575&f,E=o.directiveStart,N=f>>20,ue=h?I+N:o.directiveEnd;for(let Fe=c?I:I+N;Fe<ue;Fe++){const Ze=y[Fe];if(Fe<E&&a===Ze||Fe>=E&&Ze.type===a)return Fe}if(h){const Fe=y[E];if(Fe&&ze(Fe)&&Fe.type===a)return E}return null}function lo(o,s,a,c){let h=o[a];const f=s.data;if(function al(o){return o instanceof Mi}(h)){const y=h;y.resolving&&function Pe(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new fe(-200,`Circular dependency in DI detected for ${o}${a}`)}(function B(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ne(o)}(f[a]));const I=Sa(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?On(y.injectImpl):null;dc(o,c,gt.Default);try{h=o[a]=y.factory(void 0,f,o,c),s.firstCreatePass&&a>=c.directiveStart&&function sl(o,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(c){const y=oc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,h),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,f))}(a,f[a],s)}finally{null!==E&&On(E),Sa(I),y.resolving=!1,hc()}}return h}function Hs(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function hu(o,s){return!(o&gt.Self||o&gt.Host&&s)}class Gs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return js(this._tNode,this._lView,s,c,a)}}function dl(){return new Gs(Cr(),rt())}function zo(o){return Pn(()=>{const s=o.prototype.constructor,a=s[ur]||zs(s),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const f=h[ur]||zs(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function zs(o){return ae(o)?()=>{const s=zs(ee(o));return s&&s()}:Zr(o)}function qs(o){const s=o[1],a=s.type;return 2===a?s.declTNode:1===a?o[6]:null}function fu(o){return function xa(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const f=a[h];if(Da(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Cr(),o)}const Ws="__parameters__";function os(o,s,a){return Pn(()=>{const c=function hl(o){return function(...a){if(o){const c=o(...a);for(const h in c)this[h]=c[h]}}}(s);function h(...f){if(this instanceof h)return c.apply(this,f),this;const y=new h(...f);return I.annotation=y,I;function I(E,T,N){const j=E.hasOwnProperty(Ws)?E[Ws]:Object.defineProperty(E,Ws,{value:[]})[Ws];for(;j.length<=N;)j.push(null);return(j[N]=j[N]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Xn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ye({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qn(o,s){void 0===s&&(s=o);for(let a=0;a<o.length;a++){let c=o[a];Array.isArray(c)?(s===o&&(s=o.slice(0,a)),Qn(c,s)):s!==o&&s.push(c)}return s}function To(o,s){o.forEach(a=>Array.isArray(a)?To(a,s):s(a))}function ss(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Xi(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function dr(o,s){const a=[];for(let c=0;c<o;c++)a.push(s);return a}function ai(o,s,a){let c=mi(o,s);return c>=0?o[1|c]=a:(c=~c,function tn(o,s,a,c){let h=o.length;if(h==s)o.push(a,c);else if(1===h)o.push(c,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=c}}(o,c,s,a)),c}function Ra(o,s){const a=mi(o,s);if(a>=0)return o[1|a]}function mi(o,s){return function co(o,s,a){let c=0,h=o.length>>a;for(;h!==c;){const f=c+(h-c>>1),y=o[f<<a];if(s===y)return f<<a;y>s?h=f:c=f+1}return~(h<<a)}(o,s,1)}const Rn={},Hr="__NG_DI_FLAG__",So="ngTempTokenPath",yu=/\n/gm,pl="__source";let us;function ls(o){const s=us;return us=o,s}function fp(o,s=gt.Default){if(void 0===us)throw new fe(-203,!1);return null===us?Tn(o,void 0,s):us.get(o,s&gt.Optional?null:void 0,s)}function Ir(o,s=gt.Default){return(function Dn(){return Jn}()||fp)(ee(o),s)}function C(o,s=gt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Ir(o,s)}function D(o){const s=[];for(let a=0;a<o.length;a++){const c=ee(o[a]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let h,f=gt.Default;for(let y=0;y<c.length;y++){const I=c[y],E=X(I);"number"==typeof E?-1===E?h=I.token:f|=E:h=I}s.push(Ir(h,f))}else s.push(Ir(c))}return s}function M(o,s){return o[Hr]=s,o.prototype[Hr]=s,o}function X(o){return o[Hr]}const mt=M(os("Optional"),8),Lt=M(os("SkipSelf"),4);var Ji=(()=>((Ji=Ji||{})[Ji.Important=1]="Important",Ji[Ji.DashCase=2]="DashCase",Ji))();const Iu=new Map;let Qm=0;const g="__ngContext__";function m(o,s){ve(s)?(o[g]=s[20],function _p(o){Iu.set(o[20],o)}(s)):o[g]=s}function Ac(o,s){return undefined(o,s)}function ea(o){const s=o[3];return Ve(s)?s[3]:s}function wl(o){return wp(o[13])}function Mc(o){return wp(o[4])}function wp(o){for(;null!==o&&!Ve(o);)o=o[4];return o}function Na(o,s,a,c,h){if(null!=c){let f,y=!1;Ve(c)?f=c:ve(c)&&(y=!0,c=c[0]);const I=cr(c);0===o&&null!==a?null==h?OC(s,a,I):bl(s,a,I,h||null,!0):1===o&&null!==a?bl(s,a,I,h||null,!0):2===o?function Tp(o,s,a){const c=iy(o,s);c&&function PC(o,s,a,c){o.removeChild(s,a,c)}(o,c,s,a)}(s,I,y):3===o&&s.destroyNode(I),null!=f&&function Ap(o,s,a,c,h){const f=a[7];f!==cr(a)&&Na(s,o,c,f,h);for(let I=$;I<a.length;I++){const E=a[I];Rc(E[1],E,o,s,c,f)}}(s,o,f,a,h)}}function X0(o,s,a){return o.createElement(s,a)}function ty(o,s){const a=o[9],c=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,pr(h,-1)),a.splice(c,1)}function ny(o,s){if(o.length<=$)return;const a=$+s,c=o[a];if(c){const h=c[17];null!==h&&h!==o&&ty(h,c),s>0&&(o[a-1][4]=c[4]);const f=Xi(o,$+s);!function MC(o,s){Rc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=f[19];null!==y&&y.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function ry(o,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Rc(o,s,a,3,null,null),function ey(o){let s=o[13];if(!s)return ph(o[1],o);for(;s;){let a=null;if(ve(s))a=s[13];else{const c=s[$];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==o;)ve(s)&&ph(s[1],s),s=s[3];null===s&&(s=o),ve(s)&&ph(s[1],s),a=s&&s[4]}s=a}}(s)}}function ph(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function YM(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof Mi)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const I=h[f[y]],E=f[y+1];try{E.call(I)}finally{}}else try{f.call(h)}finally{}}}}(o,s),function gh(o,s){const a=o.cleanup,c=s[7];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],I="function"==typeof y?y(s):cr(s[y]),E=c[h=a[f+2]],T=a[f+3];"boolean"==typeof T?I.removeEventListener(a[f],E,T):T>=0?c[h=T]():c[h=-T].unsubscribe(),f+=2}else{const y=c[h=a[f+1]];a[f].call(y)}if(null!==c){for(let f=h+1;f<c.length;f++)(0,c[f])();s[7]=null}}(o,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Ve(s[3])){a!==s[3]&&ty(a,s);const c=s[19];null!==c&&c.detachView(o)}!function uh(o){Iu.delete(o[20])}(s)}}function Ep(o,s,a){return function kC(o,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===Pt.None||h===Pt.Emulated)return null}return Ur(c,a)}(o,s.parent,a)}function bl(o,s,a,c,h){o.insertBefore(s,a,c,h)}function OC(o,s,a){o.appendChild(s,a)}function Q0(o,s,a,c,h){null!==c?bl(o,s,a,c,h):OC(o,s,a)}function iy(o,s){return o.parentNode(s)}function FC(o,s,a){return $C(o,s,a)}let uy,$C=function LC(o,s,a){return 40&o.type?Ur(o,a):null};function mh(o,s,a,c){const h=Ep(o,c,s),f=s[11],I=FC(c.parent||s[6],c,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Q0(f,h,a[E],I,!1);else Q0(f,h,a,I,!1)}function Cp(o,s){if(null!==s){const a=s.type;if(3&a)return Ur(s,o);if(4&a)return Dp(-1,o[s.index]);if(8&a){const c=s.child;if(null!==c)return Cp(o,c);{const h=o[s.index];return Ve(h)?Dp(-1,h):cr(h)}}if(32&a)return Ac(s,o)()||cr(o[s.index]);{const c=oy(o,s);return null!==c?Array.isArray(c)?c[0]:Cp(ea(o[16]),c):Cp(o,s.next)}}return null}function oy(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Dp(o,s){const a=$+o+1;if(a<s.length){const c=s[a],h=c[1].firstChild;if(null!==h)return Cp(c,h)}return s[7]}function Sp(o,s,a,c,h,f,y){for(;null!=a;){const I=c[a.index],E=a.type;if(y&&0===s&&(I&&m(cr(I),c),a.flags|=4),64!=(64&a.flags))if(8&E)Sp(o,s,a.child,c,h,f,!1),Na(s,o,h,I,f);else if(32&E){const T=Ac(a,c);let N;for(;N=T();)Na(s,o,h,N,f);Na(s,o,h,I,f)}else 16&E?sy(o,s,c,a,h,f):Na(s,o,h,I,f);a=y?a.projectionNext:a.next}}function Rc(o,s,a,c,h,f){Sp(a,c,o.firstChild,s,h,f,!1)}function sy(o,s,a,c,h,f){const y=a[16],E=y[6].projection[c.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Na(s,o,h,E[T],f);else Sp(o,s,E,y[3],h,f,!0)}function tI(o,s,a){o.setAttribute(s,"style",a)}function eo(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function ly(o){uy=o}class iI{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ta(o){return o instanceof iI?o.changingThisBreaksApplicationSecurity:o}const zC=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Gr=(()=>((Gr=Gr||{})[Gr.NONE=0]="NONE",Gr[Gr.HTML=1]="HTML",Gr[Gr.STYLE=2]="STYLE",Gr[Gr.SCRIPT=3]="SCRIPT",Gr[Gr.URL=4]="URL",Gr[Gr.RESOURCE_URL=5]="RESOURCE_URL",Gr))();function En(o){const s=function Ba(){const o=rt();return o&&o[12]}();return s?s.sanitize(Gr.URL,o)||"":function Oc(o,s){const a=function kp(o){return o instanceof iI&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(o,"URL")?ta(o):function vh(o){return(o=String(o)).match(zC)?o:"unsafe:"+o}(ne(o))}const Lp=new Xn("ENVIRONMENT_INITIALIZER"),_h=new Xn("INJECTOR",-1),fI=new Xn("INJECTOR_DEF_TYPES");class $p{get(s,a=Rn){if(a===Rn){const c=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw c.name="NullInjectorError",c}return a}}function Bp(...o){return{\u0275providers:Iy(0,o)}}function Iy(o,...s){const a=[],c=new Set;let h;return To(s,f=>{const y=f;by(y,a,[],c)&&(h||(h=[]),h.push(y))}),void 0!==h&&wy(h,a),a}function wy(o,s){for(let a=0;a<o.length;a++){const{providers:h}=o[a];To(h,f=>{s.push(f)})}}function by(o,s,a,c){if(!(o=ee(o)))return!1;let h=null,f=pn(o);const y=!f&&k(o);if(f||y){if(y&&!y.standalone)return!1;h=o}else{const E=o.ngModule;if(f=pn(E),!f)return!1;h=E}const I=c.has(h);if(y){if(I)return!1;if(c.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of E)by(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!I){let T;c.add(h);try{To(f.imports,N=>{by(N,s,a,c)&&(T||(T=[]),T.push(N))})}finally{}void 0!==T&&wy(T,s)}if(!I){const T=Zr(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:zt},{provide:fI,useValue:h,multi:!0},{provide:Lp,useValue:()=>Ir(h),multi:!0})}const E=f.providers;null==E||I||To(E,N=>{s.push(N)})}}return h!==o&&void 0!==o.providers}const XC=xe({provide:String,useValue:xe});function Lc(o){return null!==o&&"object"==typeof o&&XC in o}function Al(o){return"function"==typeof o}const Ey=new Xn("Set Injector scope."),$c={},Vp={};let Cy;function na(){return void 0===Cy&&(Cy=new $p),Cy}class Va{}class JC extends Va{constructor(s,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bu(s,y=>this.processProvider(y)),this.records.set(_h,ra(void 0,this)),h.has("environment")&&this.records.set(Va,ra(void 0,this));const f=this.records.get(Ey);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(fI.multi,zt,gt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=ls(this),c=On(void 0);try{return s()}finally{ls(a),On(c)}}get(s,a=Rn,c=gt.Default){this.assertNotDestroyed();const h=ls(this),f=On(void 0);try{if(!(c&gt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const E=function yI(o){return"function"==typeof o||"object"==typeof o&&o instanceof Xn}(s)&&ct(s);I=E&&this.injectableDefInScope(E)?ra(Dy(s),$c):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(c&gt.Self?na():this.parent).get(s,a=c&gt.Optional&&a===Rn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[So]=y[So]||[]).unshift(he(s)),h)throw y;return function Ee(o,s,a,c){const h=o[So];throw s[pl]&&h.unshift(s[pl]),o.message=function Be(o,s,a,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let I=s[y];f.push(y+":"+("string"==typeof I?JSON.stringify(I):he(I)))}h=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${o.replace(yu,"\n  ")}`}("\n"+o.message,h,a,c),o.ngTokenPath=h,o[So]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{On(f),ls(h)}}resolveInjectorInitializers(){const s=ls(this),a=On(void 0);try{const c=this.get(Lp.multi,zt,gt.Self);for(const h of c)h()}finally{ls(s),On(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(he(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(s){let a=Al(s=ee(s))?s:ee(s&&s.provide);const c=function tD(o){return Lc(o)?ra(void 0,o.useValue):ra(Bc(o),$c)}(s);if(Al(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=ra(void 0,$c,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===$c&&(a.value=Vp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mI(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ee(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Dy(o){const s=ct(o),a=null!==s?s.factory:Zr(o);if(null!==a)return a;if(o instanceof Xn)throw new fe(204,!1);if(o instanceof Function)return function eD(o){const s=o.length;if(s>0)throw dr(s,"?"),new fe(204,!1);const a=function hn(o){const s=o&&(o[bn]||o[sr]);if(s){const a=function In(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new fe(204,!1)}function Bc(o,s,a){let c;if(Al(o)){const h=ee(o);return Zr(h)||Dy(h)}if(Lc(o))c=()=>ee(o.useValue);else if(function gI(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...D(o.deps||[]));else if(function pI(o){return!(!o||!o.useExisting)}(o))c=()=>Ir(ee(o.useExisting));else{const h=ee(o&&(o.useClass||o.provide));if(!function Vc(o){return!!o.deps}(o))return Zr(h)||Dy(h);c=()=>new h(...D(o.deps))}return c}function ra(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function vI(o){return!!o.\u0275providers}function bu(o,s){for(const a of o)Array.isArray(a)?bu(a,s):vI(a)?bu(a.\u0275providers,s):s(a)}class _I{}class Ih{resolveComponentFactory(s){throw function II(o){const s=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let wh=(()=>{class o{}return o.NULL=new Ih,o})();function Ty(){return Uc(Cr(),rt())}function Uc(o,s){return new jc(Ur(o,s))}let jc=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=Ty,o})();function EI(o){return o instanceof jc?o.nativeElement:o}class bh{}let xl=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Up(){const o=rt(),a=Mn(Cr().index,o);return(ve(a)?a:o)[11]}(),o})(),CI=(()=>{class o{}return o.\u0275prov=Ye({token:o,providedIn:"root",factory:()=>null}),o})();class DI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const TI=new DI("14.2.12"),Sy={};function xy(o){return o.ngOriginalError}class Eh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&xy(s);for(;a&&xy(a);)a=xy(a);return a||null}}function ps(o){return o instanceof Function?o():o}function My(o,s,a){let c=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=s.length;if(h+f===c||o.charCodeAt(h+f)<=32)return h}a=h+1}}const Ch="ng-template";function MI(o,s,a){let c=0;for(;c<o.length;){let h=o[c++];if(a&&"class"===h){if(h=o[c],-1!==My(h.toLowerCase(),s,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function jp(o){return 4===o.type&&o.value!==Ch}function RI(o,s,a){return s===(4!==o.type||a?o.value:Ch)}function Ry(o,s,a){let c=4;const h=o.attrs||[],f=function fD(o){for(let s=0;s<o.length;s++)if(Da(o[s]))return s;return o.length}(h);let y=!1;for(let I=0;I<s.length;I++){const E=s[I];if("number"!=typeof E){if(!y)if(4&c){if(c=2|1&c,""!==E&&!RI(o,E,a)||""===E&&1===s.length){if(Ao(c))return!1;y=!0}}else{const T=8&c?E:s[++I];if(8&c&&null!==o.attrs){if(!MI(o.attrs,T,a)){if(Ao(c))return!1;y=!0}continue}const j=dD(8&c?"class":E,h,jp(o),a);if(-1===j){if(Ao(c))return!1;y=!0;continue}if(""!==T){let ue;ue=j>f?"":h[j+1].toLowerCase();const Fe=8&c?ue:null;if(Fe&&-1!==My(Fe,T,0)||2&c&&T!==ue){if(Ao(c))return!1;y=!0}}}}else{if(!y&&!Ao(c)&&!Ao(E))return!1;if(y&&Ao(E))continue;y=!1,c=E|1&c}}return Ao(c)||y}function Ao(o){return 0==(1&o)}function dD(o,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let f=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function ky(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const c=o[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,o)}function Gc(o,s,a=!1){for(let c=0;c<s.length;c++)if(Ry(o,s[c],a))return!0;return!1}function kI(o,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(o.length===c.length){for(let h=0;h<o.length;h++)if(o[h]!==c[h])continue e;return!0}}return!1}function Oy(o,s){return o?":not("+s.trim()+")":s}function OI(o){let s=o[0],a=1,c=2,h="",f=!1;for(;a<o.length;){let y=o[a];if("string"==typeof y)if(2&c){const I=o[++a];h+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Ao(y)&&(s+=Oy(f,h),h=""),c=y,f=f||!Ao(c);a++}return""!==h&&(s+=Oy(f,h)),s}const on={};function Dh(o){Hp(wn(),rt(),nr()+o,!1)}function Hp(o,s,a,c){if(!c)if(3==(3&s[2])){const f=o.preOrderCheckHooks;null!==f&&Fs(s,f,a)}else{const f=o.preOrderHooks;null!==f&&Ls(s,f,0,a)}bo(a)}function LI(o,s=null,a=null,c){const h=$I(o,s,a,c);return h.resolveInjectorInitializers(),h}function $I(o,s=null,a=null,c,h=new Set){const f=[a||zt,Bp(o)];return c=c||("object"==typeof o?void 0:he(o)),new JC(f,s||na(),c||null,h)}let Ml=(()=>{class o{static create(a,c){if(Array.isArray(a))return LI({name:""},c,a,"");{const h=a.name??"";return LI({name:h},a.parent,a.providers,h)}}}return o.THROW_IF_NOT_FOUND=Rn,o.NULL=new $p,o.\u0275prov=Ye({token:o,providedIn:"any",factory:()=>Ir(_h)}),o.__NG_ELEMENT_ID__=-1,o})();function qc(o,s=gt.Default){const a=rt();return null===a?Ir(o,s):js(Cr(),a,ee(o),s)}function jI(){throw new Error("invalid")}function Wp(o,s){return o<<17|s<<2}function gs(o){return o>>17&32767}function xh(o){return 2|o}function oa(o){return(131068&o)>>2}function Mh(o,s){return-131069&o|s<<2}function By(o){return 1|o}function XI(o,s){const a=o.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],f=a[c+1];if(-1!==f){const y=o.data[f];nl(h),y.contentQueries(2,s[f],f)}}}function kl(o,s,a,c,h,f,y,I,E,T,N){const j=s.blueprint.slice();return j[0]=h,j[2]=76|c,(null!==N||o&&1024&o[2])&&(j[2]|=1024),pa(j),j[3]=j[15]=o,j[8]=a,j[10]=y||o&&o[10],j[11]=I||o&&o[11],j[12]=E||o&&o[12]||null,j[9]=T||o&&o[9]||null,j[6]=f,j[20]=function sh(){return Qm++}(),j[21]=N,j[16]=2==s.type?o[16]:j,j}function Ol(o,s,a,c,h){let f=o.data[s];if(null===f)f=function Ph(o,s,a,c,h){const f=ks(),y=iu(),E=o.data[s]=function Fh(o,s,a,c,h,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,h);return null===o.firstChild&&(o.firstChild=E),null!==f&&(y?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(o,s,a,c,h),function lc(){return sn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=h;const y=function ru(){const o=sn.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return si(f,!0),f}function Au(o,s,a,c){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(c),o.blueprint.push(c),o.data.push(null);return h}function qy(o,s,a){Ns(s);try{const c=o.viewQuery;null!==c&&aw(1,c,a);const h=o.template;null!==h&&Nh(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&XI(o,s),o.staticViewQueries&&aw(2,o.viewQuery,a);const f=o.components;null!==f&&function jD(o,s){for(let a=0;a<s.length;a++)ZD(o,s[a])}(s,f)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,jo()}}function Kp(o,s,a,c){const h=s[2];if(128!=(128&h)){Ns(s);try{pa(s),function Ia(o){return sn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&Nh(o,s,a,2,c);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&Fs(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Ls(s,T,0,null),gc(s,0)}if(function YD(o){for(let s=wl(o);null!==s;s=Mc(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const h=a[c],f=h[3];0==(512&h[2])&&pr(f,1),h[2]|=512}}}(s),function WD(o){for(let s=wl(o);null!==s;s=Mc(s))for(let a=$;a<s.length;a++){const c=s[a],h=c[1];Uo(c)&&Kp(h,c,h.template,c[8])}}(s),null!==o.contentQueries&&XI(o,s),y){const T=o.contentCheckHooks;null!==T&&Fs(s,T)}else{const T=o.contentHooks;null!==T&&Ls(s,T,1),gc(s,1)}!function VD(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)bo(~h);else{const f=h,y=a[++c],I=a[++c];cc(y,f),I(2,s[f])}}}finally{bo(-1)}}(o,s);const I=o.components;null!==I&&function UD(o,s){for(let a=0;a<s.length;a++)sw(o,s[a])}(s,I);const E=o.viewQuery;if(null!==E&&aw(2,E,c),y){const T=o.viewCheckHooks;null!==T&&Fs(s,T)}else{const T=o.viewHooks;null!==T&&Ls(s,T,2),gc(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,pr(s[3],-1))}finally{jo()}}}function Nh(o,s,a,c,h){const f=nr(),y=2&c;try{bo(-1),y&&s.length>22&&Hp(o,s,22,!1),a(c,h)}finally{bo(f)}}function QI(o,s,a){if(L(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=o.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function Wy(o,s,a){!ts()||(function nw(o,s,a,c){const h=a.directiveStart,f=a.directiveEnd;o.firstCreatePass||Co(a,s),m(c,s);const y=a.initialInputs;for(let I=h;I<f;I++){const E=o.data[I],T=ze(E);T&&qD(s,a,E);const N=lo(s,o,I,a);m(N,s),null!==y&&w1(0,I-h,N,E,0,y),T&&(Mn(a.index,s)[8]=N)}}(o,s,a,Ur(a,s)),128==(128&a.flags)&&function Zc(o,s,a){const c=a.directiveStart,h=a.directiveEnd,f=a.index,y=function Hd(){return sn.lFrame.currentDirectiveIndex}();try{bo(f);for(let I=c;I<h;I++){const E=o.data[I],T=s[I];Ps(I),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Qp(E,T)}}finally{bo(-1),Ps(y)}}(o,s,a))}function Yy(o,s,a=Ur){const c=s.localNames;if(null!==c){let h=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],I=-1===y?a(s,o):o[y];o[h++]=I}}}function JI(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Zy(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Zy(o,s,a,c,h,f,y,I,E,T){const N=22+c,j=N+h,ue=function ew(o,s){const a=[];for(let c=0;c<s;c++)a.push(c<o?null:on);return a}(N,j),Fe="function"==typeof T?T():T;return ue[1]={type:o,blueprint:ue,template:a,queries:null,viewQuery:I,declTNode:s,data:ue.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:Fe,incompleteFirstPass:!1}}function Ky(o,s,a,c){const h=iv(s);null===a?h.push(c):(h.push(a),o.firstCreatePass&&xu(o).push(c,h.length-1))}function Pl(o,s,a){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,h):a[c]=[s,h]}return a}function tw(o,s){const c=s.directiveEnd,h=o.data,f=s.attrs,y=[];let I=null,E=null;for(let T=s.directiveStart;T<c;T++){const N=h[T],j=N.inputs,ue=null===f||jp(s)?null:Jp(j,f);y.push(ue),I=Pl(j,T,I),E=Pl(N.outputs,T,E)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=I,s.outputs=E}function po(o,s,a,c,h,f,y,I){const E=Ur(s,a);let N,T=s.inputs;!I&&null!=T&&(N=T[c])?(tg(o,a,N,c,h),pe(s)&&zD(a,s.index)):3&s.type&&(c=function GD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=y?y(h,s.value||"",c):h,f.setProperty(E,c,h))}function zD(o,s){const a=Mn(s,o);16&a[2]||(a[2]|=32)}function Xp(o,s,a,c){let h=!1;if(ts()){const f=function I1(o,s,a){const c=o.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const y=c[f];Gc(a,y.selectors,!1)&&(h||(h=[]),rs(Co(a,s),o,y.type),ze(y)?(Qy(o,a),h.unshift(y)):h.push(y))}return h}(o,s,a),y=null===c?null:{"":-1};if(null!==f){h=!0,iw(a,o.data.length,f.length);for(let N=0;N<f.length;N++){const j=f[N];j.providersResolver&&j.providersResolver(j)}let I=!1,E=!1,T=Au(o,s,f.length,null);for(let N=0;N<f.length;N++){const j=f[N];a.mergedAttrs=Ta(a.mergedAttrs,j.hostAttrs),ow(o,a,s,T,j),Jy(T,j,y),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const ue=j.type.prototype;!I&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),I=!0),!E&&(ue.ngOnChanges||ue.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),E=!0),T++}tw(o,a)}y&&function rw(o,s,a){if(s){const c=o.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new fe(-301,!1);c.push(s[h],f)}}}(a,c,y)}return a.mergedAttrs=Ta(a.mergedAttrs,a.attrs),h}function Lh(o,s,a,c,h,f){const y=f.hostBindings;if(y){let I=o.hostBindingOpCodes;null===I&&(I=o.hostBindingOpCodes=[]);const E=~s.index;(function _1(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=E&&I.push(E),I.push(c,h,y)}}function Qp(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Qy(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function Jy(o,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=o;ze(s)&&(a[""]=o)}}function iw(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}function ow(o,s,a,c,h){o.data[c]=h;const f=h.factory||(h.factory=Zr(h.type)),y=new Mi(f,ze(h),qc);o.blueprint[c]=y,a[c]=y,Lh(o,s,0,c,Au(o,a,h.hostVars,on),h)}function qD(o,s,a){const c=Ur(s,o),h=JI(a),f=o[10],y=eg(o,kl(o,h,null,a.onPush?32:16,c,s,f,f.createRenderer(c,a),null,null,null));o[s.index]=y}function ms(o,s,a,c,h,f){const y=Ur(o,s);!function ev(o,s,a,c,h,f,y){if(null==f)o.removeAttribute(s,h,a);else{const I=null==y?ne(f):y(f,c||"",h);o.setAttribute(s,h,I,a)}}(s[11],y,f,o.value,a,c,h)}function w1(o,s,a,c,h,f){const y=f[s];if(null!==y){const I=c.setInput;for(let E=0;E<y.length;){const T=y[E++],N=y[E++],j=y[E++];null!==I?c.setInput(a,j,T,N):a[N]=j}}}function Jp(o,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,o[h],s[c+1])),c+=2}else c+=2;else c+=4}return a}function tv(o,s,a,c){return new Array(o,!0,!1,s,null,0,c,a,null,null)}function sw(o,s){const a=Mn(s,o);if(Uo(a)){const c=a[1];48&a[2]?Kp(c,a,c.template,a[8]):a[5]>0&&nv(a)}}function nv(o){for(let c=wl(o);null!==c;c=Mc(c))for(let h=$;h<c.length;h++){const f=c[h];if(Uo(f))if(512&f[2]){const y=f[1];Kp(y,f,y.template,f[8])}else f[5]>0&&nv(f)}const a=o[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Mn(a[c],o);Uo(h)&&h[5]>0&&nv(h)}}function ZD(o,s){const a=Mn(s,o),c=a[1];(function KD(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(c,a),qy(c,a,a[8])}function eg(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function rv(o){for(;o;){o[2]|=32;const s=ea(o);if(Qe(o)&&!s)return o;o=s}return null}function $h(o,s,a,c=!0){const h=s[10];h.begin&&h.begin();try{Kp(o,s,o.template,a)}catch(y){throw c&&uw(s,y),y}finally{h.end&&h.end()}}function aw(o,s,a){nl(0),s(o,a)}function iv(o){return o[7]||(o[7]=[])}function xu(o){return o.cleanup||(o.cleanup=[])}function uw(o,s){const a=o[9],c=a?a.get(Eh,null):null;c&&c.handleError(s)}function tg(o,s,a,c,h){for(let f=0;f<a.length;){const y=a[f++],I=a[f++],E=s[y],T=o.data[y];null!==T.setInput?T.setInput(E,h,c,I):E[I]=h}}function ng(o,s,a){let c=a?o.styles:null,h=a?o.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?f=I:1==f?h=_e(h,I):2==f&&(c=_e(c,I+": "+s[++y]+";"))}a?o.styles=c:o.stylesWithoutHost=c,a?o.classes=h:o.classesWithoutHost=h}function rg(o,s,a,c,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(cr(f)),Ve(f))for(let I=$;I<f.length;I++){const E=f[I],T=E[1].firstChild;null!==T&&rg(E[1],E,T,c)}const y=a.type;if(8&y)rg(o,s,a.child,c);else if(32&y){const I=Ac(a,s);let E;for(;E=I();)c.push(E)}else if(16&y){const I=oy(s,a);if(Array.isArray(I))c.push(...I);else{const E=ea(s[16]);rg(E[1],E,I,c,!0)}}a=h?a.projectionNext:a.next}return c}class Ga{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return rg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ve(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(ny(s,c),Xi(a,c))}this._attachedToViewContainer=!1}ry(this._lView[1],this._lView)}onDestroy(s){Ky(this._lView[1],this._lView,null,s)}markForCheck(){rv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$h(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qM(o,s){Rc(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=s}}class XD extends Ga{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;$h(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class sa extends wh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=k(s);return new Bh(a,this.ngModule)}}function ov(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class Mu{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const h=this.injector.get(s,Sy,c);return h!==Sy||a===Sy?h:this.parentInjector.get(s,a,c)}}class Bh extends _I{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function PI(o){return o.map(OI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return ov(this.componentDef.inputs)}get outputs(){return ov(this.componentDef.outputs)}create(s,a,c,h){let f=(h=h||this.ngModule)instanceof Va?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Mu(s,f):s,I=y.get(bh,null);if(null===I)throw new fe(407,!1);const E=y.get(CI,null),T=I.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",j=c?function HD(o,s,a){return o.selectRootElement(s,a===Pt.ShadowDom)}(T,c,this.componentDef.encapsulation):X0(T,N,function Ni(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(N)),ue=this.componentDef.onPush?288:272,Fe=Zy(0,null,null,1,0,null,null,null,null,null),Ze=kl(null,Fe,null,ue,null,null,I,T,E,y,null);let pt,It;Ns(Ze);try{const Rt=function cw(o,s,a,c,h,f){const y=a[1];a[22]=o;const E=Ol(y,22,2,"#host",null),T=E.mergedAttrs=s.hostAttrs;null!==T&&(ng(E,T,!0),null!==o&&(Eo(h,o,T),null!==E.classes&&eo(h,o,E.classes),null!==E.styles&&tI(h,o,E.styles)));const N=c.createRenderer(o,s),j=kl(a,JI(s),null,s.onPush?32:16,a[22],E,c,N,f||null,null,null);return y.firstCreatePass&&(rs(Co(E,a),y,s.type),Qy(y,E),iw(E,a.length,1)),eg(a,j),a[22]=j}(j,this.componentDef,Ze,I,T);if(j)if(c)Eo(T,j,["ng-version",TI.full]);else{const{attrs:Wt,classes:ot}=function pD(o){const s=[],a=[];let c=1,h=2;for(;c<o.length;){let f=o[c];if("string"==typeof f)2===h?""!==f&&s.push(f,o[++c]):8===h&&a.push(f);else{if(!Ao(h))break;h=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Wt&&Eo(T,j,Wt),ot&&ot.length>0&&eo(T,j,ot.join(" "))}if(It=xs(Fe,22),void 0!==a){const Wt=It.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const nn=a[ot];Wt.push(null!=nn?Array.from(nn):null)}}pt=function dw(o,s,a,c){const h=a[1],f=function Xy(o,s,a){const c=Cr();o.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ow(o,c,s,Au(o,s,1,null),a),tw(o,c));const h=lo(s,o,c.directiveStart,c);m(h,s);const f=Ur(c,s);return f&&m(f,s),h}(h,a,s);if(o[8]=a[8]=f,null!==c)for(const I of c)I(f,s);if(s.contentQueries){const I=Cr();s.contentQueries(1,f,I.directiveStart)}const y=Cr();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(bo(y.index),Lh(a[1],y,0,y.directiveStart,y.directiveEnd,s),Qp(s,f)),f}(Rt,this.componentDef,Ze,[hw]),qy(Fe,Ze,null)}finally{jo()}return new lw(this.componentType,pt,Uc(It,Ze),Ze,It)}}class lw extends class nD{}{constructor(s,a,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new XD(h),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[s])){const f=this._rootLView;tg(f[1],f,h,s,a),zD(f,this._tNode.index)}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function hw(){const o=Cr();ou(rt()[1],o)}function ig(o){let s=function sv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const c=[o];for(;s;){let h;if(ze(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new fe(903,!1);h=s.\u0275dir}if(h){if(a){c.push(h);const y=o;y.inputs=sg(o.inputs),y.declaredInputs=sg(o.declaredInputs),y.outputs=sg(o.outputs);const I=h.hostBindings;I&&gw(o,I);const E=h.viewQuery,T=h.contentQueries;if(E&&fw(o,E),T&&pw(o,T),te(o.inputs,h.inputs),te(o.declaredInputs,h.declaredInputs),te(o.outputs,h.outputs),ze(h)&&h.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const I=f[y];I&&I.ngInherit&&I(o),I===ig&&(a=!1)}}s=Object.getPrototypeOf(s)}!function og(o){let s=0,a=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=s+=h.hostVars,h.hostAttrs=Ta(h.hostAttrs,a=Ta(a,h.hostAttrs))}}(c)}function sg(o){return o===Bn?{}:o===zt?[]:o}function fw(o,s){const a=o.viewQuery;o.viewQuery=a?(c,h)=>{s(c,h),a(c,h)}:s}function pw(o,s){const a=o.contentQueries;o.contentQueries=a?(c,h,f)=>{s(c,h,f),a(c,h,f)}:s}function gw(o,s){const a=o.hostBindings;o.hostBindings=a?(c,h)=>{s(c,h),a(c,h)}:s}let Kc=null;function Ru(){if(!Kc){const o=Gt.Symbol;if(o&&o.iterator)Kc=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Kc=c)}}}return Kc}function Xc(o){return!!Vh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ru()in o)}function Vh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _i(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function ww(o,s,a,c){const h=rt();return _i(h,wa(),s)&&(wn(),ms(er(),h,o,s,a,c)),ww}function za(o,s,a,c){return _i(o,wa(),a)?s+ne(a)+c:on}function ug(o,s,a,c,h,f,y,I){const E=rt(),T=wn(),N=o+22,j=T.firstCreatePass?function uT(o,s,a,c,h,f,y,I,E){const T=s.consts,N=Ol(s,o,4,y||null,xi(T,I));Xp(s,a,N,xi(T,E)),ou(s,N);const j=N.tViews=Zy(2,N,c,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,N),j.queries=s.queries.embeddedTView(N)),N}(N,T,E,s,a,c,h,f,y):T.data[N];si(j,!1);const ue=E[11].createComment("");mh(T,E,ue,j),m(ue,E),eg(E,E[N]=tv(ue,E,ue,j)),Re(j)&&Wy(T,E,j),null!=y&&Yy(E,j,I)}function Pu(o,s,a){const c=rt();return _i(c,wa(),s)&&po(wn(),er(),c,o,s,c[11],a,!1),Pu}function Nl(o,s,a,c,h){const y=h?"class":"style";tg(o,a,s.inputs[y],y,c)}function Gh(o,s,a,c){const h=rt(),f=wn(),y=22+o,I=h[11],E=h[y]=X0(I,s,function ol(){return sn.lFrame.currentNamespace}()),T=f.firstCreatePass?function uv(o,s,a,c,h,f,y){const I=s.consts,T=Ol(s,o,2,h,xi(I,f));return Xp(s,a,T,xi(I,y)),null!==T.attrs&&ng(T,T.attrs,!1),null!==T.mergedAttrs&&ng(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,f,h,0,s,a,c):f.data[y];si(T,!0);const N=T.mergedAttrs;null!==N&&Eo(I,E,N);const j=T.classes;null!==j&&eo(I,E,j);const ue=T.styles;return null!==ue&&tI(I,E,ue),64!=(64&T.flags)&&mh(f,h,E,T),0===function ma(){return sn.lFrame.elementDepthCount}()&&m(E,h),function uc(){sn.lFrame.elementDepthCount++}(),Re(T)&&(Wy(f,h,T),QI(f,T,h)),null!==c&&Yy(h,T),Gh}function td(){let o=Cr();iu()?Os():(o=o.parent,si(o,!1));const s=o;!function ya(){sn.lFrame.elementDepthCount--}();const a=wn();return a.firstCreatePass&&(ou(a,o),L(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function au(o){return 0!=(16&o.flags)}(s)&&Nl(a,s,rt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function uu(o){return 0!=(32&o.flags)}(s)&&Nl(a,s,rt(),s.stylesWithoutHost,!1),td}function cg(o,s,a,c){return Gh(o,s,a,c),td(),cg}function zh(o,s,a){const c=rt(),h=wn(),f=o+22,y=h.firstCreatePass?function dg(o,s,a,c,h){const f=s.consts,y=xi(f,c),I=Ol(s,o,8,"ng-container",y);return null!==y&&ng(I,y,!0),Xp(s,a,I,xi(f,h)),null!==s.queries&&s.queries.elementStart(s,I),I}(f,h,c,s,a):h.data[f];si(y,!0);const I=c[f]=c[11].createComment("");return mh(h,c,I,y),m(I,c),Re(y)&&(Wy(h,c,y),QI(h,y,c)),null!=a&&Yy(c,y),zh}function qh(){let o=Cr();const s=wn();return iu()?Os():(o=o.parent,si(o,!1)),s.firstCreatePass&&(ou(s,o),L(o)&&s.queries.elementEnd(o)),qh}function nd(o,s,a){return zh(o,s,a),qh(),nd}function rd(){return rt()}function Cw(o){return!!o&&"function"==typeof o.then}function lT(o){return!!o&&"function"==typeof o.subscribe}const lv=lT;function Dw(o,s,a,c){const h=rt(),f=wn(),y=Cr();return function Zh(o,s,a,c,h,f,y,I){const E=Re(c),N=o.firstCreatePass&&xu(o),j=s[8],ue=iv(s);let Fe=!0;if(3&c.type||I){const It=Ur(c,s),Rt=I?I(It):It,Wt=ue.length,ot=I?Hn=>I(cr(Hn[c.index])):c.index;let nn=null;if(!I&&E&&(nn=function Yh(o,s,a,c){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===c){const I=s[7],E=h[f+2];return I.length>E?I[E]:null}"string"==typeof y&&(f+=2)}return null}(o,s,h,c.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=f,nn.__ngLastListenerFn__=f,Fe=!1;else{f=Tw(c,s,j,f,!1);const Hn=a.listen(Rt,h,f);ue.push(f,Hn),N&&N.push(h,ot,Wt,Wt+1)}}else f=Tw(c,s,j,f,!1);const Ze=c.outputs;let pt;if(Fe&&null!==Ze&&(pt=Ze[h])){const It=pt.length;if(It)for(let Rt=0;Rt<It;Rt+=2){const or=s[pt[Rt]][pt[Rt+1]].subscribe(f),ni=ue.length;ue.push(f,or),N&&N.push(h,c.index,ni,-(ni+1))}}}(f,h,h[11],y,o,s,0,c),Dw}function Kh(o,s,a,c){try{return!1!==a(c)}catch(h){return uw(o,h),!1}}function Tw(o,s,a,c,h){return function f(y){if(y===Function)return c;rv(2&o.flags?Mn(o.index,s):s);let E=Kh(s,0,c,y),T=f.__ngNextListenerFn__;for(;T;)E=Kh(s,0,T,y)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function hg(o=1){return function Ho(o){return(sn.lFrame.contextLView=function fc(o,s){for(;o>0;)s=s[15],o--;return s}(o,sn.lFrame.contextLView))[8]}(o)}function fg(o,s){let a=null;const c=function hD(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(o);for(let h=0;h<s.length;h++){const f=s[h];if("*"!==f){if(null===c?Gc(o,f,!0):kI(c,f))return h}else a=h}return a}function Sw(o){const s=rt()[16][6];if(!s.projection){const c=s.projection=dr(o?o.length:1,null),h=c.slice();let f=s.child;for(;null!==f;){const y=o?fg(f,o):0;null!==y&&(h[y]?h[y].projectionNext=f:c[y]=f,h[y]=f),f=f.next}}}function Aw(o,s=0,a){const c=rt(),h=wn(),f=Ol(h,22+o,16,null,a||null);null===f.projection&&(f.projection=s),Os(),64!=(64&f.flags)&&function eI(o,s,a){sy(s[11],0,s,a,Ep(o,a,s),FC(a.parent||s[6],a,s))}(h,c,f)}function pg(o,s,a){return cv(o,"",s,"",a),pg}function cv(o,s,a,c,h){const f=rt(),y=za(f,s,a,c);return y!==on&&po(wn(),er(),f,o,y,f[11],h,!1),cv}function pT(o,s,a,c,h){const f=o[a+1],y=null===s;let I=c?gs(f):oa(f),E=!1;for(;0!==I&&(!1===E||y);){const N=o[I+1];gT(o[I],s)&&(E=!0,o[I+1]=c?By(N):xh(N)),I=c?gs(N):oa(N)}E&&(o[a+1]=c?xh(f):By(f))}function gT(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&mi(o,s)>=0}function Ll(o,s){return function ua(o,s,a,c){const h=rt(),f=wn(),y=function wo(o){const s=sn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);f.firstUpdatePass&&function yv(o,s,a,c){const h=o.data;if(null===h[a+1]){const f=h[nr()],y=function Fw(o,s){return s>=o.expandoStartIndex}(o,a);(function wv(o,s){return 0!=(o.flags&(s?16:32))})(f,c)&&null===s&&!y&&(s=!1),s=function _T(o,s,a,c){const h=function tl(o){const s=sn.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let f=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(a=Qh(a=mg(null,o,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(a=mg(h,o,s,a,c),null===f){let E=function Lw(o,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==oa(c))return o[gs(c)]}(o,s,c);void 0!==E&&Array.isArray(E)&&(E=mg(null,o,s,E[1],c),E=Qh(E,s.attrs,c),function vv(o,s,a,c){o[gs(a?s.classBindings:s.styleBindings)]=c}(o,s,c,E))}else f=function IT(o,s,a){let c;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)c=Qh(c,o[f].hostAttrs,a);return Qh(c,s.attrs,a)}(o,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,c),function fv(o,s,a,c,h,f){let y=f?s.classBindings:s.styleBindings,I=gs(y),E=oa(y);o[c]=a;let N,T=!1;if(Array.isArray(a)){const j=a;N=j[1],(null===N||mi(j,N)>0)&&(T=!0)}else N=a;if(h)if(0!==E){const ue=gs(o[I+1]);o[c+1]=Wp(ue,I),0!==ue&&(o[ue+1]=Mh(o[ue+1],c)),o[I+1]=function SD(o,s){return 131071&o|s<<17}(o[I+1],c)}else o[c+1]=Wp(I,0),0!==I&&(o[I+1]=Mh(o[I+1],c)),I=c;else o[c+1]=Wp(E,0),0===I?I=c:o[E+1]=Mh(o[E+1],c),E=c;T&&(o[c+1]=xh(o[c+1])),pT(o,N,c,!0),pT(o,N,c,!1),function fT(o,s,a,c,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof s&&mi(f,s)>=0&&(a[c+1]=By(a[c+1]))}(s,N,o,c,f),y=Wp(I,E),f?s.classBindings=y:s.styleBindings=y}(h,f,s,a,y,c)}}(f,o,y,c),s!==on&&_i(h,y,s)&&function Bw(o,s,a,c,h,f,y,I){if(!(3&s.type))return;const E=o.data,T=E[I+1];Jh(function Rh(o){return 1==(1&o)}(T)?yg(E,s,a,h,oa(T),y):void 0)||(Jh(f)||function $y(o){return 2==(2&o)}(T)&&(f=yg(E,null,a,h,I,y)),function VC(o,s,a,c,h){if(s)h?o.addClass(a,c):o.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:Ji.DashCase;null==h?o.removeStyle(a,c,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=Ji.Important),o.setStyle(a,c,h,f))}}(c,y,Yi(nr(),a),h,f))}(f,f.data[nr()],h,h[11],o,h[y+1]=function wT(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=he(ta(o)))),o}(s,a),c,y)}(o,s,null,!0),Ll}function mg(o,s,a,c,h){let f=null;const y=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<y&&(f=s[I],c=Qh(c,f.hostAttrs,h),f!==o);)I++;return null!==o&&(a.directiveStylingLast=I),c}function Qh(o,s,a){const c=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ai(o,y,!!a||s[++f]))}return void 0===o?null:o}function yg(o,s,a,c,h,f){const y=null===s;let I;for(;h>0;){const E=o[h],T=Array.isArray(E),N=T?E[1]:E,j=null===N;let ue=a[h+1];ue===on&&(ue=j?zt:void 0);let Fe=j?Ra(ue,c):N===c?ue:void 0;if(T&&!Jh(Fe)&&(Fe=Ra(E,c)),Jh(Fe)&&(I=Fe,y))return I;const Ze=o[h+1];h=y?gs(Ze):oa(Ze)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(I=Ra(E,c))}return I}function Jh(o){return void 0!==o}function Vw(o,s=""){const a=rt(),c=wn(),h=o+22,f=c.firstCreatePass?Ol(c,h,1,s,null):c.data[h],y=a[h]=function bp(o,s){return o.createText(s)}(a[11],s);mh(c,a,y,f),si(f,!1)}function vg(o){return _g("",o,""),vg}function _g(o,s,a){const c=rt(),h=za(c,o,s,a);return h!==on&&function Ha(o,s,a){const c=Yi(s,o);!function Jm(o,s,a){o.setValue(s,a)}(o[11],c,a)}(c,nr(),h),_g}const Bl=void 0;var M1=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function x1(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let tf={};function Av(o){const s=function FT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=tb(s);if(a)return a;const c=s.split("-")[0];if(a=tb(c),a)return a;if("en"===c)return M1;throw new fe(701,!1)}function eb(o){return Av(o)[Kt.PluralCase]}function tb(o){return o in tf||(tf[o]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[o]),tf[o]}var Kt=(()=>((Kt=Kt||{})[Kt.LocaleId=0]="LocaleId",Kt[Kt.DayPeriodsFormat=1]="DayPeriodsFormat",Kt[Kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Kt[Kt.DaysFormat=3]="DaysFormat",Kt[Kt.DaysStandalone=4]="DaysStandalone",Kt[Kt.MonthsFormat=5]="MonthsFormat",Kt[Kt.MonthsStandalone=6]="MonthsStandalone",Kt[Kt.Eras=7]="Eras",Kt[Kt.FirstDayOfWeek=8]="FirstDayOfWeek",Kt[Kt.WeekendRange=9]="WeekendRange",Kt[Kt.DateFormat=10]="DateFormat",Kt[Kt.TimeFormat=11]="TimeFormat",Kt[Kt.DateTimeFormat=12]="DateTimeFormat",Kt[Kt.NumberSymbols=13]="NumberSymbols",Kt[Kt.NumberFormats=14]="NumberFormats",Kt[Kt.CurrencyCode=15]="CurrencyCode",Kt[Kt.CurrencySymbol=16]="CurrencySymbol",Kt[Kt.CurrencyName=17]="CurrencyName",Kt[Kt.Currencies=18]="Currencies",Kt[Kt.Directionality=19]="Directionality",Kt[Kt.PluralCase=20]="PluralCase",Kt[Kt.ExtraData=21]="ExtraData",Kt))();const nf="en-US";let od=nf;function Sg(o,s,a,c,h){if(o=ee(o),Array.isArray(o))for(let f=0;f<o.length;f++)Sg(o[f],s,a,c,h);else{const f=wn(),y=rt();let I=Al(o)?o:ee(o.provide),E=Bc(o);const T=Cr(),N=1048575&T.providerIndexes,j=T.directiveStart,ue=T.providerIndexes>>20;if(Al(o)||!o.multi){const Fe=new Mi(E,h,qc),Ze=Uv(I,s,h?N:N+ue,j);-1===Ze?(rs(Co(T,y),f,I),Vv(f,o,s.length),s.push(I),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Fe),y.push(Fe)):(a[Ze]=Fe,y[Ze]=Fe)}else{const Fe=Uv(I,s,N+ue,j),Ze=Uv(I,s,N,N+ue),pt=Fe>=0&&a[Fe],It=Ze>=0&&a[Ze];if(h&&!It||!h&&!pt){rs(Co(T,y),f,I);const Rt=function yS(o,s,a,c,h){const f=new Mi(o,a,qc);return f.multi=[],f.index=s,f.componentProviders=0,bb(f,h,c&&!a),f}(h?jv:mS,a.length,h,c,E);!h&&It&&(a[Ze].providerFactory=Rt),Vv(f,o,s.length,0),s.push(I),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Rt),y.push(Rt)}else Vv(f,o,Fe>-1?Fe:Ze,bb(a[h?Ze:Fe],E,!h&&c));!h&&c&&It&&a[Ze].componentProviders++}}}function Vv(o,s,a,c){const h=Al(s),f=function QC(o){return!!o.useClass}(s);if(h||f){const E=(f?ee(s.useClass):s).prototype.ngOnDestroy;if(E){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const N=T.indexOf(a);-1===N?T.push(a,[c,E]):T[N+1].push(c,E)}else T.push(a,E)}}}function bb(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function Uv(o,s,a,c){for(let h=a;h<c;h++)if(s[h]===o)return h;return-1}function mS(o,s,a,c){return Hv(this.multi,[])}function jv(o,s,a,c){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=lo(a,a[1],this.providerFactory.index,c);f=I.slice(0,y),Hv(h,f);for(let E=y;E<I.length;E++)f.push(I[E])}else f=[],Hv(h,f);return f}function Hv(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function Eb(o,s=[]){return a=>{a.providersResolver=(c,h)=>function wb(o,s,a){const c=wn();if(c.firstCreatePass){const h=ze(o);Sg(a,c.data,c.blueprint,h,!0),Sg(s,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,s)}}class ld{}class Cb{}function vS(o,s){return new Gv(o,s??null)}class Gv extends ld{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sa(this);const c=Tt(s);this._bootstrapComponents=ps(c.bootstrap),this._r3Injector=$I(s,a,[{provide:ld,useValue:this},{provide:wh,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ul extends Cb{constructor(s){super(),this.moduleType=s}create(s){return new Gv(this.moduleType,s)}}class _S extends ld{constructor(s,a,c){super(),this.componentFactoryResolver=new sa(this),this.instance=null;const h=new JC([...s,{provide:ld,useValue:this},{provide:wh,useValue:this.componentFactoryResolver}],a||na(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function zv(o,s,a=null){return new _S(o,s,a).injector}let IS=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Iy(0,a.type),h=c.length>0?zv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Ye({token:o,providedIn:"environment",factory:()=>new o(Ir(Va))}),o})();function Ag(o){o.getStandaloneInjector=s=>s.get(IS).getOrCreateStandaloneInjector(o)}function Yv(o,s,a,c){return Pb(rt(),Dr(),o,s,a,c)}function Pb(o,s,a,c,h,f){const y=s+a;return _i(o,y,h)?function ys(o,s,a){return o[s]=a}(o,y+1,f?c.call(f,h):c(h)):function ff(o,s){const a=o[s];return a===on?void 0:a}(o,y+1)}function Qv(o,s){const a=wn();let c;const h=o+22;a.firstCreatePass?(c=function Lb(o,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(o===c.name)return c}}(s,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const f=c.factory||(c.factory=Zr(c.type)),y=On(qc);try{const I=Sa(!1),E=f();return Sa(I),function Hh(o,s,a,c){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=c}(a,rt(),h,E),E}finally{On(y)}}function xg(o,s,a){const c=o+22,h=rt(),f=function ao(o,s){return o[s]}(h,c);return function gf(o,s){return o[1].data[s].pure}(h,c)?Pb(h,Dr(),s,f.transform,a,f):f.transform(a)}function Mg(o){return s=>{setTimeout(o,void 0,s)}}const Ro=class $b extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let h=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),f=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(f=Mg(f),h&&(h=Mg(h)),y&&(y=Mg(y)));const I=super.subscribe({next:h,error:f,complete:y});return s instanceof U.w0&&s.add(I),I}};function LS(){return this._results[Ru()]()}class Jv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ru(),c=Jv.prototype;c[a]||(c[a]=LS)}get changes(){return this._changes||(this._changes=new Ro)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=Qn(s);(this._changesDetected=!function Ot(o,s,a){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],f=s[c];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mf=(()=>{class o{}return o.__NG_ELEMENT_ID__=Rg,o})();const $S=mf,BS=class extends $S{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,h=kl(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(c)),qy(c,h,s),new Ga(h)}};function Rg(){return yf(Cr(),rt())}function yf(o,s){return 4&o.type?new BS(s,o,Uc(o,s)):null}let vf=(()=>{class o{}return o.__NG_ELEMENT_ID__=Bb,o})();function Bb(){return kg(Cr(),rt())}const VS=vf,Vb=class extends VS{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Aa(this._hostTNode,this._hostLView);if(Yd(s)){const a=Go(s,this._hostLView),c=Tr(s);return new Gs(a[1].data[c+8],a)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ub(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-$}createEmbeddedView(s,a,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,h),y}createComponent(s,a,c,h,f){const y=s&&!function Do(o){return"function"==typeof o}(s);let I;if(y)I=a;else{const j=a||{};I=j.index,c=j.injector,h=j.projectableNodes,f=j.environmentInjector||j.ngModuleRef}const E=y?s:new Bh(k(s)),T=c||this.parentInjector;if(!f&&null==E.ngModule){const ue=(y?T:this.parentInjector).get(Va,null);ue&&(f=ue)}const N=E.create(T,h,void 0,f);return this.insert(N.hostView,I),N}insert(s,a){const c=s._lView,h=c[1];if(function Ju(o){return Ve(o[3])}(c)){const N=this.indexOf(s);if(-1!==N)this.detach(N);else{const j=c[3],ue=new Vb(j,j[6],j[3]);ue.detach(ue.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function WM(o,s,a,c){const h=$+c,f=a.length;c>0&&(a[h-1][4]=s),c<f-$?(s[4]=a[h],ss(a,$+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function RC(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(y,s);const I=s[19];null!==I&&I.insertView(o),s[2]|=64}(h,c,y,f);const I=Dp(f,y),E=c[11],T=iy(E,y[7]);return null!==T&&function zM(o,s,a,c,h,f){c[0]=h,c[6]=s,Rc(o,c,a,1,h,f)}(h,y[6],E,c,T,I),s.attachToViewContainerRef(),ss(e_(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ub(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=ny(this._lContainer,a);c&&(Xi(e_(this._lContainer),a),ry(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=ny(this._lContainer,a);return c&&null!=Xi(e_(this._lContainer),a)?new Ga(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Ub(o){return o[8]}function e_(o){return o[8]||(o[8]=[])}function kg(o,s){let a;const c=s[o.index];if(Ve(c))a=c;else{let h;if(8&o.type)h=cr(c);else{const f=s[11];h=f.createComment("");const y=Ur(o,s);bl(f,iy(f,y),h,function NC(o,s){return o.nextSibling(s)}(f,y),!1)}s[o.index]=a=tv(c,s,h,o),eg(s,a)}return new Vb(a,o,s)}class jb{constructor(s){this.queryList=s,this.matches=null}clone(){return new jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new Hb(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==qS(s,a).matches&&this.queries[a].setDirty()}}class t_{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class n_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,h);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new n_(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class r_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new r_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(s,a,V1(a,f)),this.matchTNodeWithReadOption(s,a,Ma(a,s,f,!1,!1))}else c===mf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ma(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===jc||h===vf||h===mf&&4&a.type)this.addMatch(a.index,-2);else{const f=Ma(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function V1(o,s){const a=o.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function j1(o,s,a,c){return-1===a?function U1(o,s){return 11&o.type?Uc(o,s):4&o.type?yf(o,s):null}(s,o):-2===a?function H1(o,s,a){return a===jc?Uc(s,o):a===mf?yf(s,o):a===vf?kg(s,o):void 0}(o,s,c):lo(o,o[1],a,s)}function jS(o,s,a,c){const h=s[19].queries[c];if(null===h.matches){const f=o.data,y=a.matches,I=[];for(let E=0;E<y.length;E+=2){const T=y[E];I.push(T<0?null:j1(s,f[T],y[E+1],a.metadata.read))}h.matches=I}return h.matches}function Gb(o,s,a,c){const h=o.queries.getByIndex(a),f=h.matches;if(null!==f){const y=jS(o,s,h,a);for(let I=0;I<f.length;I+=2){const E=f[I];if(E>0)c.push(y[I/2]);else{const T=f[I+1],N=s[-E];for(let j=$;j<N.length;j++){const ue=N[j];ue[17]===ue[3]&&Gb(ue[1],ue,T,c)}if(null!==N[9]){const j=N[9];for(let ue=0;ue<j.length;ue++){const Fe=j[ue];Gb(Fe[1],Fe,T,c)}}}}}return c}function zb(o){const s=rt(),a=wn(),c=ba();nl(c+1);const h=qS(a,c);if(o.dirty&&function Qu(o){return 4==(4&o[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?Gb(a,s,c,[]):jS(a,s,h,c);o.reset(f,EI),o.notifyOnChanges()}return!0}return!1}function HS(o,s,a){const c=wn();c.firstCreatePass&&(o_(c,new t_(o,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),i_(c,rt(),s)}function GS(o,s,a,c){const h=wn();if(h.firstCreatePass){const f=Cr();o_(h,new t_(s,a,c),f.index),function s_(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),2==(2&a)&&(h.staticContentQueries=!0)}i_(h,rt(),a)}function qb(){return function zS(o,s){return o[19].queries[s].queryList}(rt(),ba())}function i_(o,s,a){const c=new Jv(4==(4&a));Ky(o,s,c,c.destroy),null===s[19]&&(s[19]=new Hb),s[19].queries.push(new jb(c))}function o_(o,s,a){null===o.queries&&(o.queries=new n_),o.queries.track(new r_(s,a))}function qS(o,s){return o.queries.getByIndex(s)}function pd(...o){}const __=new Xn("Application Initializer");let Vg=(()=>{class o{constructor(a){this.appInits=a,this.resolve=pd,this.reject=pd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(Cw(f))a.push(f);else if(lv(f)){const y=new Promise((I,E)=>{f.subscribe({complete:I,error:E})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(Ir(__,8))},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const I_=new Xn("AppId",{providedIn:"root",factory:function w_(){return`${Ug()}${Ug()}${Ug()}`}});function Ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uE=new Xn("Platform Initializer"),b_=new Xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jg=new Xn("appBootstrapListener");let bi=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const gd=new Xn("LocaleId",{providedIn:"root",factory:()=>C(gd,gt.Optional|gt.SkipSelf)||function Hg(){return typeof $localize<"u"&&$localize.locale||nf}()}),tA=new Xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rA{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let cE=(()=>{class o{compileModuleSync(a){return new Ul(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=ps(Tt(a).declarations).reduce((y,I)=>{const E=k(I);return E&&y.push(new Bh(E)),y},[]);return new rA(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const S_=(()=>Promise.resolve(0))();function Gg(o){typeof Zone>"u"?S_.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Li{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function iA(){let o=Gt.requestAnimationFrame,s=Gt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function qg(o){const s=()=>{!function fE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Gt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,A_(o),o.isCheckStableRunning=!0,zg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),A_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,f,y,I)=>{try{return pE(o),a.invokeTask(h,f,y,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&s(),jl(o)}},onInvoke:(a,c,h,f,y,I,E)=>{try{return pE(o),a.invoke(h,f,y,I,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),jl(o)}},onHasTask:(a,c,h,f)=>{a.hasTask(h,f),c===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,A_(o),zg(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,h,f)=>(a.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Li.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Li.isInAngularZone())throw new fe(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,hE,pd,pd);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const hE={};function zg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function A_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function pE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function jl(o){o._nesting--,zg(o)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}const gE=new Xn(""),Fu=new Xn("");let Hl,mE=(()=>{class o{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hl||(function yE(o){Hl=o}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Li.assertNotInAngularZone(),Gg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return o.\u0275fac=function(a){return new(a||o)(Ir(Li),Ir(Df),Ir(Fu))},o.\u0275prov=Ye({token:o,factory:o.\u0275fac}),o})(),Df=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Hl?.findTestabilityInTree(this,a,c)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Za=null;const $i=new Xn("AllowMultipleToken"),Wg=new Xn("PlatformDestroyListeners");class vE{constructor(s,a){this.name=s,this.token=a}}function Kg(o,s,a=[]){const c=`Platform: ${s}`,h=new Xn(c);return(f=[])=>{let y=M_();if(!y||y.injector.get($i,!1)){const I=[...a,...f,{provide:h,useValue:!0}];o?o(I):function _E(o){if(Za&&!Za.get($i,!1))throw new fe(400,!1);Za=o;const s=o.get(Qg);(function Zg(o){const s=o.get(uE,null);s&&s.forEach(a=>a())})(o)}(function md(o=[],s){return Ml.create({name:s,providers:[{provide:Ey,useValue:"platform"},{provide:Wg,useValue:new Set([()=>Za=null])},...o]})}(I,c))}return function Xg(o){const s=M_();if(!s)throw new fe(401,!1);return s}()}}function M_(){return Za?.get(Qg)??null}let Qg=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function Jg(o,s){let a;return a="noop"===o?new oA:("zone.js"===o?void 0:o)||new Li(s),a}(c?.ngZone,function Sf(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Li,useValue:h}];return h.run(()=>{const y=Ml.create({providers:f,parent:this.injector,name:a.moduleType.name}),I=a.create(y),E=I.injector.get(Eh,null);if(!E)throw new fe(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:N=>{E.handleError(N)}});I.onDestroy(()=>{em(this._modules,I),T.unsubscribe()})}),function R_(o,s,a){try{const c=a();return Cw(c)?c.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(E,h,()=>{const T=I.injector.get(Vg);return T.runInitializers(),T.donePromise.then(()=>(function BT(o){be(o,"Expected localeId to be defined"),"string"==typeof o&&(od=o.toLowerCase().replace(/_/g,"-"))}(I.injector.get(gd,nf)||nf),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const h=k_({},c);return function Yg(o,s,a){const c=new Ul(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const c=a.injector.get(Af);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new fe(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Wg,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(Ir(Ml))},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function k_(o,s){return Array.isArray(s)?s.reduce(k_,o):{...o,...s}}let Af=(()=>{class o{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new R.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new R.y(I=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Li.assertNotInAngularZone(),Gg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Li.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,me.T)(f,y.pipe((0,Ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof _I;if(!this._injector.get(Vg).done)throw!h&&nt(a),new fe(405,false);let y;y=h?a:this._injector.get(wh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const I=function x_(o){return o.isBoundToModule}(y)?void 0:this._injector.get(ld),T=y.create(Ml.NULL,[],c||y.selector,I),N=T.location.nativeElement,j=T.injector.get(gE,null);return j?.registerApplication(N),T.onDestroy(()=>{this.detachView(T.hostView),em(this.components,T),j?.unregisterApplication(N)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;em(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(jg,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>em(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)(Ir(Li),Ir(Va),Ir(Eh))},o.\u0275prov=Ye({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function em(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}let xf=!0,vd=!1;function Gl(){return vd=!0,xf}function O_(){if(vd)throw new Error("Cannot enable prod mode after platform setup.");xf=!1}let bE=(()=>{class o{}return o.__NG_ELEMENT_ID__=uA,o})();function uA(o){return function zl(o,s,a){if(pe(o)&&!a){const c=Mn(o.index,s);return new Ga(c,c)}return 47&o.type?new Ga(s[16],s):null}(Cr(),rt(),16==(16&o))}class V_{constructor(){}supports(s){return Xc(s)}create(s){return new CE(s)}}const hA=(o,s)=>s;class CE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||hA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<j_(c,h,f)?a:c,I=j_(y,h,f),E=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const T=I-h,N=E-h;if(T!=N){for(let ue=0;ue<T;ue++){const Fe=ue<f.length?f[ue]:f[ue]=0,Ze=Fe+ue;N<=Ze&&Ze<T&&(f[ue]=Fe+1)}f[y.previousIndex]=N-T}}I!==E&&s(y,I,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Xc(s))throw new fe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)f=s[I],y=this._trackByFn(I,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,I)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,I),c=!0),a=a._next}else h=0,function Iw(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Ru()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,I=>{y=this._trackByFn(h,I),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,I,y,h)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new DE(a,c),f,h),s}_verifyReinsertion(s,a,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new rm),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class DE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U_{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class rm{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new U_,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j_(o,s,a){const c=o.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class H_{constructor(){}supports(s){return s instanceof Map||Vh(s)}create(){return new G_}}class G_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Vh(s)))throw new fe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const c=new fA(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class fA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TE(){return new z_([new V_])}let z_=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||TE()),deps:[[o,new Lt,new mt]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new fe(901,!1)}}return o.\u0275prov=Ye({token:o,providedIn:"root",factory:TE}),o})();function _d(){return new Id([new H_])}let Id=(()=>{class o{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:c=>o.create(a,c||_d()),deps:[[o,new Lt,new mt]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new fe(901,!1)}}return o.\u0275prov=Ye({token:o,providedIn:"root",factory:_d}),o})();const pA=Kg(null,"core",[]);let Nr=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(Ir(Af))},o.\u0275mod=fn({type:o}),o.\u0275inj=ft({}),o})();function AE(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Z:()=>fe});var u=O(2090),U=O(4859),R=O(9681),me=O(1877);class Ie{constructor(ne,B){this._delegate=ne,this.firebase=B,(0,R._addComponent)(ne,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this._delegate.automaticDataCollectionEnabled=ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ne=>{this._delegate.checkDestroyed(),ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ne,B=R._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ne);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Pe=Ue.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:B})}_removeServiceInstance(ne,B=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ne).clearInstance(B)}_addComponent(ne){(0,R._addComponent)(this._delegate,ne)}_addOrOverwriteComponent(ne){(0,R._addOrOverwriteComponent)(this._delegate,ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function _e(){const He=function he(He){const ne={},B={__esModule:!0,initializeApp:function Se(z,re={}){const de=R.initializeApp(z,re);if((0,u.r3)(ne,de.name))return ne[de.name];const G=new He(de,B);return ne[de.name]=G,G},app:Ue,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function we(z){const re=z.name,de=re.replace("-compat","");if(R._registerComponent(z)&&"PUBLIC"===z.type){const G=(V=Ue())=>{if("function"!=typeof V[de])throw te.create("invalid-app-argument",{appName:re});return V[de]()};void 0!==z.serviceProps&&(0,u.ZB)(G,z.serviceProps),B[de]=G,He.prototype[de]=function(...V){return this._getService.bind(this,re).apply(this,z.multipleInstances?V:[])}}return"PUBLIC"===z.type?B[de]:null},removeApp:function Pe(z){delete ne[z]},useAsService:function oe(z,re){return"serverAuth"===re?null:re},modularAPIs:R}};function Ue(z){if(!(0,u.r3)(ne,z=z||R._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:z});return ne[z]}return B.default=B,Object.defineProperty(B,"apps",{get:function Te(){return Object.keys(ne).map(z=>ne[z])}}),Ue.App=He,B}(Ie);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ne(B){(0,u.ZB)(He,B)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),He}(),Y=new me.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fe=K;!function ge(He){(0,R.registerVersion)("@firebase/app-compat","0.1.39",He)}()},9681:(Dt,Ge,O)=>{"use strict";O.r(Ge),O.d(Ge,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>pn,_DEFAULT_ENTRY_NAME:()=>be,_addComponent:()=>Ne,_addOrOverwriteComponent:()=>Ye,_apps:()=>De,_clearComponents:()=>Jt,_components:()=>ke,_getProvider:()=>ft,_registerComponent:()=>ht,_removeServiceInstance:()=>ct,deleteApp:()=>$r,getApp:()=>kn,getApps:()=>sr,initializeApp:()=>bn,onLog:()=>Dn,registerVersion:()=>Jn,setLogLevel:()=>On});var u=O(5861),U=O(4859),R=O(1877),me=O(2090),Ie=O(8766);class xe{constructor(Xe){this.container=Xe}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function te(wt){return"VERSION"===wt.getComponent()?.type}(bt)){const $t=bt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(bt=>bt).join(" ")}}const he="@firebase/app",K=new R.Yd("@firebase/app"),be="[DEFAULT]",ce={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},De=new Map,ke=new Map;function Ne(wt,Xe){try{wt.container.addComponent(Xe)}catch(bt){K.debug(`Component ${Xe.name} failed to register with FirebaseApp ${wt.name}`,bt)}}function Ye(wt,Xe){wt.container.addOrOverwriteComponent(Xe)}function ht(wt){const Xe=wt.name;if(ke.has(Xe))return K.debug(`There were multiple attempts to register component ${Xe}.`),!1;ke.set(Xe,wt);for(const bt of De.values())Ne(bt,wt);return!0}function ft(wt,Xe){const bt=wt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),wt.container.getProvider(Xe)}function ct(wt,Xe,bt=be){ft(wt,Xe).clearInstance(bt)}function Jt(){ke.clear()}const hn=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class In{constructor(Xe,bt,$t){this._isDeleted=!1,this._options=Object.assign({},Xe),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Xe){this._isDeleted=Xe}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const pn="9.14.0";function bn(wt,Xe={}){let bt=wt;"object"!=typeof Xe&&(Xe={name:Xe});const $t=Object.assign({name:be,automaticDataCollectionEnabled:!1},Xe),Vt=$t.name;if("string"!=typeof Vt||!Vt)throw hn.create("bad-app-name",{appName:String(Vt)});if(bt||(bt=(0,me.aH)()),!bt)throw hn.create("no-options");const fn=De.get(Vt);if(fn){if((0,me.vZ)(bt,fn.options)&&(0,me.vZ)($t,fn.config))return fn;throw hn.create("duplicate-app",{appName:Vt})}const ie=new U.H0(Vt);for(const se of ke.values())ie.addComponent(se);const J=new In(bt,$t,ie);return De.set(Vt,J),J}function kn(wt=be){const Xe=De.get(wt);if(!Xe&&wt===be)return bn();if(!Xe)throw hn.create("no-app",{appName:wt});return Xe}function sr(){return Array.from(De.values())}function $r(wt){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(wt){const Xe=wt.name;De.has(Xe)&&(De.delete(Xe),yield Promise.all(wt.container.getProviders().map(bt=>bt.delete())),wt.isDeleted=!0)})).apply(this,arguments)}function Jn(wt,Xe,bt){var $t;let Vt=null!==($t=ce[wt])&&void 0!==$t?$t:wt;bt&&(Vt+=`-${bt}`);const fn=Vt.match(/\s|\//),ie=Xe.match(/\s|\//);if(fn||ie){const J=[`Unable to register library "${Vt}" with version "${Xe}":`];return fn&&J.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),fn&&ie&&J.push("and"),ie&&J.push(`version name "${Xe}" contains illegal characters (whitespace or "/")`),void K.warn(J.join(" "))}ht(new U.wA(`${Vt}-version`,()=>({library:Vt,version:Xe}),"VERSION"))}function Dn(wt,Xe){if(null!==wt&&"function"!=typeof wt)throw hn.create("invalid-log-argument");(0,R.Am)(wt,Xe)}function On(wt){(0,R.Ub)(wt)}const Pn="firebase-heartbeat-store";let $n=null;function Nn(){return $n||($n=(0,Ie.X3)("firebase-heartbeat-database",1,{upgrade:(wt,Xe)=>{0===Xe&&wt.createObjectStore(Pn)}}).catch(wt=>{throw hn.create("idb-open",{originalErrorMessage:wt.message})})),$n}function Pt(){return(Pt=(0,u.Z)(function*(wt){var Xe;try{return(yield Nn()).transaction(Pn).objectStore(Pn).get(Kn(wt))}catch(bt){if(bt instanceof me.ZR)K.warn(bt.message);else{const $t=hn.create("idb-get",{originalErrorMessage:null===(Xe=bt)||void 0===Xe?void 0:Xe.message});K.warn($t.message)}}})).apply(this,arguments)}function Gt(wt,Xe){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(wt,Xe){var bt;try{const Vt=(yield Nn()).transaction(Pn,"readwrite");return yield Vt.objectStore(Pn).put(Xe,Kn(wt)),Vt.done}catch($t){if($t instanceof me.ZR)K.warn($t.message);else{const Vt=hn.create("idb-set",{originalErrorMessage:null===(bt=$t)||void 0===bt?void 0:bt.message});K.warn(Vt.message)}}})).apply(this,arguments)}function Kn(wt){return`${wt.name}!${wt.options.appId}`}class Er{constructor(Xe){this.container=Xe,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new gn(bt),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Xe=this;return(0,u.Z)(function*(){const $t=Xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Xt();if(null===Xe._heartbeatsCache&&(Xe._heartbeatsCache=yield Xe._heartbeatsCachePromise),Xe._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Xe._heartbeatsCache.heartbeats.some(fn=>fn.date===Vt))return Xe._heartbeatsCache.heartbeats.push({date:Vt,agent:$t}),Xe._heartbeatsCache.heartbeats=Xe._heartbeatsCache.heartbeats.filter(fn=>{const ie=new Date(fn.date).valueOf();return Date.now()-ie<=2592e6}),Xe._storage.overwrite(Xe._heartbeatsCache)})()}getHeartbeatsHeader(){var Xe=this;return(0,u.Z)(function*(){if(null===Xe._heartbeatsCache&&(yield Xe._heartbeatsCachePromise),null===Xe._heartbeatsCache||0===Xe._heartbeatsCache.heartbeats.length)return"";const bt=Xt(),{heartbeatsToSend:$t,unsentEntries:Vt}=function Yr(wt,Xe=1024){const bt=[];let $t=wt.slice();for(const Vt of wt){const fn=bt.find(ie=>ie.agent===Vt.agent);if(fn){if(fn.dates.push(Vt.date),ur(bt)>Xe){fn.dates.pop();break}}else if(bt.push({agent:Vt.agent,dates:[Vt.date]}),ur(bt)>Xe){bt.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:bt,unsentEntries:$t}}(Xe._heartbeatsCache.heartbeats),fn=(0,me.L)(JSON.stringify({version:2,heartbeats:$t}));return Xe._heartbeatsCache.lastSentHeartbeatDate=bt,Vt.length>0?(Xe._heartbeatsCache.heartbeats=Vt,yield Xe._storage.overwrite(Xe._heartbeatsCache)):(Xe._heartbeatsCache.heartbeats=[],Xe._storage.overwrite(Xe._heartbeatsCache)),fn})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class gn{constructor(Xe){this.app=Xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Xe=this;return(0,u.Z)(function*(){return(yield Xe._canUseIndexedDBPromise)&&(yield function kt(wt){return Pt.apply(this,arguments)}(Xe.app))||{heartbeats:[]}})()}overwrite(Xe){var bt=this;return(0,u.Z)(function*(){var $t;if(yield bt._canUseIndexedDBPromise){const fn=yield bt.read();return Gt(bt.app,{lastSentHeartbeatDate:null!==($t=Xe.lastSentHeartbeatDate)&&void 0!==$t?$t:fn.lastSentHeartbeatDate,heartbeats:Xe.heartbeats})}})()}add(Xe){var bt=this;return(0,u.Z)(function*(){var $t;if(yield bt._canUseIndexedDBPromise){const fn=yield bt.read();return Gt(bt.app,{lastSentHeartbeatDate:null!==($t=Xe.lastSentHeartbeatDate)&&void 0!==$t?$t:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...Xe.heartbeats]})}})()}}function ur(wt){return(0,me.L)(JSON.stringify({version:2,heartbeats:wt})).length}!function Un(wt){ht(new U.wA("platform-logger",Xe=>new xe(Xe),"PRIVATE")),ht(new U.wA("heartbeat",Xe=>new Er(Xe),"PRIVATE")),Jn(he,"0.8.4",wt),Jn(he,"0.8.4","esm2017"),Jn("fire-js","")}("")},4859:(Dt,Ge,O)=>{"use strict";O.d(Ge,{H0:()=>he,wA:()=>R});var u=O(5861),U=O(2090);class R{constructor(K,Y,ee){this.name=K,this.instanceFactory=Y,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const me="[DEFAULT]";class Ie{constructor(K,Y){this.name=K,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const Y=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(Y)){const ee=new U.BH;if(this.instancesDeferred.set(Y,ee),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ae=this.getOrInitializeService({instanceIdentifier:Y});ae&&ee.resolve(ae)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(K){var Y;const ee=this.normalizeInstanceIdentifier(K?.identifier),ae=null!==(Y=K?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ge){if(ae)return null;throw ge}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function te(_e){return"EAGER"===_e.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[Y,ee]of this.instancesDeferred.entries()){const ae=this.normalizeInstanceIdentifier(Y);try{const ge=this.getOrInitializeService({instanceIdentifier:ae});ee.resolve(ge)}catch{}}}}clearInstance(K=me){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,u.Z)(function*(){const Y=Array.from(K.instances.values());yield Promise.all([...Y.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...Y.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=me){return this.instances.has(K)}getOptions(K=me){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:Y={}}=K,ee=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ae=this.getOrInitializeService({instanceIdentifier:ee,options:Y});for(const[ge,fe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ge)&&fe.resolve(ae);return ae}onInit(K,Y){var ee;const ae=this.normalizeInstanceIdentifier(Y),ge=null!==(ee=this.onInitCallbacks.get(ae))&&void 0!==ee?ee:new Set;ge.add(K),this.onInitCallbacks.set(ae,ge);const fe=this.instances.get(ae);return fe&&K(fe,ae),()=>{ge.delete(K)}}invokeOnInitCallbacks(K,Y){const ee=this.onInitCallbacks.get(Y);if(ee)for(const ae of ee)try{ae(K,Y)}catch{}}getOrInitializeService({instanceIdentifier:K,options:Y={}}){let ee=this.instances.get(K);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=K,_e===me?void 0:_e),options:Y}),this.instances.set(K,ee),this.instancesOptions.set(K,Y),this.invokeOnInitCallbacks(ee,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ee)}catch{}var _e;return ee||null}normalizeInstanceIdentifier(K=me){return this.component?this.component.multipleInstances?K:me:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const Y=this.getProvider(K.name);if(Y.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);Y.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const Y=new Ie(K,this);return this.providers.set(K,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Am:()=>_e,Ub:()=>he,Yd:()=>te,in:()=>U});const u=[];var U=(()=>{return(K=U||(U={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",U;var K})();const R={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},me=U.INFO,Ie={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},xe=(K,Y,...ee)=>{if(Y<K.logLevel)return;const ae=(new Date).toISOString(),ge=Ie[Y];if(!ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ge](`[${ae}]  ${K.name}:`,...ee)};class te{constructor(Y){this.name=Y,this._logLevel=me,this._logHandler=xe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in U))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?R[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...Y),this._logHandler(this,U.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...Y),this._logHandler(this,U.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,U.INFO,...Y),this._logHandler(this,U.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,U.WARN,...Y),this._logHandler(this,U.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...Y),this._logHandler(this,U.ERROR,...Y)}}function he(K){u.forEach(Y=>{Y.setLogLevel(K)})}function _e(K,Y){for(const ee of u){let ae=null;Y&&Y.level&&(ae=R[Y.level]),ee.userLogHandler=null===K?null:(ge,fe,...He)=>{const ne=He.map(B=>{if(null==B)return null;if("string"==typeof B)return B;if("number"==typeof B||"boolean"==typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch{return null}}).filter(B=>B).join(" ");fe>=(ae??ge.logLevel)&&K({level:U[fe].toLowerCase(),message:ne,args:He,type:ge.name})}}}},8766:(Dt,Ge,O)=>{"use strict";O.d(Ge,{Lj:()=>Se,X3:()=>Ue});var u=O(5861);let R,me;const te=new WeakMap,he=new WeakMap,_e=new WeakMap,K=new WeakMap,Y=new WeakMap;let ge={get(re,de,G){if(re instanceof IDBTransaction){if("done"===de)return he.get(re);if("objectStoreNames"===de)return re.objectStoreNames||_e.get(re);if("store"===de)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return B(re[de])},set:(re,de,G)=>(re[de]=G,!0),has:(re,de)=>re instanceof IDBTransaction&&("done"===de||"store"===de)||de in re};function ne(re){return"function"==typeof re?function He(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...de){return re.apply(Pe(this),de),B(te.get(this))}:function(...de){return B(re.apply(Pe(this),de))}:function(de,...G){const V=re.call(Pe(this),de,...G);return _e.set(V,de.sort?de.sort():[de]),B(V)}}(re):(re instanceof IDBTransaction&&function ae(re){if(he.has(re))return;const de=new Promise((G,V)=>{const W=()=>{re.removeEventListener("complete",Z),re.removeEventListener("error",Le),re.removeEventListener("abort",Le)},Z=()=>{G(),W()},Le=()=>{V(re.error||new DOMException("AbortError","AbortError")),W()};re.addEventListener("complete",Z),re.addEventListener("error",Le),re.addEventListener("abort",Le)});he.set(re,de)}(re),((re,de)=>de.some(G=>re instanceof G))(re,function Ie(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ge):re)}function B(re){if(re instanceof IDBRequest)return function ee(re){const de=new Promise((G,V)=>{const W=()=>{re.removeEventListener("success",Z),re.removeEventListener("error",Le)},Z=()=>{G(B(re.result)),W()},Le=()=>{V(re.error),W()};re.addEventListener("success",Z),re.addEventListener("error",Le)});return de.then(G=>{G instanceof IDBCursor&&te.set(G,re)}).catch(()=>{}),Y.set(de,re),de}(re);if(K.has(re))return K.get(re);const de=ne(re);return de!==re&&(K.set(re,de),Y.set(de,re)),de}const Pe=re=>Y.get(re);function Ue(re,de,{blocked:G,upgrade:V,blocking:W,terminated:Z}={}){const Le=indexedDB.open(re,de),qe=B(Le);return V&&Le.addEventListener("upgradeneeded",ut=>{V(B(Le.result),ut.oldVersion,ut.newVersion,B(Le.transaction))}),G&&Le.addEventListener("blocked",()=>G()),qe.then(ut=>{Z&&ut.addEventListener("close",()=>Z()),W&&ut.addEventListener("versionchange",()=>W())}).catch(()=>{}),qe}function Se(re,{blocked:de}={}){const G=indexedDB.deleteDatabase(re);return de&&G.addEventListener("blocked",()=>de()),B(G).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],oe=new Map;function z(re,de){if(!(re instanceof IDBDatabase)||de in re||"string"!=typeof de)return;if(oe.get(de))return oe.get(de);const G=de.replace(/FromIndex$/,""),V=de!==G,W=we.includes(G);if(!(G in(V?IDBIndex:IDBObjectStore).prototype)||!W&&!Te.includes(G))return;const Z=function(){var Le=(0,u.Z)(function*(qe,...ut){const $e=this.transaction(qe,W?"readwrite":"readonly");let be=$e.store;return V&&(be=be.index(ut.shift())),(yield Promise.all([be[G](...ut),W&&$e.done]))[0]});return function(ut){return Le.apply(this,arguments)}}();return oe.set(de,Z),Z}!function fe(re){ge=re(ge)}(re=>({...re,get:(de,G,V)=>z(de,G)||re.get(de,G,V),has:(de,G)=>!!z(de,G)||re.has(de,G)}))},5861:(Dt,Ge,O)=>{"use strict";function u(R,me,Ie,xe,te,he,_e){try{var K=R[he](_e),Y=K.value}catch(ee){return void Ie(ee)}K.done?me(Y):Promise.resolve(Y).then(xe,te)}function U(R){return function(){var me=this,Ie=arguments;return new Promise(function(xe,te){var he=R.apply(me,Ie);function _e(Y){u(he,xe,te,_e,K,"next",Y)}function K(Y){u(he,xe,te,_e,K,"throw",Y)}_e(void 0)})}}O.d(Ge,{Z:()=>U})}},Dt=>{Dt(Dt.s=4850)}]);